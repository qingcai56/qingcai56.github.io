<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>GoF_å¯¹è±¡åˆ›å»ºæ¨¡å¼</title>
    <link href="/2021/01/27/GoF-%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%BC%8F/"/>
    <url>/2021/01/27/GoF-%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="å¯¹è±¡åˆ›å»ºâ€-æ¨¡å¼"><a href="#å¯¹è±¡åˆ›å»ºâ€-æ¨¡å¼" class="headerlink" title="å¯¹è±¡åˆ›å»ºâ€ æ¨¡å¼"></a>å¯¹è±¡åˆ›å»ºâ€ æ¨¡å¼</h1><p>é€šè¿‡â€œå¯¹è±¡åˆ›å»ºâ€ æ¨¡å¼ç»•å¼€newï¼Œæ¥<strong>é¿å…å¯¹è±¡åˆ›å»ºï¼ˆnewï¼‰è¿‡ç¨‹ä¸­æ‰€å¯¼è‡´çš„ç´§è€¦åˆ</strong>ï¼ˆä¾èµ–å…·ä½“ç±»ï¼‰ï¼Œä»è€Œæ”¯æŒå¯¹è±¡åˆ›å»ºçš„ç¨³å®šã€‚å®ƒæ˜¯æ¥å£æŠ½è±¡ä¹‹åçš„ç¬¬ä¸€æ­¥å·¥ä½œã€‚</p><p><strong>å…¸å‹æ¨¡å¼</strong>ï¼š</p><ul><li>Factory Method</li><li>Abstract Factory</li><li>Prototype</li><li>Builder</li></ul><h2 id="ğŸŒ¿Factory-Methodï¼ˆå·¥å‚æ–¹æ³•ï¼‰"><a href="#ğŸŒ¿Factory-Methodï¼ˆå·¥å‚æ–¹æ³•ï¼‰" class="headerlink" title="ğŸŒ¿Factory Methodï¼ˆå·¥å‚æ–¹æ³•ï¼‰"></a>ğŸŒ¿Factory Methodï¼ˆå·¥å‚æ–¹æ³•ï¼‰</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>å®šä¹‰ä¸€ä¸ªç”¨äº<strong>åˆ›å»ºå¯¹è±¡çš„æ¥å£</strong>ï¼Œè®©<strong>å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»</strong>ã€‚ Factory Methodä½¿å¾—ä¸€ä¸ªç±»çš„<strong>å®ä¾‹åŒ–å»¶è¿Ÿ</strong>ï¼ˆ<strong>ç›®çš„ï¼šè§£è€¦ï¼Œ æ‰‹æ®µï¼šè™šå‡½æ•°</strong>ï¼‰åˆ°å­ç±»ã€‚</p><h3 id="åŠ¨æœº"><a href="#åŠ¨æœº" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><ul><li>åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œç»å¸¸é¢ä¸´ç€åˆ›å»ºå¯¹è±¡çš„å·¥ä½œï¼›ç”±äºéœ€æ±‚çš„å˜åŒ–ï¼Œ <strong>éœ€è¦åˆ›å»ºçš„å¯¹è±¡çš„å…·ä½“ç±»å‹ç»å¸¸å˜åŒ–</strong>ã€‚</li><li>å¦‚ä½•åº”å¯¹è¿™ç§å˜åŒ–ï¼Ÿå¦‚ä½•ç»•è¿‡å¸¸è§„çš„å¯¹è±¡åˆ›å»ºæ–¹æ³•(new)ï¼Œæä¾›ä¸€ ç§â€œå°è£…æœºåˆ¶â€æ¥é¿å…å®¢æˆ·ç¨‹åºå’Œè¿™ç§â€œå…·ä½“å¯¹è±¡åˆ›å»ºå·¥ä½œâ€çš„ç´§è€¦åˆï¼Ÿ</li></ul><h3 id="æ ·ä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰"><a href="#æ ·ä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰" class="headerlink" title="æ ·ä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰"></a>æ ·ä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 1</span><br><span class="hljs-comment">/*FileSplitter1.cpp*/</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ISplitter</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">split</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">virtual</span> ~ISplitter()&#123;&#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BinarySplitter</span> :</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TxtSplitter</span>:</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PictureSplitter</span>:</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VideoSplitter</span>:</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-comment">/*****************************************************/</span><br><span class="hljs-comment">/*MainForm1.cpp*/</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainForm</span> :</span> <span class="hljs-keyword">public</span> Form<br>&#123;<br>TextBox* txtFilePath;<br>TextBox* txtFileNumber;<br>ProgressBar* progressBar;<br><br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Button1_Click</span><span class="hljs-params">()</span></span>&#123;<br><br><br><span class="hljs-comment">//ISplitter é¢å‘æ¥å£ç¼–ç¨‹</span><br>        <span class="hljs-comment">//ä¾èµ–å…·ä½“ç±»,æŠ½è±¡ä¾èµ–å…·ä½“å®ç°ï¼Œå³BinarySplitter</span><br>ISplitter * splitter=<br>            <span class="hljs-keyword">new</span> BinarySplitter();<br>        <br>        splitter-&gt;split();<br><br>&#125;<br>&#125;;<br></code></pre></td></tr></table></figure><blockquote><p>æ–¹æ³•ä¸€ä¸­ MainForm1ç¼–è¯‘ä¾èµ–äºFileSplitter1ï¼Œè¿åä¾èµ–å€’ç½®åŸåˆ™ï¼Œå½“éœ€è¦åˆ›å»ºçš„å¯¹è±¡æ”¹å˜æ—¶ï¼ŒMainForm1.cppæ–‡ä»¶ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 2</span><br><span class="hljs-comment">/*ISplitterFactory.cpp*/</span><br><span class="hljs-comment">//æŠ½è±¡ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ISplitter</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">split</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">virtual</span> ~ISplitter()&#123;&#125;<br>&#125;;<br><br><br><span class="hljs-comment">//å·¥å‚åŸºç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SplitterFactory</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ISplitter* <span class="hljs-title">CreateSplitter</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">virtual</span> ~SplitterFactory()&#123;&#125;<br>&#125;;<br><br><span class="hljs-comment">/*********************************************************************/</span><br><span class="hljs-comment">/*ISplitter.cpp*/</span><br><span class="hljs-comment">//å…·ä½“ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BinarySplitter</span> :</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TxtSplitter</span>:</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PictureSplitter</span>:</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VideoSplitter</span>:</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-comment">//å…·ä½“å·¥å‚</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BinarySplitterFactory</span>:</span> <span class="hljs-keyword">public</span> SplitterFactory&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ISplitter* <span class="hljs-title">CreateSplitter</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BinarySplitter();<br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TxtSplitterFactory</span>:</span> <span class="hljs-keyword">public</span> SplitterFactory&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ISplitter* <span class="hljs-title">CreateSplitter</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TxtSplitter();<br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PictureSplitterFactory</span>:</span> <span class="hljs-keyword">public</span> SplitterFactory&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ISplitter* <span class="hljs-title">CreateSplitter</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PictureSplitter();<br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VideoSplitterFactory</span>:</span> <span class="hljs-keyword">public</span> SplitterFactory&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ISplitter* <span class="hljs-title">CreateSplitter</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> VideoSplitter();<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">/************************************************************************/</span><br><span class="hljs-comment">/*MainForm2.cpp*/</span><br><span class="hljs-comment">// ï¼ï¼ï¼MainFormç°åœ¨åªä¾èµ–æŠ½è±¡åŸºç±»ï¼Œä¸ä¾èµ–å…·ä½“ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainForm</span> :</span> <span class="hljs-keyword">public</span> Form<br>&#123;<br>    SplitterFactory*  factory;<span class="hljs-comment">//å·¥å‚</span><br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">//åªä¾èµ–ä¸å¤–ç•Œä¼ æ¥çš„Splitterç±»å‹ï¼Œæ ¹æ®å¤–ç•Œä¼ æ¥çš„ç±»å‹å¤šæ€åˆ›å»º</span><br>    MainForm(SplitterFactory*  factory)&#123;<br>        <span class="hljs-keyword">this</span>-&gt;factory=factory;<br>    &#125;<br>    <br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Button1_Click</span><span class="hljs-params">()</span></span>&#123;<br><br>        <br>ISplitter * splitter=<br>            factory-&gt;CreateSplitter(); <span class="hljs-comment">//å¤šæ€new</span><br>        <br>        splitter-&gt;split();<br><br>&#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h3><p><img src="D:\blog\source\_posts\GoF-å¯¹è±¡åˆ›å»ºæ¨¡å¼\structrue.png" alt="image-20210127113808383"></p><h3 id="è¦ç‚¹æ€»ç»“"><a href="#è¦ç‚¹æ€»ç»“" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>Factory Methodæ¨¡å¼ç”¨äº<strong>éš”ç¦»ç±»å¯¹è±¡çš„ä½¿ç”¨è€…å’Œå…·ä½“ç±»å‹ä¹‹é—´çš„è€¦åˆå…³ç³»</strong>ã€‚é¢å¯¹ä¸€ä¸ªç»å¸¸å˜åŒ–çš„å…·ä½“ç±»å‹ï¼Œç´§è€¦åˆå…³ç³»(new)ä¼šå¯¼è‡´è½¯ä»¶çš„è„†å¼±ã€‚</li><li>Factory Methodæ¨¡å¼é€šè¿‡é¢å‘å¯¹è±¡çš„æ‰‹æ³•ï¼ˆ<strong>å¤šæ€</strong>ï¼‰ï¼Œå°†æ‰€è¦åˆ›å»ºçš„<strong>å…·ä½“å¯¹è±¡å·¥ä½œå»¶è¿Ÿåˆ°å­ç±»</strong>ï¼Œä»è€Œå®ç°ä¸€ç§<strong>æ‰©å±•ï¼ˆè€Œéæ›´æ”¹ï¼‰</strong>çš„ç­–ç•¥ï¼Œè¾ƒå¥½ åœ°è§£å†³äº†è¿™ç§ç´§è€¦åˆå…³ç³»ã€‚ </li><li>Factory Methodæ¨¡å¼è§£å†³â€œå•ä¸ªå¯¹è±¡â€çš„éœ€æ±‚å˜åŒ–ã€‚ç¼ºç‚¹åœ¨äºè¦æ±‚<strong>åˆ›å»ºæ–¹æ³•/å‚æ•°ç›¸åŒ</strong>ã€‚</li></ul><h2 id="ğŸŒ¿Abstract-Factory-æŠ½è±¡å·¥å‚"><a href="#ğŸŒ¿Abstract-Factory-æŠ½è±¡å·¥å‚" class="headerlink" title="ğŸŒ¿Abstract Factory æŠ½è±¡å·¥å‚"></a>ğŸŒ¿Abstract Factory æŠ½è±¡å·¥å‚</h2><h3 id="å®šä¹‰-1"><a href="#å®šä¹‰-1" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>æä¾›ä¸€ä¸ªæ¥å£ï¼Œè®©è¯¥æ¥å£è´Ÿè´£åˆ›å»º<strong>ä¸€ç³»åˆ—â€œç›¸å…³æˆ–è€…ç›¸äº’ä¾èµ–çš„å¯¹è±¡â€</strong>ï¼Œæ— éœ€æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±»ã€‚</p><h3 id="åŠ¨æœº-1"><a href="#åŠ¨æœº-1" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><p>åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œç»å¸¸é¢ä¸´ç€â€œ<strong>ä¸€ç³»åˆ—ç›¸äº’ä¾èµ–çš„å¯¹è±¡</strong>â€çš„åˆ›å»ºå·¥ä½œï¼›åŒæ—¶ï¼Œç”±äºéœ€æ±‚çš„å˜åŒ–ï¼Œå¾€å¾€å­˜åœ¨æ›´å¤šç³»åˆ—å¯¹è±¡çš„åˆ›å»ºå·¥ä½œã€‚ </p><p>å¦‚ä½•åº”å¯¹è¿™ç§å˜åŒ–ï¼Ÿå¦‚ä½•ç»•è¿‡å¸¸è§„çš„å¯¹è±¡åˆ›å»ºæ–¹æ³•(new)ï¼Œæä¾›ä¸€ ç§â€œå°è£…æœºåˆ¶â€æ¥é¿å…å®¢æˆ·ç¨‹åºå’Œè¿™ç§â€œå¤šç³»åˆ—å…·ä½“å¯¹è±¡åˆ›å»ºå·¥ä½œâ€ çš„ç´§è€¦åˆï¼Ÿ</p><h3 id="æ ·ä¾‹ğŸ‘‡ï¼ˆå†™æ•°æ®è®¿é—®ï¼‰"><a href="#æ ·ä¾‹ğŸ‘‡ï¼ˆå†™æ•°æ®è®¿é—®ï¼‰" class="headerlink" title="æ ·ä¾‹ğŸ‘‡ï¼ˆå†™æ•°æ®è®¿é—®ï¼‰"></a>æ ·ä¾‹ğŸ‘‡ï¼ˆå†™æ•°æ®è®¿é—®ï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 1 ç›´æ¥åˆ›å»º</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EmployeeDAO</span>&#123;</span><br>    <br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;EmployeeDO&gt; <span class="hljs-title">GetEmployees</span><span class="hljs-params">()</span></span>&#123;<br>        SqlConnection* connection =<br>            <span class="hljs-keyword">new</span> SqlConnection();<br>        connection-&gt;ConnectionString = <span class="hljs-string">&quot;...&quot;</span>;<br><br>        SqlCommand* command =<br>            <span class="hljs-keyword">new</span> SqlCommand();<br>        command-&gt;CommandText=<span class="hljs-string">&quot;...&quot;</span>;<br>        command-&gt;SetConnection(connection);<br><br>        SqlDataReader* reader = command-&gt;ExecuteReader();<br>        <span class="hljs-keyword">while</span> (reader-&gt;Read())&#123;<br><br>        &#125;<br><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// method 2 å·¥å‚æ–¹æ³•</span><br><span class="hljs-comment">//æ•°æ®åº“è®¿é—®æœ‰å…³çš„åŸºç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDBConnection</span>&#123;</span><br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDBConnectionFactory</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDBConnection* <span class="hljs-title">CreateDBConnection</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDBCommand</span>&#123;</span><br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDBCommandFactory</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDBCommand* <span class="hljs-title">CreateDBCommand</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDataReader</span>&#123;</span><br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDataReaderFactory</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDataReader* <span class="hljs-title">CreateDataReader</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>&#125;;<br><br><br><span class="hljs-comment">//å…·ä½“å®ç°</span><br><br><span class="hljs-comment">//æ”¯æŒSQL Server</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlConnection</span>:</span> <span class="hljs-keyword">public</span> IDBConnection&#123;<br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlConnectionFactory</span>:</span><span class="hljs-keyword">public</span> IDBConnectionFactory&#123;<br>    <br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlCommand</span>:</span> <span class="hljs-keyword">public</span> IDBCommand&#123;<br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlCommandFactory</span>:</span><span class="hljs-keyword">public</span> IDBCommandFactory&#123;<br>    <br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlDataReader</span>:</span> <span class="hljs-keyword">public</span> IDataReader&#123;<br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlDataReaderFactory</span>:</span><span class="hljs-keyword">public</span> IDataReaderFactory&#123;<br>    <br>&#125;;<br><br><span class="hljs-comment">//æ”¯æŒOracle</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OracleConnection</span>:</span> <span class="hljs-keyword">public</span> IDBConnection&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OracleCommand</span>:</span> <span class="hljs-keyword">public</span> IDBCommand&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OracleDataReader</span>:</span> <span class="hljs-keyword">public</span> IDataReader&#123;<br>    <br>&#125;;<br><br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EmployeeDAO</span>&#123;</span><br>    IDBConnectionFactory* dbConnectionFactory;<br>    IDBCommandFactory* dbCommandFactory;<br>    IDataReaderFactory* dataReaderFactory;<br>    <br>    <br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;EmployeeDO&gt; <span class="hljs-title">GetEmployees</span><span class="hljs-params">()</span></span>&#123;<br>        IDBConnection* connection =<br>            dbConnectionFactory-&gt;CreateDBConnection();<br>        connection-&gt;ConnectionString(<span class="hljs-string">&quot;...&quot;</span>);<br><br>        IDBCommand* command =<br>            dbCommandFactory-&gt;CreateDBCommand();<br>        command-&gt;CommandText(<span class="hljs-string">&quot;...&quot;</span>);<br>        command-&gt;SetConnection(connection); <span class="hljs-comment">//å…³è”æ€§</span><br><br>        IDBDataReader* reader = command-&gt;ExecuteReader(); <span class="hljs-comment">//å…³è”æ€§</span><br>        <span class="hljs-keyword">while</span> (reader-&gt;Read())&#123;<br><br>        &#125;<br><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><blockquote><p>é—®é¢˜ dbConnectionã€dbCommandã€dataReaderå­˜åœ¨å…³è”æ€§ï¼Œå¦‚æœä¼ è¿‡æ¥çš„å‚æ•°ä¸ä¸€æ ·æ€ä¹ˆåŠï¼Ÿ</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// Method 3 æŠ½è±¡å·¥å‚ï¼ˆfamilyï¼‰</span><br><span class="hljs-comment">//æ•°æ®åº“è®¿é—®æœ‰å…³çš„åŸºç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDBConnection</span>&#123;</span><br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDBCommand</span>&#123;</span><br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDataReader</span>&#123;</span><br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDBFactory</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDBConnection* <span class="hljs-title">CreateDBConnection</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDBCommand* <span class="hljs-title">CreateDBCommand</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDataReader* <span class="hljs-title">CreateDataReader</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <br>&#125;;<br><br><span class="hljs-comment">//å…·ä½“å®ç°</span><br><span class="hljs-comment">//æ”¯æŒSQL Server</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlConnection</span>:</span> <span class="hljs-keyword">public</span> IDBConnection&#123;<br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlCommand</span>:</span> <span class="hljs-keyword">public</span> IDBCommand&#123;<br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlDataReader</span>:</span> <span class="hljs-keyword">public</span> IDataReader&#123;<br>    <br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlDBFactory</span>:</span><span class="hljs-keyword">public</span> IDBFactory&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDBConnection* <span class="hljs-title">CreateDBConnection</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDBCommand* <span class="hljs-title">CreateDBCommand</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDataReader* <span class="hljs-title">CreateDataReader</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br> <br>&#125;;<br><br><span class="hljs-comment">//æ”¯æŒOracle</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OracleConnection</span>:</span> <span class="hljs-keyword">public</span> IDBConnection&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OracleCommand</span>:</span> <span class="hljs-keyword">public</span> IDBCommand&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OracleDataReader</span>:</span> <span class="hljs-keyword">public</span> IDataReader&#123;<br>    <br>&#125;;<br><br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EmployeeDAO</span>&#123;</span><br>    IDBFactory* dbFactory;<br>    <br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;EmployeeDO&gt; <span class="hljs-title">GetEmployees</span><span class="hljs-params">()</span></span>&#123;<br>        IDBConnection* connection =<br>            dbFactory-&gt;CreateDBConnection();<br>        connection-&gt;ConnectionString(<span class="hljs-string">&quot;...&quot;</span>);<br><br>        IDBCommand* command =<br>            dbFactory-&gt;CreateDBCommand();<br>        command-&gt;CommandText(<span class="hljs-string">&quot;...&quot;</span>);<br>        command-&gt;SetConnection(connection); <span class="hljs-comment">//å…³è”æ€§</span><br><br>        IDBDataReader* reader = command-&gt;ExecuteReader(); <span class="hljs-comment">//å…³è”æ€§</span><br>        <span class="hljs-keyword">while</span> (reader-&gt;Read())&#123;<br><br>        &#125;<br><br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h3 id="ç»“æ„-1"><a href="#ç»“æ„-1" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h3><p><img src="D:\blog\source\_posts\GoF-å¯¹è±¡åˆ›å»ºæ¨¡å¼\structrue2.png" alt="image-20210127120034903"></p><h3 id="è¦ç‚¹æ€»ç»“-1"><a href="#è¦ç‚¹æ€»ç»“-1" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>å¦‚æœ<strong>æ²¡æœ‰åº”å¯¹â€œå¤šç³»åˆ—å¯¹è±¡æ„å»ºâ€</strong>çš„éœ€æ±‚å˜åŒ–ï¼Œåˆ™æ²¡æœ‰å¿…è¦ä½¿ç”¨Abstract Factoryæ¨¡å¼ï¼Œè¿™æ—¶å€™ä½¿ç”¨ç®€å•çš„å·¥å‚å®Œå…¨å¯ä»¥ã€‚</li><li>â€œç³»åˆ—å¯¹è±¡â€æŒ‡çš„æ˜¯åœ¨æŸä¸€ç‰¹å®šç³»åˆ—ä¸‹çš„å¯¹è±¡ä¹‹é—´<strong>æœ‰ç›¸äº’ä¾èµ–ã€ æˆ–ä½œç”¨çš„å…³ç³»</strong>ã€‚ä¸åŒç³»åˆ—çš„å¯¹è±¡ä¹‹é—´ä¸èƒ½ç›¸äº’ä¾èµ–ã€‚ </li><li>Abstract Factoryæ¨¡å¼ä¸»è¦åœ¨äº<strong>åº”å¯¹â€œæ–°ç³»åˆ—â€</strong>çš„éœ€æ±‚å˜åŠ¨ã€‚å…¶ç¼º ç‚¹åœ¨äº<strong>éš¾ä»¥åº”å¯¹â€œæ–°å¯¹è±¡â€</strong>çš„éœ€æ±‚å˜åŠ¨ã€‚</li></ul><h2 id="ğŸŒ¿Decorator"><a href="#ğŸŒ¿Decorator" class="headerlink" title="ğŸŒ¿Decorator"></a>ğŸŒ¿Decorator</h2><h3 id="å®šä¹‰-2"><a href="#å®šä¹‰-2" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><h3 id="åŠ¨æœº-2"><a href="#åŠ¨æœº-2" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><h3 id="æ ·ä¾‹"><a href="#æ ·ä¾‹" class="headerlink" title="æ ·ä¾‹"></a>æ ·ä¾‹</h3><h3 id="ç»“æ„-2"><a href="#ç»“æ„-2" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h3><h3 id="è¦ç‚¹æ€»ç»“-2"><a href="#è¦ç‚¹æ€»ç»“-2" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><h2 id="ğŸŒ¿Decorator-1"><a href="#ğŸŒ¿Decorator-1" class="headerlink" title="ğŸŒ¿Decorator"></a>ğŸŒ¿Decorator</h2><h3 id="å®šä¹‰-3"><a href="#å®šä¹‰-3" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><h3 id="åŠ¨æœº-3"><a href="#åŠ¨æœº-3" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><h3 id="æ ·ä¾‹-1"><a href="#æ ·ä¾‹-1" class="headerlink" title="æ ·ä¾‹"></a>æ ·ä¾‹</h3><h3 id="ç»“æ„-3"><a href="#ç»“æ„-3" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h3><h3 id="è¦ç‚¹æ€»ç»“-3"><a href="#è¦ç‚¹æ€»ç»“-3" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3>]]></content>
    
    
    
    <tags>
      
      <tag>-è®¾è®¡æ¨¡å¼ -cpp -æå»ºå¿ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GoF_å•ä¸€èŒè´£</title>
    <link href="/2021/01/24/GoF-%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3/"/>
    <url>/2021/01/24/GoF-%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3/</url>
    
    <content type="html"><![CDATA[<h1 id="â€œå•ä¸€èŒè´£â€æ¨¡å¼"><a href="#â€œå•ä¸€èŒè´£â€æ¨¡å¼" class="headerlink" title="â€œå•ä¸€èŒè´£â€æ¨¡å¼"></a>â€œå•ä¸€èŒè´£â€æ¨¡å¼</h1><p>åœ¨è½¯ä»¶ç»„ä»¶çš„è®¾è®¡ä¸­ï¼Œå¦‚æœè´£ä»»åˆ’åˆ†çš„ä¸æ¸…æ™°ï¼Œä½¿ç”¨ç»§æ‰¿å¾—åˆ°çš„ç»“æœå¾€å¾€æ˜¯éšç€éœ€æ±‚çš„å˜åŒ–ï¼Œå­ç±»æ€¥å‰§è†¨èƒ€ï¼ŒåŒæ—¶å……æ–¥ç€é‡å¤ä»£ç ï¼Œ è¿™æ—¶å€™çš„å…³é”®æ˜¯åˆ’æ¸…è´£ä»»ã€‚</p><p><strong>å…¸å‹æ¨¡å¼:</strong></p><ul><li>Decorator</li><li>Bridge</li></ul><h2 id="ğŸŒ¿Decorator"><a href="#ğŸŒ¿Decorator" class="headerlink" title="ğŸŒ¿Decorator"></a>ğŸŒ¿Decorator</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>åŠ¨æ€ï¼ˆç»„åˆï¼‰åœ°ç»™ä¸€ä¸ªå¯¹è±¡å¢åŠ ä¸€äº›é¢å¤–çš„èŒè´£ã€‚<strong>å°±å¢åŠ åŠŸèƒ½è€Œè¨€ï¼ŒDecoratoræ¨¡å¼æ¯”ç”Ÿæˆå­ç±»ï¼ˆç»§æ‰¿ï¼‰æ›´ä¸ºçµæ´»</strong>ï¼ˆæ¶ˆé™¤é‡å¤ä»£ç  &amp; å‡å°‘å­ç±»ä¸ªæ•°ï¼‰ã€‚</p><h3 id="åŠ¨æœºï¼ˆMotivationï¼‰"><a href="#åŠ¨æœºï¼ˆMotivationï¼‰" class="headerlink" title="åŠ¨æœºï¼ˆMotivationï¼‰"></a>åŠ¨æœºï¼ˆMotivationï¼‰</h3><ul><li>åœ¨æŸäº›æƒ…å†µä¸‹æˆ‘ä»¬å¯èƒ½ä¼šâ€œ<strong>è¿‡åº¦åœ°ä½¿ç”¨ç»§æ‰¿æ¥æ‰©å±•å¯¹è±¡çš„åŠŸèƒ½</strong>â€ ï¼Œ ç”±äºç»§æ‰¿ä¸ºç±»å‹å¼•å…¥çš„<strong>é™æ€ç‰¹è´¨</strong>ï¼ˆä¿®æ”¹æ¢æˆæŒ‡é’ˆå¤šæ€å®ç°ï¼‰ï¼Œä½¿å¾—è¿™ç§æ‰©å±•æ–¹å¼ç¼ºä¹çµæ´»æ€§ï¼› å¹¶ä¸”éšç€å­ç±»çš„å¢å¤šï¼ˆæ‰©å±•åŠŸèƒ½çš„å¢å¤šï¼‰ï¼Œå„ç§å­ç±»çš„ç»„åˆï¼ˆæ‰©å±•åŠŸèƒ½çš„ç»„åˆï¼‰ä¼šå¯¼è‡´æ›´å¤šå­ç±»çš„è†¨èƒ€ã€‚</li><li>å¦‚ä½•ä½¿â€œå¯¹è±¡åŠŸèƒ½çš„æ‰©å±•â€èƒ½å¤Ÿæ ¹æ®éœ€è¦æ¥åŠ¨æ€åœ°å®ç°ï¼ŸåŒæ—¶é¿ å…â€œæ‰©å±•åŠŸèƒ½çš„å¢å¤šâ€å¸¦æ¥çš„å­ç±»è†¨èƒ€é—®é¢˜ï¼Ÿä»è€Œä½¿å¾—ä»»ä½•â€œåŠŸèƒ½ æ‰©å±•å˜åŒ–â€æ‰€å¯¼è‡´çš„å½±å“å°†ä¸ºæœ€ä½ï¼Ÿ</li></ul><h3 id="æ ·ä¾‹ğŸ‘‡ï¼ˆstreamæ“ä½œï¼‰"><a href="#æ ·ä¾‹ğŸ‘‡ï¼ˆstreamæ“ä½œï¼‰" class="headerlink" title="æ ·ä¾‹ğŸ‘‡ï¼ˆstreamæ“ä½œï¼‰"></a>æ ·ä¾‹ğŸ‘‡ï¼ˆstreamæ“ä½œï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//ä¸šåŠ¡æ“ä½œ method 1</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Stream</span>&#123;</span><br><span class="hljs-keyword">public</span>ï¼š<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>=<span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">virtual</span> ~Stream()&#123;&#125;<br>&#125;;<br><br><span class="hljs-comment">//ä¸»ä½“ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileStream</span>:</span> <span class="hljs-keyword">public</span> Stream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <span class="hljs-comment">//è¯»æ–‡ä»¶æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//å®šä½æ–‡ä»¶æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>&#123;<br>        <span class="hljs-comment">//å†™æ–‡ä»¶æµ</span><br>    &#125;<br><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NetworkStream</span> :</span><span class="hljs-keyword">public</span> Stream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <span class="hljs-comment">//è¯»ç½‘ç»œæµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//å®šä½ç½‘ç»œæµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>&#123;<br>        <span class="hljs-comment">//å†™ç½‘ç»œæµ</span><br>    &#125;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MemoryStream</span> :</span><span class="hljs-keyword">public</span> Stream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <span class="hljs-comment">//è¯»å†…å­˜æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//å®šä½å†…å­˜æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>&#123;<br>        <span class="hljs-comment">//å†™å†…å­˜æµ</span><br>    &#125;<br>    <br>&#125;;<br><br><span class="hljs-comment">//æ‰©å±•æ“ä½œ</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CryptoFileStream</span> :</span><span class="hljs-keyword">public</span> FileStream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>       <br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        FileStream::Read(number);<span class="hljs-comment">//è¯»æ–‡ä»¶æµ</span><br>        <br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        FileStream::Seek(position);<span class="hljs-comment">//å®šä½æ–‡ä»¶æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(byte data)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        FileStream::Write(data);<span class="hljs-comment">//å†™æ–‡ä»¶æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CryptoNetworkStream</span> :</span> :<span class="hljs-keyword">public</span> NetworkStream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        NetworkStream::Read(number);<span class="hljs-comment">//è¯»ç½‘ç»œæµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        NetworkStream::Seek(position);<span class="hljs-comment">//å®šä½ç½‘ç»œæµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(byte data)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        NetworkStream::Write(data);<span class="hljs-comment">//å†™ç½‘ç»œæµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CryptoMemoryStream</span> :</span> <span class="hljs-keyword">public</span> MemoryStream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        MemoryStream::Read(number);<span class="hljs-comment">//è¯»å†…å­˜æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        MemoryStream::Seek(position);<span class="hljs-comment">//å®šä½å†…å­˜æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(byte data)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        MemoryStream::Write(data);<span class="hljs-comment">//å†™å†…å­˜æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BufferedFileStream</span> :</span> <span class="hljs-keyword">public</span> FileStream&#123;<br>    <span class="hljs-comment">//...</span><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BufferedNetworkStream</span> :</span> <span class="hljs-keyword">public</span> NetworkStream&#123;<br>    <span class="hljs-comment">//...</span><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BufferedMemoryStream</span> :</span> <span class="hljs-keyword">public</span> MemoryStream&#123;<br>    <span class="hljs-comment">//...</span><br>&#125;<br><br><br><br><span class="hljs-comment">//å³åŠ å¯†åˆç¼“å†²</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CryptoBufferedFileStream</span> :</span><span class="hljs-keyword">public</span> FileStream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        <span class="hljs-comment">//é¢å¤–çš„ç¼“å†²æ“ä½œ...</span><br>        FileStream::Read(number);<span class="hljs-comment">//è¯»æ–‡ä»¶æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        <span class="hljs-comment">//é¢å¤–çš„ç¼“å†²æ“ä½œ...</span><br>        FileStream::Seek(position);<span class="hljs-comment">//å®šä½æ–‡ä»¶æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        <span class="hljs-comment">//é¢å¤–çš„ç¼“å†²æ“ä½œ...</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(byte data)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        <span class="hljs-comment">//é¢å¤–çš„ç¼“å†²æ“ä½œ...</span><br>        FileStream::Write(data);<span class="hljs-comment">//å†™æ–‡ä»¶æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        <span class="hljs-comment">//é¢å¤–çš„ç¼“å†²æ“ä½œ...</span><br>    &#125;<br>&#125;;<br><br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Process</span><span class="hljs-params">()</span></span>&#123;<br><br>        <span class="hljs-comment">//ç¼–è¯‘æ—¶è£…é…</span><br>    CryptoFileStream *fs1 = <span class="hljs-keyword">new</span> CryptoFileStream();<br><br>    BufferedFileStream *fs2 = <span class="hljs-keyword">new</span> BufferedFileStream();<br><br>    CryptoBufferedFileStream *fs3 =<span class="hljs-keyword">new</span> CryptoBufferedFileStream();<br><br>&#125;<br></code></pre></td></tr></table></figure><p><img src=".\structure.png" alt="çœŸçš„æ˜¯ç»§æ‰¿å…³ç³»å˜›ï¼Ÿ"></p><blockquote><p>ç±»çš„æ•°é‡  1+n+n*ï¼ˆmï¼/2ï¼‰   mï¼/2ä¸ºå­ç±»ç›¸äº’ç»„åˆï¼Œreadï¼Œseekï¼Œwriteä»£ç è¢«å¤§é‡é‡å¤</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//ä¸šåŠ¡æ“ä½œ method2 ç¼–è¯‘æ—¶å¤ç”¨ï¼Œè¿è¡Œæ˜¯å¤šæ€å˜åŒ–</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Stream</span>&#123;</span><br><br><span class="hljs-keyword">public</span>ï¼š<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>=<span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">virtual</span> ~Stream()&#123;&#125;<br>&#125;;<br><br><span class="hljs-comment">//ä¸»ä½“ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileStream</span>:</span> <span class="hljs-keyword">public</span> Stream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <span class="hljs-comment">//è¯»æ–‡ä»¶æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//å®šä½æ–‡ä»¶æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>&#123;<br>        <span class="hljs-comment">//å†™æ–‡ä»¶æµ</span><br>    &#125;<br><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NetworkStream</span> :</span><span class="hljs-keyword">public</span> Stream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <span class="hljs-comment">//è¯»ç½‘ç»œæµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//å®šä½ç½‘ç»œæµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>&#123;<br>        <span class="hljs-comment">//å†™ç½‘ç»œæµ</span><br>    &#125;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MemoryStream</span> :</span><span class="hljs-keyword">public</span> Stream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <span class="hljs-comment">//è¯»å†…å­˜æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//å®šä½å†…å­˜æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>&#123;<br>        <span class="hljs-comment">//å†™å†…å­˜æµ</span><br>    &#125;<br>    <br>&#125;;<br><br><span class="hljs-comment">//æ‰©å±•æ“ä½œï¼Œï¼ï¼ç»„åˆä¼˜äºç»§æ‰¿ï¼Œç±»ä¸­å®šä¹‰æµæ˜¯ä¸ºäº†å®ç°ç»„åˆï¼Œç»§æ‰¿ä¸ºäº†å®ç°è™šå‡½æ•°æ¥å£è§„èŒƒï¼ŒDecoratorStreamä¸­é—´ç±»ã€‚</span><br><br>DecoratorStream: <span class="hljs-keyword">public</span> Stream&#123;<br><span class="hljs-keyword">protected</span>:<br>    Stream* stream;<span class="hljs-comment">//...</span><br>    <br>    DecoratorStream(Stream * stm):stream(stm)&#123;<br>    <br>    &#125;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CryptoStream</span>:</span> <span class="hljs-keyword">public</span> DecoratorStream &#123;<br> <br><br><span class="hljs-keyword">public</span>:<br>    CryptoStream(Stream* stm):DecoratorStream(stm)&#123;<br>    <br>    &#125;<br>    <br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>       <br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        stream-&gt;Read(number);<span class="hljs-comment">//è¯»æ–‡ä»¶æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        stream::Seek(position);<span class="hljs-comment">//å®šä½æ–‡ä»¶æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(byte data)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        stream::Write(data);<span class="hljs-comment">//å†™æ–‡ä»¶æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BufferedStream</span> :</span> <span class="hljs-keyword">public</span> DecoratorStream&#123;<br>    <br>    Stream* stream;<span class="hljs-comment">//...</span><br>    <br><span class="hljs-keyword">public</span>:<br>    BufferedStream(Stream* stm):DecoratorStream(stm)&#123;<br>        <br>    &#125;<br>    <span class="hljs-comment">//...</span><br>&#125;;<br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Process</span><span class="hljs-params">()</span></span>&#123;<br><br>    <span class="hljs-comment">//è¿è¡Œæ—¶è£…é…</span><br>    FileStream* s1=<span class="hljs-keyword">new</span> FileStream();<br>    <br>    <span class="hljs-comment">//æ‰©å±•æ“ä½œï¼Œå¿…é¡»ä¼ ä¸€ä¸ªå¯¹è±¡ !!è£…é¥°çš„å«ä¹‰</span><br>    CryptoStream* s2=<span class="hljs-keyword">new</span> CryptoStream(s1);<br>    <br>    BufferedStream* s3=<span class="hljs-keyword">new</span> BufferedStream(s1);<br>    <br>    <span class="hljs-comment">//å¥—å¨ƒ</span><br>    BufferedStream* s4=<span class="hljs-keyword">new</span> BufferedStream(s2);<br>&#125;<br></code></pre></td></tr></table></figure><p><img src=".\structure2.png" alt=""></p><blockquote><p>ç±»çš„æ•°é‡  1+n+1+m</p></blockquote><p>æ ¹æœ¬åŸå› æ˜¯å¯¹ç»§æ‰¿çš„ä¸æ°å½“ä½¿ç”¨ï¼Œé€ æˆå¤§é‡é‡å¤ä»£ç </p><h3 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h3><p><img src=".\123.png" alt="å¯¹åº”å‰ä¸€ä¸ªå›¾çš„ç»“æ„"></p><h3 id="è¦ç‚¹æ€»ç»“"><a href="#è¦ç‚¹æ€»ç»“" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>é€šè¿‡é‡‡ç”¨ç»„åˆè€Œéç»§æ‰¿çš„æ‰‹æ³•ï¼Œ Decoratoræ¨¡å¼å®ç°äº†åœ¨<strong>è¿è¡Œæ—¶åŠ¨æ€æ‰©å±•å¯¹è±¡åŠŸèƒ½</strong>çš„èƒ½åŠ›ï¼Œè€Œä¸”å¯ä»¥æ ¹æ®éœ€è¦æ‰©å±•å¤šä¸ªåŠŸèƒ½ã€‚é¿å…äº†ä½¿ç”¨ç»§æ‰¿å¸¦æ¥çš„â€œçµæ´»æ€§å·®â€å’Œâ€œå¤šå­ç±»è¡ç”Ÿé—®é¢˜â€ ã€‚ </li><li>Decoratorç±»åœ¨æ¥å£ä¸Šè¡¨ç°ä¸º<strong>is-a Component</strong>çš„ç»§æ‰¿å…³ç³»ï¼Œå³ Decoratorç±»ç»§æ‰¿äº†Componentç±»æ‰€å…·æœ‰çš„æ¥å£ã€‚ä½†åœ¨å®ç°ä¸Šåˆ è¡¨ç°ä¸º<strong>has-a Component</strong>çš„ç»„åˆå…³ç³»ï¼Œå³Decoratorç±»åˆä½¿ç”¨äº† å¦å¤–ä¸€ä¸ªComponentç±»ï¼ˆå³ç»§æ‰¿Componentâ€”?ä¸ºäº†æ¥å£å®Œå–„çš„è§„èŒƒï¼ŒåŒæ—¶ä¹Ÿæœ‰Componentå­—æ®µâ€”&gt;ç»„åˆä¸ºäº†æ”¯æŒå°†æ¥å®ç°ï¼‰ã€‚ </li><li>Decoratoræ¨¡å¼çš„ç›®çš„å¹¶éè§£å†³â€œå¤šå­ç±»è¡ç”Ÿçš„å¤šç»§æ‰¿â€é—®é¢˜ï¼Œ Decoratoræ¨¡å¼åº”ç”¨çš„è¦ç‚¹åœ¨äºè§£å†³â€œ<strong>ä¸»ä½“ç±»åœ¨å¤šä¸ªæ–¹å‘ä¸Šçš„æ‰©å±•åŠŸèƒ½</strong>â€â€”â€”æ˜¯ä¸ºâ€œ<strong>è£…é¥°</strong>â€çš„å«ä¹‰ã€‚</li></ul><blockquote><p><a href="https://refactoring.guru/design-patterns/decorator"> ç½‘ç«™ç« èŠ‚å­¦ä¹ èµ„æ–™</a></p></blockquote><p><br></p><hr><p><br></p><h2 id="ğŸŒ¿Bridge"><a href="#ğŸŒ¿Bridge" class="headerlink" title="ğŸŒ¿Bridge"></a>ğŸŒ¿Bridge</h2><h3 id="å®šä¹‰-1"><a href="#å®šä¹‰-1" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>å°†<strong>æŠ½è±¡éƒ¨åˆ†(ä¸šåŠ¡åŠŸèƒ½)</strong>ä¸<strong>å®ç°éƒ¨åˆ†(å¹³å°å®ç°)</strong>åˆ†ç¦»ï¼Œä½¿å®ƒä»¬ éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚</p><h3 id="åŠ¨æœºï¼ˆMotivationï¼‰-1"><a href="#åŠ¨æœºï¼ˆMotivationï¼‰-1" class="headerlink" title="åŠ¨æœºï¼ˆMotivationï¼‰"></a>åŠ¨æœºï¼ˆMotivationï¼‰</h3><ul><li>ç”±äºæŸäº›ç±»å‹çš„å›ºæœ‰çš„å®ç°é€»è¾‘ï¼Œä½¿å¾—å®ƒä»¬å…·æœ‰ä¸¤ä¸ªå˜åŒ–çš„ç»´åº¦ï¼Œ ä¹ƒè‡³<strong>å¤šä¸ªçº¬åº¦çš„å˜åŒ–</strong>ã€‚ </li><li>å¦‚ä½•åº”å¯¹è¿™ç§â€œå¤šç»´åº¦çš„å˜åŒ–â€ï¼Ÿå¦‚ä½•åˆ©ç”¨é¢å‘å¯¹è±¡æŠ€æœ¯æ¥ä½¿å¾—ç±»å‹å¯ä»¥è½»æ¾åœ°æ²¿ç€ä¸¤ä¸ªä¹ƒè‡³å¤šä¸ªæ–¹å‘å˜åŒ–ï¼Œè€Œ<strong>ä¸å¼•å…¥é¢å¤–çš„å¤æ‚åº¦</strong>ï¼Ÿ</li></ul><h3 id="æ ·ä¾‹ğŸ‘‡ï¼ˆMessageé€šçŸ¥ï¼‰"><a href="#æ ·ä¾‹ğŸ‘‡ï¼ˆMessageé€šçŸ¥ï¼‰" class="headerlink" title="æ ·ä¾‹ğŸ‘‡ï¼ˆMessageé€šçŸ¥ï¼‰"></a>æ ·ä¾‹ğŸ‘‡ï¼ˆMessageé€šçŸ¥ï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Messager</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>=<span class="hljs-number">0</span>;<br><br>    <span class="hljs-comment">//åé¢å››ä¸ªæ“ä½œä¸åŒå¹³å°ä¸ä¸€æ ·</span><br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PlaySound</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DrawShape</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WriteText</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Connect</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">virtual</span> ~Messager()&#123;&#125;<br>&#125;;<br><br><br><span class="hljs-comment">//å¹³å°å®ç°</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PCMessagerBase</span> :</span> <span class="hljs-keyword">public</span> Messager&#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PlaySound</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DrawShape</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WriteText</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Connect</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MobileMessagerBase</span> :</span> <span class="hljs-keyword">public</span> Messager&#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PlaySound</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DrawShape</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WriteText</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Connect</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>&#125;;<br><br><br><br><span class="hljs-comment">//ä¸šåŠ¡æŠ½è±¡</span><br><span class="hljs-comment">//ä¸ºä»€ä¹ˆä¸æŠŠç»§æ‰¿å˜æˆç»„åˆå‘¢ï¼Ÿ</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PCMessagerLite</span> :</span> <span class="hljs-keyword">public</span> PCMessagerBase &#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>&#123;<br>        <br>        PCMessagerBase::Connect();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>&#123;<br>        <br>        PCMessagerBase::WriteText();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>&#123;<br>        <br>        PCMessagerBase::DrawShape();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>&#125;;<br><br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PCMessagerPerfect</span> :</span> <span class="hljs-keyword">public</span> PCMessagerBase &#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>&#123;<br>        <br>        PCMessagerBase::PlaySound();<br>        <span class="hljs-comment">//********</span><br>        PCMessagerBase::Connect();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>&#123;<br>        <br>        PCMessagerBase::PlaySound();<br>        <span class="hljs-comment">//********</span><br>        PCMessagerBase::WriteText();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>&#123;<br>        <br>        PCMessagerBase::PlaySound();<br>        <span class="hljs-comment">//********</span><br>        PCMessagerBase::DrawShape();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MobileMessagerLite</span> :</span> <span class="hljs-keyword">public</span> MobileMessagerBase &#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>&#123;<br>        <br>        MobileMessagerBase::Connect();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>&#123;<br>        <br>        MobileMessagerBase::WriteText();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>&#123;<br>        <br>        MobileMessagerBase::DrawShape();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MobileMessagerPerfect</span> :</span> <span class="hljs-keyword">public</span> MobileMessagerBase &#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>&#123;<br>        <br>        MobileMessagerBase::PlaySound();<br>        <span class="hljs-comment">//********</span><br>        MobileMessagerBase::Connect();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>&#123;<br>        <br>        MobileMessagerBase::PlaySound();<br>        <span class="hljs-comment">//********</span><br>        MobileMessagerBase::WriteText();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>&#123;<br>        <br>        MobileMessagerBase::PlaySound();<br>        <span class="hljs-comment">//********</span><br>        MobileMessagerBase::DrawShape();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>&#125;;<br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Process</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//ç¼–è¯‘æ—¶è£…é…</span><br>        Messager *m =<br>            <span class="hljs-keyword">new</span> MobileMessagerPerfect();<br>&#125;<br><br></code></pre></td></tr></table></figure><blockquote><p>å¹³å°å®ç°ä¸ºmï¼Œä¸šåŠ¡æŠ½è±¡ä¸ºm ï¼Œç±»çš„æ•°ç›®ä¸º1+n+n*m</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Messager</span>&#123;</span><br><span class="hljs-keyword">protected</span>:<br>     MessagerImp* messagerImp;<span class="hljs-comment">//...</span><br><span class="hljs-keyword">public</span>:<br>    Messager(MessagerImp * mi):messagerImp(mi)&#123;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>=<span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">virtual</span> ~Messager()&#123;&#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MessagerImp</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PlaySound</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DrawShape</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WriteText</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Connect</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-title">MessagerImp</span><span class="hljs-params">()</span></span>&#123;&#125;<br>&#125;;<br><br><br><span class="hljs-comment">//å¹³å°å®ç° n</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PCMessagerImp</span> :</span> <span class="hljs-keyword">public</span> MessagerImp&#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PlaySound</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DrawShape</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WriteText</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Connect</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MobileMessagerImp</span> :</span> <span class="hljs-keyword">public</span> MessagerImp&#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PlaySound</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DrawShape</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WriteText</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Connect</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>&#125;;<br><br><br><br><span class="hljs-comment">//ä¸šåŠ¡æŠ½è±¡ m</span><br><br><span class="hljs-comment">//ç±»çš„æ•°ç›®ï¼š1+n+m</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MessagerLite</span> :</span><span class="hljs-keyword">public</span> Messager &#123;<br><br>    <br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>&#123;<br>        <br>        messagerImp-&gt;Connect();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>&#123;<br>        <br>        messagerImp-&gt;WriteText();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>&#123;<br>        <br>        messagerImp-&gt;DrawShape();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>&#125;;<br><br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MessagerPerfect</span>  :</span><span class="hljs-keyword">public</span> Messager &#123;<br>    <br>   <br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>&#123;<br>        <br>        messagerImp-&gt;PlaySound();<br>        <span class="hljs-comment">//********</span><br>        messagerImp-&gt;Connect();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>&#123;<br>        <br>        messagerImp-&gt;PlaySound();<br>        <span class="hljs-comment">//********</span><br>        messagerImp-&gt;WriteText();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>&#123;<br>        <br>        messagerImp-&gt;PlaySound();<br>        <span class="hljs-comment">//********</span><br>        messagerImp-&gt;DrawShape();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>&#125;;<br><br><br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Process</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-comment">//è¿è¡Œæ—¶è£…é…</span><br>    MessagerImp* mImp=<span class="hljs-keyword">new</span> PCMessagerImp();<br>    MessagerLite *m =<span class="hljs-keyword">new</span> MessagerLite(mImp);<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="ç»“æ„-1"><a href="#ç»“æ„-1" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h3><p><img src=".\456.png" alt=""></p><h3 id="è¦ç‚¹æ€»ç»“-1"><a href="#è¦ç‚¹æ€»ç»“-1" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>Bridgeæ¨¡å¼ä½¿ç”¨â€œå¯¹è±¡é—´çš„ç»„åˆå…³ç³»â€è§£è€¦äº†æŠ½è±¡å’Œå®ç°ä¹‹é—´å›º æœ‰çš„ç»‘å®šå…³ç³»ï¼Œä½¿å¾—æŠ½è±¡å’Œå®ç°å¯ä»¥æ²¿ç€å„è‡ªçš„ç»´åº¦æ¥å˜åŒ–ã€‚æ‰€è°“æŠ½è±¡å’Œå®ç°<strong>æ²¿ç€å„è‡ªçº¬åº¦</strong>çš„å˜åŒ–ï¼Œå³â€œ<strong>å­ç±»åŒ–</strong>â€å®ƒä»¬ã€‚ </li><li>Bridgeæ¨¡å¼æœ‰æ—¶å€™ç±»ä¼¼äºå¤šç»§æ‰¿æ–¹æ¡ˆï¼Œä½†æ˜¯å¤šç»§æ‰¿æ–¹æ¡ˆå¾€å¾€è¿èƒŒå•ä¸€èŒè´£åŸåˆ™ï¼ˆå³ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå˜åŒ–çš„åŸå› ï¼‰ï¼Œå¤ç”¨æ€§æ¯”è¾ƒå·®ã€‚ Bridgeæ¨¡å¼æ˜¯æ¯”å¤šç»§æ‰¿æ–¹æ¡ˆæ›´å¥½çš„è§£å†³æ–¹æ³•ã€‚ </li><li>Bridgeæ¨¡å¼çš„åº”ç”¨ä¸€èˆ¬åœ¨â€œä¸¤ä¸ªéå¸¸å¼ºçš„å˜åŒ–ç»´åº¦â€ï¼Œæœ‰æ—¶ä¸€ä¸ªç±»ä¹Ÿæœ‰å¤šäºä¸¤ä¸ªçš„å˜åŒ–ç»´åº¦ï¼ˆ<strong>æŠ½è±¡æŒ‡é’ˆ</strong>ï¼‰ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨Bridgeçš„æ‰©å±•æ¨¡å¼ã€‚</li></ul><blockquote><p><a href="https://refactoring.guru/design-patterns/bridge">ç½‘ç«™å­¦ä¹ èµ„æ–™</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>è®¾è®¡æ¨¡å¼</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-è®¾è®¡æ¨¡å¼ -cpp -æå»ºå¿ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GoF_ç»„ä»¶åä½œ</title>
    <link href="/2021/01/24/GoF-%E7%BB%84%E4%BB%B6%E5%8D%8F%E4%BD%9C/"/>
    <url>/2021/01/24/GoF-%E7%BB%84%E4%BB%B6%E5%8D%8F%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h1 id="â€œç»„ä»¶åä½œâ€æ¨¡å¼"><a href="#â€œç»„ä»¶åä½œâ€æ¨¡å¼" class="headerlink" title="â€œç»„ä»¶åä½œâ€æ¨¡å¼"></a>â€œç»„ä»¶åä½œâ€æ¨¡å¼</h1><p>â€‹            ç°ä»£è½¯ä»¶ä¸“ä¸šåˆ†å·¥ä¹‹åçš„ç¬¬ä¸€ä¸ªç»“æœæ˜¯â€œ<strong>æ¡†æ¶ä¸åº”ç”¨ç¨‹åº</strong>çš„åˆ’åˆ†â€ï¼Œâ€œç»„ä»¶åä½œâ€æ¨¡å¼é€šè¿‡æ™šæœŸç»‘å®šï¼Œæ¥å®ç°æ¡†æ¶ä¸åº”ç”¨ç¨‹åºä¹‹é—´çš„æ¾è€¦åˆæ˜¯äºŒè€…ä¹‹é—´åä½œæ—¶å¸¸ç”¨çš„æ¨¡å¼ã€‚</p><p><strong>å…¸å‹æ¨¡å¼ï¼š</strong></p><ul><li>Template Method  </li><li>Observer / Event </li><li>Strategy</li></ul><h2 id="ğŸŒ¿Template-Method"><a href="#ğŸŒ¿Template-Method" class="headerlink" title="ğŸŒ¿Template Method"></a>ğŸŒ¿Template Method</h2><p>â€‹            å®šä¹‰ä¸€<strong>ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶ (ç¨³å®š)</strong>ï¼Œè€Œå°†ä¸€äº›<strong>æ­¥éª¤å»¶è¿Ÿ (å˜åŒ–)åˆ°å­ç±»</strong>ä¸­ã€‚Template Methodä½¿å¾—å­ç±»å¯ä»¥<strong>ä¸æ”¹å˜ (å¤ç”¨)ä¸€ä¸ªç®—æ³•çš„ç»“æ„</strong>å³å¯é‡å®šä¹‰<strong>(override é‡å†™)</strong>è¯¥ç®—æ³•çš„ æŸäº›ç‰¹å®šæ­¥éª¤ã€‚                                                                                      â€”â€”ã€Šè®¾è®¡æ¨¡å¼ã€‹GoF</p><h3 id="åŠ¨æœºï¼ˆMotivationï¼‰"><a href="#åŠ¨æœºï¼ˆMotivationï¼‰" class="headerlink" title="åŠ¨æœºï¼ˆMotivationï¼‰"></a>åŠ¨æœºï¼ˆMotivationï¼‰</h3><ul><li>åœ¨è½¯ä»¶æ„å»ºè¿‡ç¨‹ä¸­ï¼Œå¯¹äºæŸä¸€é¡¹ä»»åŠ¡ï¼Œå®ƒå¸¸å¸¸æœ‰ç¨³å®šçš„æ•´ä½“æ“ä½œç»“æ„ï¼Œä½†å„ä¸ªå­æ­¥éª¤å´æœ‰å¾ˆå¤šæ”¹å˜çš„éœ€æ±‚ï¼Œæˆ–è€…ç”±äºå›ºæœ‰çš„åŸå›  ï¼ˆæ¯”å¦‚æ¡†æ¶ä¸åº”ç”¨ä¹‹é—´çš„å…³ç³»ï¼‰è€Œæ— æ³•å’Œä»»åŠ¡çš„æ•´ä½“ç»“æ„åŒæ—¶å®ç°ã€‚</li><li>å¦‚ä½•åœ¨ç¡®å®šç¨³å®šæ“ä½œç»“æ„çš„å‰æä¸‹ï¼Œæ¥çµæ´»åº”å¯¹å„ä¸ªå­æ­¥éª¤çš„å˜åŒ–æˆ–è€…æ™šæœŸå®ç°éœ€æ±‚ï¼Ÿ</li></ul><h3 id="æ ·ä¾‹ğŸ‘‡"><a href="#æ ·ä¾‹ğŸ‘‡" class="headerlink" title="æ ·ä¾‹ğŸ‘‡"></a>æ ·ä¾‹ğŸ‘‡</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//ä¾‹1</span><br><span class="hljs-comment">//ç¨‹åºåº“å¼€å‘äººå‘˜in template1_lib.cpp</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Library</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Step1</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-comment">//...</span><br>&#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Step3</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-comment">//...</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Step5</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-comment">//...</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">//åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜in template1_app.cpp</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Application</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">Step2</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-comment">//...</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Step4</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-comment">//...</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-function">Library <span class="hljs-title">lib</span><span class="hljs-params">()</span></span>;<br><span class="hljs-function">Application <span class="hljs-title">app</span><span class="hljs-params">()</span></span>;<br><br>lib.Step1();<br><br><span class="hljs-keyword">if</span> (app.Step2())&#123;<br>lib.Step3();<br>&#125;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)&#123;<br>app.Step4();<br>&#125;<br><br>lib.Step5();<br><br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//ç¨‹åºåº“å¼€å‘äººå‘˜ in template2_lib.cpp</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Library</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-comment">//ç¨³å®š template methodï¼Œ ï¼ï¼ç¨³å®šä¸­æœ‰å˜åŒ–</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Run</span><span class="hljs-params">()</span></span>&#123;<br>        <br>        Step1();<br><br>        <span class="hljs-keyword">if</span> (Step2()) &#123; <span class="hljs-comment">//æ”¯æŒå˜åŒ– ==&gt; è™šå‡½æ•°çš„å¤šæ€è°ƒç”¨</span><br>            Step3(); <br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)&#123;<br>            Step4(); <span class="hljs-comment">//æ”¯æŒå˜åŒ– ==&gt; è™šå‡½æ•°çš„å¤šæ€è°ƒç”¨</span><br>        &#125;<br><br>        Step5();<br><br>    &#125;<br>    <span class="hljs-comment">//  !!åŸºç±»è¦å®šä¹‰è™šææ„å‡½æ•°ï¼Œä¸å†™å¯èƒ½å­ç±»çš„ææ„å‡½æ•°è°ƒä¸åˆ°</span><br><span class="hljs-keyword">virtual</span> ~Library()&#123; &#125;<br><br><span class="hljs-keyword">protected</span>:<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Step1</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-comment">//ç¨³å®š</span><br>        <span class="hljs-comment">//.....</span><br>    &#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Step3</span><span class="hljs-params">()</span> </span>&#123;<span class="hljs-comment">//ç¨³å®š</span><br>        <span class="hljs-comment">//.....</span><br>    &#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Step5</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-comment">//ç¨³å®š</span><br><span class="hljs-comment">//.....</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">Step2</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;<span class="hljs-comment">//å˜åŒ–</span><br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Step4</span><span class="hljs-params">()</span> </span>=<span class="hljs-number">0</span>; <span class="hljs-comment">//å˜åŒ–</span><br>&#125;;<br><br><span class="hljs-comment">//åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜ in template2_app.cpp</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Application</span> :</span> <span class="hljs-keyword">public</span> Library &#123;<br><span class="hljs-keyword">protected</span>:<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">Step2</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-comment">//... å­ç±»é‡å†™å®ç°</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Step4</span><span class="hljs-params">()</span> </span>&#123;<br><span class="hljs-comment">//... å­ç±»é‡å†™å®ç°</span><br>    &#125;<br>&#125;;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    Library* pLib=<span class="hljs-keyword">new</span> Application();<br>    lib-&gt;Run();<br><br><span class="hljs-keyword">delete</span> pLib;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src=".\bind.png" alt="ä¸¤æ®µä»£ç åŒºåˆ«"></p><blockquote><p>è®¾è®¡æ¨¡å¼ï¼šåœ¨å˜åŒ–å’Œç¨³å®šä¹‹é—´å¯»æ‰¾<strong>éš”ç¦»ç‚¹</strong>ï¼Œä»è€Œåˆ†ç¦»å®ƒä»¬ï¼Œç®¡ç†å˜åŒ–ï¼ˆæŠŠå…”å­å…³è¿›ç¬¼å­é‡Œï¼‰ã€‚å¦‚æœæ²¡æœ‰ç¨³å®šï¼Œæˆ–è€…æ²¡æœ‰å˜åŒ–ï¼Œè®¾è®¡æ¨¡å¼ä¹Ÿå°†ä¸èµ·ä½œç”¨ã€‚</p></blockquote><h3 id="ç»“æ„ï¼ˆStructureï¼‰"><a href="#ç»“æ„ï¼ˆStructureï¼‰" class="headerlink" title="ç»“æ„ï¼ˆStructureï¼‰"></a>ç»“æ„ï¼ˆStructureï¼‰</h3><p><img src=".\template.png" alt=""></p><h3 id="è¦ç‚¹æ€»ç»“"><a href="#è¦ç‚¹æ€»ç»“" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>Template Methodæ¨¡å¼æ˜¯ä¸€ç§éå¸¸åŸºç¡€æ€§çš„è®¾è®¡æ¨¡å¼ï¼Œåœ¨é¢å‘å¯¹è±¡ç³»ç»Ÿä¸­æœ‰ç€å¤§é‡çš„åº”ç”¨ã€‚å®ƒç”¨æœ€ç®€æ´çš„æœºåˆ¶ï¼ˆ<strong>è™šå‡½æ•°çš„å¤šæ€æ€§</strong>ï¼Œ<em>å‡½æ•°æŒ‡é’ˆä¹Ÿå¯ä»¥å®ç°</em>ï¼‰ ä¸ºå¾ˆå¤šåº”ç”¨ç¨‹åºæ¡†æ¶æä¾›äº†<strong>çµæ´»çš„æ‰©å±•ç‚¹</strong>ï¼Œæ˜¯ä»£ç å¤ç”¨æ–¹é¢çš„åŸºæœ¬å®ç°ç»“æ„ã€‚</li><li>é™¤äº†å¯ä»¥çµæ´»åº”å¯¹å­æ­¥éª¤çš„å˜åŒ–å¤–ï¼Œâ€œä¸è¦è°ƒç”¨æˆ‘ï¼Œè®©æˆ‘æ¥è°ƒç”¨ä½ â€çš„<strong>åå‘æ§åˆ¶ç»“æ„</strong>æ˜¯Template Methodçš„å…¸å‹åº”ç”¨ã€‚</li><li>åœ¨å…·ä½“å®ç°æ–¹é¢ï¼Œè¢«Template Methodè°ƒç”¨çš„è™šæ–¹æ³•å¯ä»¥å…·æœ‰å®ç°ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ä»»ä½•å®ç°ï¼ˆ<strong>æŠ½è±¡æ–¹æ³•ã€çº¯è™šæ–¹æ³•</strong>ï¼‰ï¼Œä½†ä¸€èˆ¬æ¨èå°†å®ƒä»¬è®¾ç½®ä¸º<strong>protected</strong>æ–¹æ³•ã€‚</li></ul><blockquote><p><a href="https://refactoring.guru/design-patterns/template-method"> ç½‘ç«™ç« èŠ‚å­¦ä¹ èµ„æ–™</a></p></blockquote><p><br></p><hr><p><br></p><h2 id="ğŸŒ¿Strategy"><a href="#ğŸŒ¿Strategy" class="headerlink" title="ğŸŒ¿Strategy"></a>ğŸŒ¿Strategy</h2><p>â€‹            å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯<strong>äº’ç›¸æ›¿æ¢ï¼ˆå˜åŒ–ï¼‰</strong>ã€‚è¯¥æ¨¡å¼ä½¿å¾—<strong>ç®—æ³•å¯ç‹¬ç«‹äºä½¿ç”¨å®ƒçš„å®¢æˆ·ç¨‹åº</strong>(ç¨³å®š)è€Œå˜ï¼ˆæ‰©å±•ï¼Œå­ç±»åŒ–ï¼‰ã€‚                                                                                                                                                    â€”â€”ã€Šè®¾è®¡æ¨¡å¼ã€‹GoF</p><h3 id="åŠ¨æœºï¼ˆMotivationï¼‰-1"><a href="#åŠ¨æœºï¼ˆMotivationï¼‰-1" class="headerlink" title="åŠ¨æœºï¼ˆMotivationï¼‰"></a>åŠ¨æœºï¼ˆMotivationï¼‰</h3><ul><li>åœ¨è½¯ä»¶æ„å»ºè¿‡ç¨‹ä¸­ï¼ŒæŸäº›<strong>å¯¹è±¡ä½¿ç”¨çš„ç®—æ³•å¯èƒ½å¤šç§å¤šæ ·</strong>ï¼Œç»å¸¸æ”¹å˜ï¼Œå¦‚æœå°†è¿™äº›ç®—æ³•éƒ½ç¼–ç åˆ°å¯¹è±¡ä¸­ï¼Œå°†ä¼šä½¿å¯¹è±¡å˜å¾—å¼‚å¸¸å¤æ‚ï¼› è€Œä¸”æœ‰æ—¶å€™æ”¯æŒä¸ä½¿ç”¨çš„ç®—æ³•ä¹Ÿæ˜¯ä¸€ä¸ª<strong>æ€§èƒ½</strong>è´Ÿæ‹…(å¤§é‡åˆ¤æ–­)ã€‚</li><li>å¦‚ä½•åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦é€æ˜åœ°æ›´æ”¹å¯¹è±¡çš„ç®—æ³•ï¼Ÿå°†ç®—æ³•ä¸å¯¹è±¡æœ¬ èº«è§£è€¦ï¼Œä»è€Œé¿å…ä¸Šè¿°é—®é¢˜ï¼Ÿ</li></ul><h3 id="æ ·ä¾‹ğŸ‘‡ï¼ˆç¨æ€»è®¡ç®—ï¼‰"><a href="#æ ·ä¾‹ğŸ‘‡ï¼ˆç¨æ€»è®¡ç®—ï¼‰" class="headerlink" title="æ ·ä¾‹ğŸ‘‡ï¼ˆç¨æ€»è®¡ç®—ï¼‰"></a>æ ·ä¾‹ğŸ‘‡ï¼ˆç¨æ€»è®¡ç®—ï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 1</span><br><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">TaxBase</span> &#123;</span><br>CN_Tax,<br>US_Tax,<br>DE_Tax,<br>FR_Tax       <span class="hljs-comment">//æ›´æ”¹</span><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SalesOrder</span>&#123;</span><br>    TaxBase tax;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">CalculateTax</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//...</span><br>        <br>        <span class="hljs-keyword">if</span> (tax == CN_Tax)&#123;<br>            <span class="hljs-comment">//CN***********</span><br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (tax == US_Tax)&#123;<br>            <span class="hljs-comment">//US***********</span><br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (tax == DE_Tax)&#123;<br>            <span class="hljs-comment">//DE***********</span><br>        &#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (tax == FR_Tax)&#123;  <span class="hljs-comment">//æ›´æ”¹</span><br><span class="hljs-comment">//...</span><br>&#125;<br><br>        <span class="hljs-comment">//...</span><br>     <span class="hljs-comment">//åŠ¨æ€åœ°å»çœ‹è¿™ä¸ªé—®é¢˜...</span><br>     &#125;<br>    <br>&#125;;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 2</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TaxStrategy</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">//çº¯è™šæ–¹æ³•</span><br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">double</span> <span class="hljs-title">Calculate</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Context&amp; context)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-comment">//åŸºç±»ä¸€å®šè¦å†™è™šææ„</span><br>    <span class="hljs-keyword">virtual</span> ~TaxStrategy()&#123;&#125;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CNTax</span> :</span> <span class="hljs-keyword">public</span> TaxStrategy&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">double</span> <span class="hljs-title">Calculate</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Context&amp; context)</span></span>&#123;<br>        <span class="hljs-comment">//***********</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">USTax</span> :</span> <span class="hljs-keyword">public</span> TaxStrategy&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">double</span> <span class="hljs-title">Calculate</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Context&amp; context)</span></span>&#123;<br>        <span class="hljs-comment">//***********</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DETax</span> :</span> <span class="hljs-keyword">public</span> TaxStrategy&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">double</span> <span class="hljs-title">Calculate</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Context&amp; context)</span></span>&#123;<br>        <span class="hljs-comment">//***********</span><br>    &#125;<br>&#125;;<br><br><br><br><span class="hljs-comment">//æ‰©å±•</span><br><span class="hljs-comment">//*********************************</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FRTax</span> :</span> <span class="hljs-keyword">public</span> TaxStrategy&#123;<br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">double</span> <span class="hljs-title">Calculate</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Context&amp; context)</span></span>&#123;<br><span class="hljs-comment">//.........</span><br>&#125;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SalesOrder</span>&#123;</span><br><span class="hljs-keyword">private</span>:<br>    TaxStrategy* strategy;<br><br><span class="hljs-keyword">public</span>:<br>    SalesOrder(StrategyFactory* strategyFactory)&#123;<br>        <span class="hljs-comment">//è¿™é‡Œä»¥åå¯ä»¥ç”¨å·¥å‚æ–¹æ³•</span><br>        <span class="hljs-keyword">this</span>-&gt;strategy = strategyFactory-&gt;NewStrategy();<br>    &#125;<br>    ~SalesOrder()&#123;<br>        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>-&gt;strategy;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">CalculateTax</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//...</span><br>        <span class="hljs-function">Context <span class="hljs-title">context</span><span class="hljs-params">()</span></span>;<br>        <br>        <span class="hljs-keyword">double</span> val = <br>            strategy-&gt;Calculate(context); <span class="hljs-comment">//å¤šæ€è°ƒç”¨</span><br>        <span class="hljs-comment">//...</span><br>    &#125;<br>    <br>&#125;;<br></code></pre></td></tr></table></figure><blockquote><p>method 1 è¿èƒŒå¼€æ”¾å°é—­åŸåˆ™ï¼Œåœ¨ç¼–è¯‘åçš„äºŒè¿›åˆ¶ä»£ç ä¿®æ”¹å¤§, method 2 SalesOrderç¨³å®šï¼Œç®—æ³•å¯å˜åŒ–ã€‚</p></blockquote><h3 id="ç»“æ„ï¼ˆStructureï¼‰-1"><a href="#ç»“æ„ï¼ˆStructureï¼‰-1" class="headerlink" title="ç»“æ„ï¼ˆStructureï¼‰"></a>ç»“æ„ï¼ˆStructureï¼‰</h3><p><img src=".\strategy.png" alt=""></p><h3 id="è¦ç‚¹æ€»ç»“-1"><a href="#è¦ç‚¹æ€»ç»“-1" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>StrategyåŠå…¶å­ç±»ä¸ºç»„ä»¶æä¾›äº†ä¸€ç³»åˆ—å¯é‡ç”¨çš„ç®—æ³•ï¼Œä»è€Œå¯ä»¥ä½¿ å¾—ç±»å‹åœ¨<strong>è¿è¡Œæ—¶</strong>æ–¹ä¾¿åœ°æ ¹æ®éœ€è¦åœ¨å„ä¸ªç®—æ³•ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼ˆå¤šæ€è°ƒç”¨ï¼‰ã€‚</li><li>Strategyæ¨¡å¼æä¾›äº†ç”¨æ¡ä»¶åˆ¤æ–­è¯­å¥ä»¥å¤–çš„å¦ä¸€ç§é€‰æ‹©ï¼Œæ¶ˆé™¤<strong>æ¡ä»¶åˆ¤æ–­è¯­å¥ï¼ˆbad smellï¼Œç»“æ„åŒ–æ€ç»´ï¼‰</strong>ï¼Œå°±æ˜¯åœ¨<strong>è§£è€¦åˆ</strong>ã€‚å«æœ‰è®¸å¤šæ¡ä»¶åˆ¤æ–­è¯­å¥çš„ä»£ç é€šå¸¸éƒ½éœ€è¦Strategyæ¨¡å¼ã€‚</li><li>å¦‚æœStrategyå¯¹è±¡<strong>æ²¡æœ‰å®ä¾‹å˜é‡</strong>(å•ä¾‹æ¨¡å¼å®ç°)ï¼Œé‚£ä¹ˆå„ä¸ªä¸Šä¸‹æ–‡å¯ä»¥å…±äº«åŒä¸€ä¸ªStrategyå¯¹è±¡ï¼Œä»è€ŒèŠ‚çœå¯¹è±¡å¼€é”€ã€‚</li></ul><p><a href="https://refactoring.guru/design-patterns/strategy"> ç½‘ç«™ç« èŠ‚å­¦ä¹ èµ„æ–™</a></p><p><br></p><hr><p><br></p><h2 id="ğŸŒ¿Observer-Event"><a href="#ğŸŒ¿Observer-Event" class="headerlink" title="ğŸŒ¿Observer/Event"></a>ğŸŒ¿Observer/Event</h2><p>â€‹            å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§<strong>ä¸€å¯¹å¤šï¼ˆå˜åŒ–ï¼‰çš„ä¾èµ–å…³ç³»</strong>ï¼Œä»¥ä¾¿å½“ä¸€ä¸ªå¯¹è±¡(Subject)çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰<strong>ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°</strong>ã€‚                                                                                                                                                                                â€”â€”ã€Šè®¾è®¡æ¨¡å¼ã€‹GoF</p><h3 id="åŠ¨æœºï¼ˆMotivationï¼‰-2"><a href="#åŠ¨æœºï¼ˆMotivationï¼‰-2" class="headerlink" title="åŠ¨æœºï¼ˆMotivationï¼‰"></a>åŠ¨æœºï¼ˆMotivationï¼‰</h3><ul><li>åœ¨è½¯ä»¶æ„å»ºè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæŸäº›å¯¹è±¡å»ºç«‹ä¸€ç§â€œé€šçŸ¥ä¾èµ–å…³ç³»â€ â€”â€” ä¸€ä¸ªå¯¹è±¡ï¼ˆç›®æ ‡å¯¹è±¡ï¼‰çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œæ‰€æœ‰çš„ä¾èµ–å¯¹è±¡ï¼ˆè§‚å¯Ÿè€…å¯¹è±¡ï¼‰éƒ½å°†å¾—åˆ°é€šçŸ¥ã€‚å¦‚æœè¿™æ ·çš„ä¾èµ–å…³ç³»è¿‡äºç´§å¯†ï¼Œ å°†ä½¿è½¯ä»¶ä¸èƒ½å¾ˆå¥½åœ°æŠµå¾¡å˜åŒ–ã€‚</li><li>ä½¿ç”¨é¢å‘å¯¹è±¡æŠ€æœ¯ï¼Œå¯ä»¥å°†è¿™ç§ä¾èµ–å…³ç³»å¼±åŒ–ï¼Œå¹¶å½¢æˆä¸€ç§ç¨³å®šçš„ä¾èµ–å…³ç³»ã€‚ä»è€Œå®ç°è½¯ä»¶ä½“ç³»ç»“æ„çš„æ¾è€¦åˆã€‚</li></ul><h3 id="ç¤ºä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰"><a href="#ç¤ºä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰" class="headerlink" title="ç¤ºä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰"></a>ç¤ºä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 1</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileSplitter</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-built_in">string</span> m_filePath;<br><span class="hljs-keyword">int</span> m_fileNumber;<br>    <span class="hljs-comment">// ï¼ï¼è¿èƒŒä¾èµ–å€’ç½®åŸåˆ™ï¼ŒProgressBarï¼ˆå¤ªè¿‡ç»†èŠ‚ï¼‰ï¼Œå¯èƒ½æ˜¯labelï¼Œå¯èƒ½æ˜¯æ§åˆ¶å°çš„Â·Â·Â·</span><br>    <span class="hljs-comment">// ä¾èµ–å®ƒçš„æŠ½è±¡åŸºç±»ï¼Œå®ƒçš„åŠŸèƒ½-&gt;å®ç°é€šçŸ¥</span><br>ProgressBar* m_progressBar;<br><br><span class="hljs-keyword">public</span>:<br>FileSplitter(<span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; filePath, <span class="hljs-keyword">int</span> fileNumber, ProgressBar* progressBar) :<br>m_filePath(filePath), <br>m_fileNumber(fileNumber),<br>m_progressBar(progressBar)&#123;<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">split</span><span class="hljs-params">()</span></span>&#123;<br><br><span class="hljs-comment">//1.è¯»å–å¤§æ–‡ä»¶</span><br><br><span class="hljs-comment">//2.åˆ†æ‰¹æ¬¡å‘å°æ–‡ä»¶ä¸­å†™å…¥</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m_fileNumber; i++)&#123;<br><span class="hljs-comment">//...</span><br>            <span class="hljs-keyword">if</span>(m_progressBar!=<span class="hljs-literal">nullptr</span>)<br>            &#123;<br>                <span class="hljs-keyword">float</span> progressValue = m_fileNumber;<br>progressValue = (i + <span class="hljs-number">1</span>) / progressValue;<br>m_progressBar-&gt;setValue(progressValue);    <br>            &#125;<br>&#125;<br>&#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainForm</span> :</span> <span class="hljs-keyword">public</span> Form<br>&#123;<br>    <span class="hljs-comment">//æ–‡ä»¶è·¯å¾„</span><br>TextBox* txtFilePath;<br>    <span class="hljs-comment">//æ–‡ä»¶è¢«åˆ†å‰²çš„æ•°é‡</span><br>TextBox* txtFileNumber;<br>ProgressBar* progressBar;<br><br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Button1_Click</span><span class="hljs-params">()</span></span>&#123;<br><br><span class="hljs-built_in">string</span> filePath = txtFilePath-&gt;getText();<br><span class="hljs-keyword">int</span> number = atoi(txtFileNumber-&gt;getText().c_str());<br><br><span class="hljs-function">FileSplitter <span class="hljs-title">splitter</span><span class="hljs-params">(filePath, number, progressBar)</span></span>;<br><br>splitter.split();<br><br>&#125;<br>&#125;;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 2</span><br><span class="hljs-comment">//IProgress æŠ½è±¡æ¥å£</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IProgress</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DoProgress</span><span class="hljs-params">(<span class="hljs-keyword">float</span> value)</span></span>=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">virtual</span> ~IProgress()&#123;&#125;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileSplitter</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-built_in">string</span> m_filePath;<br><span class="hljs-keyword">int</span> m_fileNumber;<br><br>List&lt;IProgress*&gt;  m_iprogressList; <span class="hljs-comment">// æŠ½è±¡é€šçŸ¥æœºåˆ¶ï¼Œæ”¯æŒå¤šä¸ªè§‚å¯Ÿè€…</span><br><br><span class="hljs-keyword">public</span>:<br>FileSplitter(<span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; filePath, <span class="hljs-keyword">int</span> fileNumber) :<br>m_filePath(filePath), <br>m_fileNumber(fileNumber)&#123;<br><br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">split</span><span class="hljs-params">()</span></span>&#123;<br><br><span class="hljs-comment">//1.è¯»å–å¤§æ–‡ä»¶</span><br><br><span class="hljs-comment">//2.åˆ†æ‰¹æ¬¡å‘å°æ–‡ä»¶ä¸­å†™å…¥</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m_fileNumber; i++)&#123;<br><span class="hljs-comment">//...</span><br><br><span class="hljs-keyword">float</span> progressValue = m_fileNumber;<br>progressValue = (i + <span class="hljs-number">1</span>) / progressValue;<br>onProgress(progressValue);<span class="hljs-comment">//å‘é€é€šçŸ¥</span><br>&#125;<br><br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addIProgress</span><span class="hljs-params">(IProgress* iprogress)</span></span>&#123;<br>m_iprogressList.push_back(iprogress);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">removeIProgress</span><span class="hljs-params">(IProgress* iprogress)</span></span>&#123;<br>m_iprogressList.remove(iprogress);<br>&#125;<br><br><br><span class="hljs-keyword">protected</span>:<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onProgress</span><span class="hljs-params">(<span class="hljs-keyword">float</span> value)</span></span>&#123;<br><br>List&lt;IProgress*&gt;::iterator itor=m_iprogressList.begin();<br><br><span class="hljs-keyword">while</span> (itor != m_iprogressList.end() )<br>(*itor)-&gt;DoProgress(value); <span class="hljs-comment">//æ›´æ–°è¿›åº¦æ¡</span><br>itor++;<br>&#125;<br>&#125;<br>&#125;;<br><br><span class="hljs-comment">// å¤šç»§æ‰¿ä½¿ç”¨çš„åœºæ™¯ï¼šä¸»ç»§æ‰¿ç±»+æ¥å£ï¼ˆæŠ½è±¡ç±»ï¼‰</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainForm</span> :</span> <span class="hljs-keyword">public</span> Form, <span class="hljs-keyword">public</span> IProgress<br>&#123;<br>TextBox* txtFilePath;<br>TextBox* txtFileNumber;<br><br>ProgressBar* progressBar;<br><br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Button1_Click</span><span class="hljs-params">()</span></span>&#123;<br><br><span class="hljs-built_in">string</span> filePath = txtFilePath-&gt;getText();<br><span class="hljs-keyword">int</span> number = atoi(txtFileNumber-&gt;getText().c_str());<br><br>ConsoleNotifier cn;<br><br><span class="hljs-function">FileSplitter <span class="hljs-title">splitter</span><span class="hljs-params">(filePath, number)</span></span>;<br><br>splitter.addIProgress(<span class="hljs-keyword">this</span>); <span class="hljs-comment">//è®¢é˜…é€šçŸ¥</span><br>splitter.addIProgress(&amp;cn)ï¼› <span class="hljs-comment">//è®¢é˜…é€šçŸ¥</span><br><br>splitter.split();<br><br>splitter.removeIProgress(<span class="hljs-keyword">this</span>);<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DoProgress</span><span class="hljs-params">(<span class="hljs-keyword">float</span> value)</span></span>&#123;<br>progressBar-&gt;setValue(value);<br>&#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConsoleNotifier</span> :</span> <span class="hljs-keyword">public</span> IProgress &#123;<br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DoProgress</span><span class="hljs-params">(<span class="hljs-keyword">float</span> value)</span></span>&#123;<br><span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;.&quot;</span>;<br>&#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="ç»“æ„ï¼ˆStructureï¼‰-2"><a href="#ç»“æ„ï¼ˆStructureï¼‰-2" class="headerlink" title="ç»“æ„ï¼ˆStructureï¼‰"></a>ç»“æ„ï¼ˆStructureï¼‰</h3><p><img src=".\observer.png" alt=""></p><ul><li>æ ·ä¾‹ä¸­ Observeræ˜¯IProgressï¼Œè€ŒMainFormã€ConsoleNotifieræ˜¯ConcreteObserver</li><li>æ ·ä¾‹ä¸­ Subjectæ˜¯FileSplitterï¼ˆå…¶å®FileSplitterå¯ä»¥æå–addIProgressï¼ŒremoveIProgresså’ŒonProgressï¼‰</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li>ä½¿ç”¨é¢å‘å¯¹è±¡çš„æŠ½è±¡ï¼ŒObserveræ¨¡å¼ä½¿å¾—æˆ‘ä»¬å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜ç›®æ ‡ä¸è§‚å¯Ÿè€…ï¼Œä»è€Œä½¿<strong>äºŒè€…ä¹‹é—´çš„ä¾èµ–å…³ç³»è¾¾è‡´æ¾è€¦åˆ</strong>ã€‚</li></ul><blockquote><p>IProgressä¸ç®¡å¤šå°‘ä¸ªï¼ŒFileSplitteréƒ½ä¸å˜ï¼Œä¿æŒå¤ç”¨æ€§</p></blockquote><ul><li>ç›®æ ‡å‘é€é€šçŸ¥æ—¶ï¼Œ<strong>æ— éœ€æŒ‡å®šè§‚å¯Ÿè€…</strong>ï¼Œé€šçŸ¥ï¼ˆå¯ä»¥æºå¸¦é€šçŸ¥ä¿¡æ¯ä½œä¸ºå‚æ•°ï¼‰ä¼šè‡ªåŠ¨ä¼ æ’­ã€‚</li></ul><blockquote><p>FileSplitteræ‰§è¡ŒDoProgressä¸å…³å¿ƒæ˜¯é‚£ä¸ªè§‚å¯Ÿè€…ï¼ŒæŠ½è±¡åœ°è¿›è¡Œé€šçŸ¥ï¼Œè‡ªåŠ¨ä¼ æ’­</p></blockquote><ul><li>è§‚å¯Ÿè€…è‡ªå·±å†³å®šæ˜¯å¦éœ€è¦è®¢é˜…é€šçŸ¥ï¼Œç›®æ ‡å¯¹è±¡å¯¹æ­¤ä¸€æ— æ‰€çŸ¥ã€‚ </li></ul><blockquote><p>MainFormæ‰§è¡ŒaddIProgress</p></blockquote><ul><li>Observeræ¨¡å¼æ˜¯<strong>åŸºäºäº‹ä»¶çš„UIæ¡†æ¶</strong>ä¸­éå¸¸å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œä¹Ÿæ˜¯<strong>MVCæ¨¡å¼</strong>çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ã€‚</li></ul><p><a href="https://refactoring.guru/design-patterns/observer"> ç½‘ç«™ç« èŠ‚å­¦ä¹ èµ„æ–™ï¼Œæ ¸å¿ƒï¼šæŠ½è±¡çš„é€šçŸ¥ä¾èµ–å…³ç³»</a></p>]]></content>
    
    
    <categories>
      
      <category>è®¾è®¡æ¨¡å¼</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-è®¾è®¡æ¨¡å¼ -cpp -æå»ºå¿ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç‹é“æ•°æ®ç»“æ„_ç¬¬ä¸€ç« ç»ªè®º</title>
    <link href="/2021/01/23/%E7%8E%8B%E9%81%93%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AC%AC%E4%B8%80%E7%AB%A0%E7%BB%AA%E8%AE%BA/"/>
    <url>/2021/01/23/%E7%8E%8B%E9%81%93%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AC%AC%E4%B8%80%E7%AB%A0%E7%BB%AA%E8%AE%BA/</url>
    
    <content type="html"><![CDATA[<p>â€‹    å­¦ä¹ èµ„æ–™ï¼šã€Šæ•°æ®ç»“æ„ã€‹ï¼ˆä¸¥è”šæ•ï¼‰   ã€Šç‹é“2022æ•°æ®ç»“æ„è€ƒç ”å¤ä¹ æŒ‡å¯¼ã€‹</p><p>â€‹    è§†é¢‘ç½‘ç«™ï¼š<a href="https://www.bilibili.com/video/BV1b7411N798?p=6">ç‹é“2021/2020ç‰ˆå…è´¹è§†é¢‘</a></p><p>â€‹    leetcodeé¢˜åº“ï¼š<a href="https://github.com/CyC2018/CS-Notes/blob/master/notes/Leetcode%20%E9%A2%98%E8%A7%A3%20-%20%E7%9B%AE%E5%BD%95.md">ç®—æ³•+æ•°æ®ç»“æ„</a></p><h1 id="ç¬¬ä¸€ç« -ç»ªè®º"><a href="#ç¬¬ä¸€ç« -ç»ªè®º" class="headerlink" title="ç¬¬ä¸€ç«  ç»ªè®º"></a>ç¬¬ä¸€ç«  ç»ªè®º</h1><p><strong>è€ƒçº²å†…å®¹ï¼š</strong></p><ul><li>æ•°æ®ç»“æ„çš„ç›¸å…³<strong>æ¦‚å¿µå’Œæœ¯è¯­</strong>ã€‚</li><li>æ•°æ®ç»“æ„çš„<strong>ä¸‰è¦ç´ </strong>: é€»è¾‘ç»“æ„ã€ç‰©ç†ç»“æ„å’Œæ•°æ®ç»“æ„ã€‚</li><li>ç®—æ³•<strong>æ—¶é—´å¤æ‚åº¦</strong>å’Œ<strong>ç©ºé—´å¤æ‚åº¦</strong>çš„<strong>åˆ†æå’Œè®¡ç®—</strong>ã€‚</li></ul><h2 id="æ•°æ®ç»“æ„çš„åŸºæœ¬æ¦‚å¿µ"><a href="#æ•°æ®ç»“æ„çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="æ•°æ®ç»“æ„çš„åŸºæœ¬æ¦‚å¿µ"></a>æ•°æ®ç»“æ„çš„åŸºæœ¬æ¦‚å¿µ</h2><p><img src=".\data_structe.png" alt="data_structe" style="zoom:67%;" /></p><h3 id="åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­"><a href="#åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­" class="headerlink" title="åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­"></a>åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­</h3><h4 id="ğŸŒ¿æ•°æ®"><a href="#ğŸŒ¿æ•°æ®" class="headerlink" title="ğŸŒ¿æ•°æ®"></a>ğŸŒ¿æ•°æ®</h4><p>â€‹        <strong>æ•°æ®ï¼ˆdataï¼‰</strong>æ˜¯<strong>ä¿¡æ¯çš„è½½ä½“</strong>ï¼Œæ˜¯æè¿°å®¢è§‚äº‹ç‰©å±æ€§çš„æ•°ã€å­—ç¬¦åŠæ‰€æœ‰èƒ½<strong>è¾“å…¥åˆ°è®¡ç®—æœºä¸­å¹¶èƒ½è¢«è®¡ç®—æœºç¨‹åºè¯†åˆ«å’Œå¤„ç†çš„ç¬¦å·çš„æ€»ç§°</strong>ã€‚æ•°æ®æ˜¯è®¡ç®—æœºç¨‹åºåŠ å·¥çš„åŸæ–™ã€‚</p><h4 id="ğŸŒ¿æ•°æ®å…ƒç´ ã€æ•°æ®é¡¹"><a href="#ğŸŒ¿æ•°æ®å…ƒç´ ã€æ•°æ®é¡¹" class="headerlink" title="ğŸŒ¿æ•°æ®å…ƒç´ ã€æ•°æ®é¡¹"></a>ğŸŒ¿æ•°æ®å…ƒç´ ã€æ•°æ®é¡¹</h4><p>â€‹        <strong>æ•°æ®å…ƒç´ ï¼ˆdata elementï¼‰</strong>æ˜¯æ•°æ®çš„åŸºæœ¬å•ä½ï¼Œé€šå¸¸ä½œä¸ºä¸€ä¸ªæ•´ä½“è¿›è¡Œè€ƒè™‘å’Œå¤„ç†ã€‚ä¸€ä¸ªæ•°æ®å…ƒç´ å¯ç”±è‹¥å¹²ä¸ª<strong>æ•°æ®é¡¹ï¼ˆdata itemï¼‰</strong>ç»„æˆï¼Œ<strong>æ•°æ®é¡¹æ˜¯æ„æˆæ•°æ®å…ƒç´ çš„ä¸å¯åˆ†å‰²çš„æœ€å°å•ä½</strong>ã€‚</p><blockquote><p>ä¾‹ï¼šå­¦ç”Ÿè®°å½•å°±æ˜¯ä¸€ä¸ªæ•°æ®å…ƒç´ ï¼Œå®ƒç”±å­¦å·ã€å§“åã€æ€§åˆ«ç­‰æ•°æ®ç»„æˆã€‚</p></blockquote><h4 id="ğŸŒ¿æ•°æ®ç»“æ„ã€æ•°æ®å¯¹è±¡"><a href="#ğŸŒ¿æ•°æ®ç»“æ„ã€æ•°æ®å¯¹è±¡" class="headerlink" title="ğŸŒ¿æ•°æ®ç»“æ„ã€æ•°æ®å¯¹è±¡"></a>ğŸŒ¿æ•°æ®ç»“æ„ã€æ•°æ®å¯¹è±¡</h4><p>â€‹        <strong>æ•°æ®ç»“æ„ï¼ˆdata structureï¼‰</strong>æ˜¯<strong>ç›¸äº’ä¹‹é—´</strong>å­˜åœ¨ä¸€ç§æˆ–å¤šç§ç‰¹å®šå…³ç³»çš„<strong>æ•°æ®å…ƒç´ çš„é›†åˆ</strong>ã€‚</p><p>â€‹        <strong>æ•°æ®å¯¹è±¡ï¼ˆdata objectï¼‰</strong>æ˜¯å…·æœ‰<strong>ç›¸åŒæ€§è´¨çš„æ•°æ®å…ƒç´ </strong>çš„é›†åˆï¼Œæ˜¯æ•°æ®çš„ä¸€ä¸ªå­é›†ã€‚</p><h3 id="æ•°æ®ç»“æ„çš„ä¸‰è¦ç´ "><a href="#æ•°æ®ç»“æ„çš„ä¸‰è¦ç´ " class="headerlink" title="æ•°æ®ç»“æ„çš„ä¸‰è¦ç´ "></a>æ•°æ®ç»“æ„çš„ä¸‰è¦ç´ </h3><h4 id="âœ¨é€»è¾‘ç»“æ„"><a href="#âœ¨é€»è¾‘ç»“æ„" class="headerlink" title="âœ¨é€»è¾‘ç»“æ„"></a>âœ¨é€»è¾‘ç»“æ„</h4><ol><li><strong>é›†åˆ</strong>ï¼šç»“æ„ä¸­çš„æ•°æ®å…ƒç´ <strong>åŒå±ä¸€ä¸ªé›†åˆ</strong>ï¼Œé™¤æ­¤ä¹‹å¤–æ²¡æœ‰å…¶ä»–å…³ç³»ã€‚</li><li><strong>çº¿æ€§ç»“æ„</strong>ï¼šç»“æ„ä¸­çš„æ•°æ®å…ƒç´ ä¹‹é—´<strong>å­˜åœ¨ç€ä¸€ä¸ªå¯¹ä¸€ä¸ª</strong>çš„å…³ç³»ï¼Œé™¤ç¬¬ä¸€ä¸ªå…ƒç´ å¤–ï¼Œæ¯ä¸€ä¸ªå…ƒç´ éƒ½æœ‰å‰é©±ï¼Œé™¤æœ€åä¸€ä¸ªå¤–æ¯ä¸€ä¸ªéƒ½æœ‰åç»§</li><li><strong>æ ‘å‹ç»“æ„</strong>ï¼šç»“æ„ä¸­æ•°æ®å…ƒç´ ä¹‹é—´<strong>å­˜åœ¨ä¸€ä¸ªå¯¹å¤šä¸ªçš„å…³ç³»</strong>ã€‚</li><li><strong>å›¾çŠ¶ç»“æ„ï¼ˆç½‘çŠ¶ç»“æ„ï¼‰</strong>ï¼šç»“æ„ä¸­æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨<strong>å¤šå¯¹å¤šçš„å…³ç³»</strong>ã€‚</li></ol><p><img src=".\structure.png" alt="å››ç§ç»“æ„"></p><p><img src=".\linear.webp" alt="linear" style="zoom: 67%;" /></p><p><img src=".\none_linear.webp" alt="none_linear" style="zoom:67%;" /></p><h4 id="âœ¨ç‰©ç†ç»“æ„ï¼ˆå­˜å‚¨ç»“æ„ï¼‰"><a href="#âœ¨ç‰©ç†ç»“æ„ï¼ˆå­˜å‚¨ç»“æ„ï¼‰" class="headerlink" title="âœ¨ç‰©ç†ç»“æ„ï¼ˆå­˜å‚¨ç»“æ„ï¼‰"></a>âœ¨ç‰©ç†ç»“æ„ï¼ˆå­˜å‚¨ç»“æ„ï¼‰</h4><ol><li><p><strong>é¡ºåºå­˜å‚¨</strong>ï¼šæŠŠ<strong>é€»è¾‘ç›¸é‚»çš„å…ƒç´ å­˜å‚¨åœ¨ç‰©ç†ä½ç½®ä¸Šä¹Ÿç›¸é‚»çš„å­˜å‚¨å•å…ƒä¸­</strong>ï¼Œå…ƒç´ ä¹‹é—´çš„å…³ç³»ç”±å­˜å‚¨å•å…ƒçš„ç›¸é‚»å…³ç³»æ¥ä½“ç°ã€‚</p></li><li><p><strong>é“¾å¼å­˜å‚¨</strong>ï¼š<strong>é€»è¾‘ä¸Šé¡¹é‚»çš„å…ƒç´ åœ¨ç‰©ç†ä½ç½®ä¸Šå¯ä»¥ä¸ç›¸é‚»</strong>ï¼Œå€ŸåŠ©æŒ‡ç¤ºå…ƒç´ å­˜å‚¨åœ°å€çš„<strong>æŒ‡é’ˆ</strong>æ¥è¡¨ç¤ºå…ƒç´ ä¹‹é—´çš„ä½ç½®å…³ç³»ã€‚</p></li><li><p><strong>ç´¢å¼•å­˜å‚¨</strong>ï¼šåœ¨<strong>å­˜å‚¨ä¿¡æ¯çš„åŒæ—¶ï¼Œè¿˜å»ºç«‹é™„åŠ çš„ç´¢å¼•è¡¨</strong>ã€‚ç´¢å¼•è¡¨çš„æ¯é¡¹ç§°ä¸ºç´¢å¼•é¡¹ï¼ˆå½¢å¼æ˜¯<code>å…³é”®å­—ï¼Œåœ°å€</code>ï¼‰</p></li><li><p><strong>æ•£åˆ—å­˜å‚¨</strong>ï¼šæ ¹æ®<strong>å…ƒç´ çš„å…³é”®å­—ç›´æ¥è®¡ç®—å‡ºè¯¥å…ƒç´ çš„å­˜å‚¨åœ°å€</strong>ï¼Œæœ‰ç§°ä¸ºå“ˆå¸Œï¼ˆHashï¼‰å­˜å‚¨ã€‚</p><p><img src=".\store_sum.png" alt=""></p></li></ol><p><img src=".\hash.jpg" alt="hash"></p><blockquote><p>é¡ºåºå­˜å‚¨æ”¯æŒéšæœºè®¿é—®ï¼ˆå³æŒ‰ä¸‹æ ‡è®¿é—®ï¼‰ï¼Œä½†å¯¹å…¶æ•°æ®æ“ä½œè¾ƒä¸ºå¤æ‚ã€‚</p></blockquote><p>æ•°æ®çš„<strong>å­˜å‚¨ç»“æ„</strong>ä¼šå½±å“<strong>å­˜å‚¨ç©ºé—´åˆ†é…çš„æ–¹ä¾¿ç¨‹åº¦</strong>å’Œ<strong>å¯¹æ•°æ®è¿ç®—çš„é€Ÿåº¦</strong></p><h4 id="âœ¨æ•°æ®çš„è¿ç®—"><a href="#âœ¨æ•°æ®çš„è¿ç®—" class="headerlink" title="âœ¨æ•°æ®çš„è¿ç®—"></a>âœ¨æ•°æ®çš„è¿ç®—</h4><p>æ–½åŠ åœ¨æ•°æ®ä¸Šçš„è¿ç®—åŒ…æ‹¬è¿ç®—çš„å®šä¹‰å’Œå®ç°ã€‚</p><ul><li><strong>è¿ç®—çš„å®šä¹‰</strong>ï¼š<strong>é’ˆå¯¹é€»è¾‘ç»“æ„</strong>ï¼ŒæŒ‡å‡ºè¿ç®—çš„<strong>åŠŸèƒ½</strong>ã€‚</li></ul><blockquote><p>å…¥é˜Ÿ/æ ˆï¼Œå‡ºé˜Ÿ/æ ˆï¼Œæ’é˜Ÿï¼Œæ’ç»“ç‚¹â€¦</p></blockquote><ul><li><strong>è¿ç®—çš„å®ç°</strong>ï¼š <strong>äº‰å¯¹å­˜å‚¨ç»“æ„</strong>ï¼ŒæŒ‡å‡ºè¿ç®—çš„å…·ä½“æ­¥éª¤ã€‚</li></ul><blockquote><p>ä¸åŒå­˜å‚¨ç»“æ„å®ç°ä¸Šé¢çš„æ–¹æ³•ä¸ä¸€æ ·ï¼Œå¦‚çº¿æ€§/éçº¿æ€§</p></blockquote><h3 id="æ•°æ®ç±»å‹ã€æŠ½è±¡æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹ã€æŠ½è±¡æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹ã€æŠ½è±¡æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹ã€æŠ½è±¡æ•°æ®ç±»å‹</h3><h4 id="ğŸˆæ•°æ®ç±»å‹"><a href="#ğŸˆæ•°æ®ç±»å‹" class="headerlink" title="ğŸˆæ•°æ®ç±»å‹"></a>ğŸˆæ•°æ®ç±»å‹</h4><p>æ•°æ®ç±»å‹æ˜¯<strong>ä¸€ä¸ªå€¼çš„é›†åˆ</strong>å’Œç¬¬ä¸€åœ¨æ­¤é›†åˆä¸Šçš„<strong>ä¸€ç»„æ“ä½œ</strong>æ€»ç§°ã€‚</p><ol><li><strong>åŸå­ç±»å‹</strong>ã€‚å…¶å€¼ä¸å¯å†åˆ†ï¼ˆboolï¼Œintï¼‰</li><li><strong>ç»“æ„ç±»å‹</strong>ã€‚å…¶å€¼å¯ä»¥å†åˆ†è§£ä¸ºè‹¥å¹²æˆåˆ†ï¼ˆåˆ†é‡ï¼‰çš„æ•°æ®ç±»å‹ï¼ˆå¦‚<code>struct  Ã—Ã—Ã—&#123;   &#125;;</code> ç»“æ„ä½“ï¼‰ã€‚</li></ol><h4 id="ğŸˆæŠ½è±¡æ•°æ®ç±»å‹ï¼ˆADT-Abstract-Data-Typeï¼‰"><a href="#ğŸˆæŠ½è±¡æ•°æ®ç±»å‹ï¼ˆADT-Abstract-Data-Typeï¼‰" class="headerlink" title="ğŸˆæŠ½è±¡æ•°æ®ç±»å‹ï¼ˆADT,Abstract Data Typeï¼‰"></a>ğŸˆæŠ½è±¡æ•°æ®ç±»å‹ï¼ˆADT,Abstract Data Typeï¼‰</h4><p><strong>æŠ½è±¡æ•°æ®ç±»å‹</strong>æ˜¯æŠ½è±¡ç»„ç»‡ä¸ä¹‹ç›¸å…³çš„æ“ä½œ,ADTç”¨æ•°å­¦åŒ–çš„è¯­è¨€å®šä¹‰æ•°æ®çš„é€»è¾‘ç»“æ„ã€è¿ç®—ï¼Œä¸<strong>å…·ä½“å®ç°</strong>æ— å…³ã€‚</p><p>å¸¸ç”¨<strong>ä¸‰å…ƒç»„æ¥è¡¨ç¤º</strong> ï¼ˆD,S,Pï¼‰</p><p>Dæ˜¯æ•°æ®å¯¹è±¡ï¼ŒSæ˜¯Dä¸Šçš„å…³ç³»é›†ï¼ŒPæ˜¯å¯¹Dçš„åŸºæœ¬æ“ä½œé›†ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c">ADT æŠ½è±¡æ•°æ®ç±»å‹å&#123;<br>æ•°æ®å¯¹è±¡: &lt;æ•°æ®å¯¹è±¡çš„å®šä¹‰&gt;<br>æ•°æ®å…³ç³»: &lt;æ•°æ®å…³ç³»çš„å®šä¹‰&gt;<br>åŸºæœ¬æ“ä½œ: &lt;åŸºæœ¬æ“ä½œçš„å®šä¹‰&gt;<br>&#125;ADT æŠ½è±¡æ•°æ®ç±»å‹å<br></code></pre></td></tr></table></figure><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>å½“æˆ‘ä»¬æ¢è®¨æŸä¸€ç§æ•°æ®ç»“æ„æ—¶ï¼Œä¸€èˆ¬æŒ‰ä»¥ä¸‹æ­¥éª¤æ¥å­¦ä¹ </p><p>â‘ å®šä¹‰<strong>é€»è¾‘ç»“æ„</strong>ï¼ˆæ•°æ®å…ƒç´ ä¹‹é—´çš„å…³ç³»ï¼‰</p><p>â‘¡å®šä¹‰<strong>æ•°æ®è¿ç®—</strong>ï¼ˆå®ç°ä»€ä¹ˆæ ·çš„éœ€æ±‚ï¼Œå¯¹è¿™ç§é€»è¾‘ç»“æ„è¿›è¡Œä»€ä¹ˆæ ·çš„è¿ç®—ï¼‰</p><p>â‘¢<strong>ç¡®å®šå­˜å‚¨ç»“æ„</strong>ï¼Œå®ç°æ•°æ®ç»“æ„ï¼Œå¹¶å®ç°ä¸€äº›å¯¹æ•°æ®ç»“æ„çš„åŸºæœ¬è¿ç®—ã€‚</p><p>â‘£å»äº†è§£è¯¥<strong>æ•°æ®ç»“æ„çš„åº”ç”¨</strong>ã€‚</p><p><br></p><p><br></p><hr><p><br></p><p><br></p><h2 id="ç®—æ³•å’Œç®—æ³•è¯„ä»·"><a href="#ç®—æ³•å’Œç®—æ³•è¯„ä»·" class="headerlink" title="ç®—æ³•å’Œç®—æ³•è¯„ä»·"></a>ç®—æ³•å’Œç®—æ³•è¯„ä»·</h2><p><img src=".\algorithm.png" alt="algorithm" style="zoom:67%;" /></p><h2 id="ä»€ä¹ˆæ˜¯ç®—æ³•"><a href="#ä»€ä¹ˆæ˜¯ç®—æ³•" class="headerlink" title="ä»€ä¹ˆæ˜¯ç®—æ³•"></a>ä»€ä¹ˆæ˜¯ç®—æ³•</h2><blockquote><p><strong>ç¨‹åº = æ•°æ®ç»“æ„ + ç®—æ³•</strong></p></blockquote><p><strong>æ•°æ®ç»“æ„</strong>ï¼šå¦‚ä½•æŠŠç°å®ä¸–ç•Œçš„é—®é¢˜ä¿¡æ¯åŒ–ï¼Œå°†ä¿¡æ¯å­˜å…¥è®¡ç®—æœºã€‚åŒæ—¶è¿˜è¦å®ç°å¯¹æ•°æ®ç»“æ„çš„åŸºæœ¬æ“ä½œã€‚</p><p><strong>ç®—æ³•</strong>ï¼šå¦‚ä½•å¤„ç†è¿™äº›ä¿¡æ¯ï¼Œå»è§£å†³å®é™…é—®é¢˜ã€‚</p><blockquote><p>ä¸»è¦å­¦ä¹ <code>æ•°æ®ç»“æ„çš„åº”ç”¨</code>ã€æŸ¥æ‰¾å’Œæ’åºç®—æ³•ã€‚</p></blockquote><h3 id="ç®—æ³•çš„ç‰¹æ€§"><a href="#ç®—æ³•çš„ç‰¹æ€§" class="headerlink" title="ç®—æ³•çš„ç‰¹æ€§"></a>ç®—æ³•çš„ç‰¹æ€§</h3><h4 id="ğŸ‰æœ‰ç©·æ€§"><a href="#ğŸ‰æœ‰ç©·æ€§" class="headerlink" title="ğŸ‰æœ‰ç©·æ€§"></a>ğŸ‰æœ‰ç©·æ€§</h4><p><strong>æœ‰ç©·æ€§</strong>ï¼šä¸€ä¸ª<strong>ç®—æ³•å¿…é¡»æ€»å†æ‰§è¡Œæœ‰ç©·æ­¥ä¹‹åç»“æŸ</strong>ï¼Œä¸”<strong>æ¯ä¸€æ­¥</strong>éƒ½å¯åœ¨<strong>åˆç©·æ—¶é—´</strong>å†…å®Œæˆ(ä½†<strong>ç¨‹åºå¯ä»¥æ˜¯æ— ç©·</strong>çš„)ã€‚</p><h4 id="ğŸ‰ç¡®å®šæ€§"><a href="#ğŸ‰ç¡®å®šæ€§" class="headerlink" title="ğŸ‰ç¡®å®šæ€§"></a>ğŸ‰ç¡®å®šæ€§</h4><p><strong>ç¡®å®šæ€§</strong>ï¼šç®—æ³•ä¸­<strong>æ¯æ¡æŒ‡ä»¤å¿…é¡»æœ‰ç¡®åˆ‡</strong>çš„å«ä¹‰ï¼Œå¯¹äº<strong>ç›¸åŒçš„è¾“å…¥</strong>åªèƒ½å¾—åˆ°<strong>ç›¸åŒçš„è¾“å‡º</strong>ã€‚</p><h4 id="ğŸ‰å¯è¡Œæ€§"><a href="#ğŸ‰å¯è¡Œæ€§" class="headerlink" title="ğŸ‰å¯è¡Œæ€§"></a>ğŸ‰å¯è¡Œæ€§</h4><p><strong>å¯è¡Œæ€§</strong>ï¼šç®—æ³•ä¸­æè¿°çš„æ“ä½œéƒ½å¯ä»¥é€šè¿‡å·²ç»å®ç°çš„<strong>åŸºæœ¬è¿ç®—æ‰§è¡Œæœ‰é™æ¬¡</strong>æ¥å®ç°ã€‚</p><h4 id="ğŸ‰è¾“å…¥"><a href="#ğŸ‰è¾“å…¥" class="headerlink" title="ğŸ‰è¾“å…¥"></a>ğŸ‰è¾“å…¥</h4><p>ä¸€ä¸ªç®—æ³•æœ‰<strong>é›¶ä¸ªæˆ–å¤šä¸ªè¾“å…¥</strong>ï¼Œè¿™äº›è¾“å…¥å–è‡ªäºæŸä¸ªç‰¹å®šçš„å¯¹è±¡é›†åˆ</p><h4 id="ğŸ‰è¾“å‡º"><a href="#ğŸ‰è¾“å‡º" class="headerlink" title="ğŸ‰è¾“å‡º"></a>ğŸ‰è¾“å‡º</h4><p>ä¸€ä¸ªç®—æ³•æœ‰<strong>ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å‡º</strong>ï¼Œè¿™äº›è¾“å‡ºæ˜¯ä¸è¾“å…¥æœ‰ç€æŸäº›ç‰¹å®šå…³ç³»çš„é‡ã€‚</p><blockquote><p>y = fï¼ˆxï¼‰ xæ˜¯è¾“å…¥ï¼Œyæ˜¯è¾“å‡º fï¼ˆï¼‰ä¸ºç®—æ³•ã€‚</p></blockquote><h3 id="ç®—æ³•çš„è¯„ä»·æŒ‡æ ‡"><a href="#ç®—æ³•çš„è¯„ä»·æŒ‡æ ‡" class="headerlink" title="ç®—æ³•çš„è¯„ä»·æŒ‡æ ‡"></a>ç®—æ³•çš„è¯„ä»·æŒ‡æ ‡</h3><h4 id="ğŸŒ¹æ­£ç¡®æ€§"><a href="#ğŸŒ¹æ­£ç¡®æ€§" class="headerlink" title="ğŸŒ¹æ­£ç¡®æ€§"></a>ğŸŒ¹æ­£ç¡®æ€§</h4><p>ç®—æ³•åº”èƒ½å¤Ÿæ­£ç¡®åœ°è§£å†³é—®é¢˜</p><h4 id="ğŸŒ¹å¯è¯»æ€§"><a href="#ğŸŒ¹å¯è¯»æ€§" class="headerlink" title="ğŸŒ¹å¯è¯»æ€§"></a>ğŸŒ¹å¯è¯»æ€§</h4><p>ç®—æ³•åº”è¯¥æœ‰è‰¯å¥½åœ°å¯è¯»æ€§ï¼Œä»¥å¸®åŠ©äººä»¬ç†è§£ï¼ˆè¦æ— æ­§ä¹‰åœ°æè¿°è§£å†³é—®é¢˜çš„æ­¥éª¤ï¼‰</p><h4 id="ğŸŒ¹å¥å£®æ€§"><a href="#ğŸŒ¹å¥å£®æ€§" class="headerlink" title="ğŸŒ¹å¥å£®æ€§"></a>ğŸŒ¹å¥å£®æ€§</h4><p>è¾“å…¥éæ³•æ•°æ®æ—¶ï¼Œç®—æ³•èƒ½é€‚å½“åœ°åšå‡ºååº”æˆ–è¿›è¡Œå¤„ç†ï¼Œè€Œä¸ä¼šäº§ç”Ÿè«åå…¶å¦™çš„è¾“å‡ºç»“æœ</p><h4 id="ğŸŒ¹æ•ˆç‡ä¸ä½å­˜å‚¨é‡éœ€æ±‚"><a href="#ğŸŒ¹æ•ˆç‡ä¸ä½å­˜å‚¨é‡éœ€æ±‚" class="headerlink" title="ğŸŒ¹æ•ˆç‡ä¸ä½å­˜å‚¨é‡éœ€æ±‚"></a>ğŸŒ¹æ•ˆç‡ä¸ä½å­˜å‚¨é‡éœ€æ±‚</h4><p>ç®—æ³•çš„<strong>æ‰§è¡Œæ—¶é—´</strong>å’Œç®—æ³•<strong>æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€éœ€è¦çš„æœ€å¤§å­˜å‚¨ç©ºé—´</strong></p><p>ç®—æ³•æ‰§è¡Œ<strong>çœæ—¶ï¼ˆæ—¶é—´å¤æ‚åº¦ä½ï¼‰</strong>ã€<strong>çœå†…å­˜ï¼ˆç©ºé—´å¤æ‚åº¦ä½ï¼‰</strong></p><h3 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><blockquote><p>ç®—æ³•çš„æ•ˆç‡å¦‚ä½•åº¦é‡ï¼Ÿ <code>æ—¶é—´å¤æ‚åº¦</code>+<code>ç©ºé—´å¤æ‚æ®µ</code></p></blockquote><p><strong>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦</strong>ä¸èƒ½åœ¨äº‹å<strong>ç»Ÿè®¡è¿è¡Œæ—¶é—´çš„æ–¹å¼</strong>è¿›è¡Œç»Ÿè®¡ï¼Œå› ä¸ºç®—æ³•å’Œæœºå™¨æ€§èƒ½ã€ç¼–ç¨‹è¯­è¨€ï¼ˆç¼–è¯‘å™¨ï¼‰â€¦å› ç´ æœ‰å…³ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦é‡‡ç”¨äº‹å‰<strong>é¢„ä¼°ç®—æ³•æ—¶é—´å¼€é”€Tï¼ˆnï¼‰ä¸é—®é¢˜è§„æ¨¡n</strong>çš„å…³ç³» T=T(n)ã€‚</p><h4 id="ğŸ¦ŠOæ¸è¿‘ä¸Šç•Œ"><a href="#ğŸ¦ŠOæ¸è¿‘ä¸Šç•Œ" class="headerlink" title="ğŸ¦ŠOæ¸è¿‘ä¸Šç•Œ"></a>ğŸ¦ŠOæ¸è¿‘ä¸Šç•Œ</h4><p><img src=".\O.png" alt=""></p><h4 id="ğŸ¦ŠÎ©æ¸è¿‘ä¸‹ç•Œ"><a href="#ğŸ¦ŠÎ©æ¸è¿‘ä¸‹ç•Œ" class="headerlink" title="ğŸ¦ŠÎ©æ¸è¿‘ä¸‹ç•Œ"></a>ğŸ¦ŠÎ©æ¸è¿‘ä¸‹ç•Œ</h4><p><img src=".\omiga.png" alt=""></p><h4 id="ğŸ¦ŠÎ¸å‡†ç¡®çš„ç•Œ"><a href="#ğŸ¦ŠÎ¸å‡†ç¡®çš„ç•Œ" class="headerlink" title="ğŸ¦ŠÎ¸å‡†ç¡®çš„ç•Œ"></a>ğŸ¦ŠÎ¸å‡†ç¡®çš„ç•Œ</h4><p><img src=".\sita.png" alt=""></p><p><img src=".\sita2.png" alt=""></p><p>æˆ‘ä»¬åªå…³æ³¨<code>æœ€åæƒ…å†µ</code>å’Œ<code>å¹³å‡æƒ…å†µ</code> æ‰€ä»¥æˆ‘ä»¬è®¡ç®—å‡ºçš„Oé€šå¸¸æ˜¯æŒ‡Î¸å‡†ç¡®ç•Œã€‚</p><h4 id="ä¹˜æ³•å’ŒåŠ æ³•å®šç†"><a href="#ä¹˜æ³•å’ŒåŠ æ³•å®šç†" class="headerlink" title="ä¹˜æ³•å’ŒåŠ æ³•å®šç†"></a>ä¹˜æ³•å’ŒåŠ æ³•å®šç†</h4><p>T(n,m) = T1(n) + T2(n) = O (max ( f(n),g(m) )</p><p>T(n,m) = T1(n) <em> T2(m) = O (f(n) </em> g(m))</p><h4 id="å¸¸è§çš„æ—¶é—´å¤æ‚åº¦"><a href="#å¸¸è§çš„æ—¶é—´å¤æ‚åº¦" class="headerlink" title="å¸¸è§çš„æ—¶é—´å¤æ‚åº¦"></a>å¸¸è§çš„æ—¶é—´å¤æ‚åº¦</h4><p><img src=".\time.png" alt="" style="zoom:60%;" /></p><blockquote><p><strong>O(1) &lt; O(logn) &lt; O(n) &lt; O(nlogn) &lt; O(n2) &lt; O(n3) &lt; O(2n) &lt; O(n!) &lt; O(n<sup>n</sup>) </strong> å¸¸å¯¹å¹‚æŒ‡é˜¶</p></blockquote><p>æˆ‘ä»¬æ ¹æ®åŠ æ³•è§„åˆ™åªéœ€è¦å…³æ³¨<code>å†…å­˜å¾ªç¯</code>ä¸­çš„<code>é˜¶æ•°æœ€é«˜</code>éƒ¨åˆ†ï¼Œæ‰€ä»¥æ‰¾æ±‚æ—¶é—´å¤æ‚åº¦ï¼Œæˆ‘å°±çš„æ–¹æ³•</p><ol><li>æ‰¾å†…å­˜å¾ªç¯</li><li>æ‰¾å¾ªç¯ç»“æŸæ¡ä»¶</li><li>æ ¹æ®ç»“æŸæ¡ä»¶è®¡ç®—å†…å±‚å¾ªç¯å¤§æ¦‚åœ¨é‚£ä¸ªæ•°é‡çº§</li></ol><h3 id="ç©ºé—´å¤æ‚åº¦"><a href="#ç©ºé—´å¤æ‚åº¦" class="headerlink" title="ç©ºé—´å¤æ‚åº¦"></a>ç©ºé—´å¤æ‚åº¦</h3><p><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼š<strong>å†…å­˜å¼€é”€ä¸é—®é¢˜è§„æ¨¡nä¹‹é—´çš„å…³ç³»</strong>    <strong>S(n)=O (g(n))</strong></p><h4 id="å¤æ‚åº¦å¸¸é‡å‹-S-n-Oï¼ˆ1ï¼‰"><a href="#å¤æ‚åº¦å¸¸é‡å‹-S-n-Oï¼ˆ1ï¼‰" class="headerlink" title="å¤æ‚åº¦å¸¸é‡å‹ S(n)=Oï¼ˆ1ï¼‰"></a>å¤æ‚åº¦å¸¸é‡å‹ S(n)=Oï¼ˆ1ï¼‰</h4><p><img src=".\store33.png" alt="ç®—æ³•å¯åŸåœ°å·¥ä½œ"></p><h4 id="éå¸¸é‡å‹ï¼š"><a href="#éå¸¸é‡å‹ï¼š" class="headerlink" title="éå¸¸é‡å‹ï¼š"></a>éå¸¸é‡å‹ï¼š</h4><ol><li>ä¸€ç»´æ•°ç»„ï¼šint flag[n]ï¼Œnè¶Šå¤§ï¼Œå çš„ç©ºé—´è¶Šå¤š</li><li>äºŒç»´æ•°ç»„:  int flag[n][n] , åŒä¸Šï¼Œä¸ºn<sup>2</sup></li><li><strong>å‡½æ•°é€’å½’è°ƒç”¨</strong></li></ol><p><img src=".\DIGUI1.png" alt="é€’å½’1ï¼Œå˜é‡æ— æ•°ç»„"></p><p><img src=".\DIGUI2.png" alt="é€’å½’2ï¼Œå‡½æ•°ä¸­æœ‰æ•°ç»„"></p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-è€ƒç ” -ç‹é“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GoF_åˆ†ç±»</title>
    <link href="/2021/01/23/GoF-%E5%88%86%E7%B1%BB/"/>
    <url>/2021/01/23/GoF-%E5%88%86%E7%B1%BB/</url>
    
    <content type="html"><![CDATA[<h1 id="GOF-23-æ¨¡å¼åˆ†ç±»"><a href="#GOF-23-æ¨¡å¼åˆ†ç±»" class="headerlink" title="GOF-23 æ¨¡å¼åˆ†ç±»"></a>GOF-23 æ¨¡å¼åˆ†ç±»</h1><h2 id="ä»ç›®çš„æ¥çœ‹ï¼š"><a href="#ä»ç›®çš„æ¥çœ‹ï¼š" class="headerlink" title="ä»ç›®çš„æ¥çœ‹ï¼š"></a><a href="ttps://refactoring.guru/design-patterns/catalog">ä»ç›®çš„æ¥çœ‹</a>ï¼š</h2><ul><li><strong>åˆ›å»ºå‹(Creational)æ¨¡å¼</strong> ï¼šå°†<strong>å¯¹è±¡çš„éƒ¨åˆ†åˆ›å»ºå·¥ä½œå»¶è¿Ÿåˆ°å­ç±»æˆ–è€…å…¶ä»–å¯¹è±¡</strong>ï¼Œä»è€Œåº”å¯¹éœ€æ±‚å˜åŒ–ä¸ºå¯¹è±¡åˆ›å»ºæ—¶å…·ä½“ç±»å‹å®ç°å¼•æ¥çš„å†²å‡»ã€‚</li><li><strong>ç»“æ„å‹(Structural) æ¨¡å¼</strong>ï¼š é€šè¿‡<strong>ç±»ç»§æ‰¿æˆ–è€…å¯¹è±¡ç»„åˆè·å¾—æ›´çµæ´»çš„ç»“æ„</strong>ï¼Œä»è€Œåº”å¯¹éœ€æ±‚å˜åŒ–ä¸ºå¯¹è±¡çš„ç»“æ„å¸¦æ¥çš„å†²å‡»ã€‚</li><li><strong>è¡Œä¸ºï¼ˆBehavioral)æ¨¡å¼</strong> ï¼šé€šè¿‡<strong>ç±»ç»§æ‰¿æˆ–è€…å¯¹è±¡ç»„åˆæ¥åˆ’åˆ†ç±»ä¸å¯¹è±¡é—´çš„èŒè´£</strong>ï¼Œä»è€Œåº”å¯¹éœ€æ±‚å˜åŒ–ä¸ºå¤šä¸ªäº¤äº’çš„å¯¹è±¡å¸¦æ¥ çš„å†²å‡»ã€‚</li></ul><p><img src=".\GoF_classify.png" alt=""></p><h2 id="ä»èŒƒå›´æ¥çœ‹"><a href="#ä»èŒƒå›´æ¥çœ‹" class="headerlink" title="ä»èŒƒå›´æ¥çœ‹"></a>ä»èŒƒå›´æ¥çœ‹</h2><ul><li>ç±»æ¨¡å¼å¤„ç†ç±»ä¸å­ç±»çš„é™æ€å…³ç³»ã€‚ </li><li>å¯¹è±¡æ¨¡å¼å¤„ç†å¯¹è±¡é—´çš„åŠ¨æ€å…³ç³»ã€‚</li></ul><h2 id="ä»å°è£…å˜åŒ–è§’åº¦åˆ†ç±»"><a href="#ä»å°è£…å˜åŒ–è§’åº¦åˆ†ç±»" class="headerlink" title="ä»å°è£…å˜åŒ–è§’åº¦åˆ†ç±»"></a>ä»å°è£…å˜åŒ–è§’åº¦åˆ†ç±»</h2><p><img src=".\classify.png" alt="æè€å¸ˆçš„åˆ†ç±»æ–¹æ³•"></p><h2 id="é‡æ„è·å¾—æ¨¡å¼-Refactoring-to-Patterns"><a href="#é‡æ„è·å¾—æ¨¡å¼-Refactoring-to-Patterns" class="headerlink" title="é‡æ„è·å¾—æ¨¡å¼ Refactoring to Patterns"></a>é‡æ„è·å¾—æ¨¡å¼ Refactoring to Patterns</h2><ul><li>é¢å‘å¯¹è±¡è®¾è®¡æ¨¡å¼æ˜¯â€œå¥½çš„é¢å‘å¯¹è±¡è®¾è®¡â€ï¼Œæ‰€è°“â€œå¥½çš„é¢å‘å¯¹è±¡è®¾è®¡â€æŒ‡æ˜¯é‚£äº›å¯ä»¥æ»¡è¶³ â€œ<strong>åº”å¯¹å˜åŒ–ï¼Œæé«˜å¤ç”¨</strong>â€çš„è®¾è®¡ ã€‚</li><li>ç°ä»£è½¯ä»¶è®¾è®¡çš„ç‰¹å¾æ˜¯â€œéœ€æ±‚çš„é¢‘ç¹å˜åŒ–â€ã€‚è®¾è®¡æ¨¡å¼çš„è¦ç‚¹æ˜¯ â€œ<strong>å¯»æ‰¾å˜åŒ–ç‚¹</strong>ï¼Œç„¶ååœ¨å˜åŒ–ç‚¹å¤„åº”ç”¨è®¾è®¡æ¨¡å¼ï¼Œä»è€Œæ¥æ›´å¥½åœ°åº”å¯¹éœ€æ±‚çš„å˜åŒ–â€.â€œ<strong>ä»€ä¹ˆæ—¶å€™ã€ä»€ä¹ˆåœ°ç‚¹åº”ç”¨è®¾è®¡æ¨¡å¼</strong>â€æ¯”â€œç†è§£è®¾è®¡æ¨¡å¼ç»“æ„æœ¬èº«â€æ›´ä¸ºé‡è¦ã€‚</li><li>è®¾è®¡æ¨¡å¼çš„åº”ç”¨<strong>ä¸å®œå…ˆå…¥ä¸ºä¸»</strong>ï¼Œä¸€ä¸Šæ¥å°±ä½¿ç”¨è®¾è®¡æ¨¡å¼æ˜¯å¯¹è®¾è®¡æ¨¡å¼çš„æœ€å¤§è¯¯ç”¨ã€‚æ²¡æœ‰ä¸€æ­¥åˆ°ä½çš„è®¾è®¡æ¨¡å¼ã€‚æ•æ·è½¯ä»¶å¼€å‘å®è·µæå€¡çš„â€œ<strong>Refactoring to Patterns</strong>â€æ˜¯ç›®å‰æ™®éå…¬è®¤çš„æœ€å¥½çš„ä½¿ç”¨è®¾è®¡æ¨¡å¼çš„æ–¹æ³•ã€‚</li></ul><p><img src=".\refactoring.png" alt="æè€å¸ˆæ¨èå›¾ä¹¦"></p><h2 id="é‡æ„å…³é”®æŠ€æ³•"><a href="#é‡æ„å…³é”®æŠ€æ³•" class="headerlink" title="é‡æ„å…³é”®æŠ€æ³•"></a>é‡æ„å…³é”®æŠ€æ³•</h2><h3 id="ğŸŒ¿é™æ€-gt-åŠ¨æ€"><a href="#ğŸŒ¿é™æ€-gt-åŠ¨æ€" class="headerlink" title="ğŸŒ¿é™æ€ -&gt; åŠ¨æ€"></a>ğŸŒ¿é™æ€ -&gt; åŠ¨æ€</h3><h3 id="ğŸŒ¿æ—©ç»‘å®š-gt-æ™šç»‘å®š"><a href="#ğŸŒ¿æ—©ç»‘å®š-gt-æ™šç»‘å®š" class="headerlink" title="ğŸŒ¿æ—©ç»‘å®š -&gt; æ™šç»‘å®š"></a>ğŸŒ¿æ—©ç»‘å®š -&gt; æ™šç»‘å®š</h3><h3 id="ğŸŒ¿ç»§æ‰¿-gt-ç»„åˆ"><a href="#ğŸŒ¿ç»§æ‰¿-gt-ç»„åˆ" class="headerlink" title="ğŸŒ¿ç»§æ‰¿ -&gt; ç»„åˆ"></a>ğŸŒ¿ç»§æ‰¿ -&gt; ç»„åˆ</h3><h3 id="ğŸŒ¿ç¼–è¯‘æ—¶ä¾èµ–-gt-è¿è¡Œæ—¶ä¾èµ–"><a href="#ğŸŒ¿ç¼–è¯‘æ—¶ä¾èµ–-gt-è¿è¡Œæ—¶ä¾èµ–" class="headerlink" title="ğŸŒ¿ç¼–è¯‘æ—¶ä¾èµ– -&gt; è¿è¡Œæ—¶ä¾èµ–"></a>ğŸŒ¿ç¼–è¯‘æ—¶ä¾èµ– -&gt; è¿è¡Œæ—¶ä¾èµ–</h3><h3 id="ğŸŒ¿ç´§è€¦åˆ-gt-æ¾è€¦åˆ"><a href="#ğŸŒ¿ç´§è€¦åˆ-gt-æ¾è€¦åˆ" class="headerlink" title="ğŸŒ¿ç´§è€¦åˆ -&gt; æ¾è€¦åˆ"></a>ğŸŒ¿ç´§è€¦åˆ -&gt; æ¾è€¦åˆ</h3>]]></content>
    
    
    <categories>
      
      <category>è®¾è®¡æ¨¡å¼</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-è®¾è®¡æ¨¡å¼ -cpp -æå»ºå¿ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é€’å½’:Fibonacciï¼ˆğŸ‡ğŸ¸ï¼‰ä¸ğŸ—¼</title>
    <link href="/2021/01/23/Fibonacci%E5%85%94%E4%B8%8E%E9%9D%92%E8%9B%99/"/>
    <url>/2021/01/23/Fibonacci%E5%85%94%E4%B8%8E%E9%9D%92%E8%9B%99/</url>
    
    <content type="html"><![CDATA[<h1 id="Fibonacci"><a href="#Fibonacci" class="headerlink" title="Fibonacci"></a>Fibonacci</h1><h2 id="é—®é¢˜å¼•å…¥"><a href="#é—®é¢˜å¼•å…¥" class="headerlink" title="é—®é¢˜å¼•å…¥"></a>é—®é¢˜å¼•å…¥</h2><p>è¥¿å…ƒ1202å¹´ï¼Œä¸€ä½åå«æ–æ³¢é‚£å¥‘æ„å¤§åˆ©é’å¹´åœ¨ä»–çš„ä¸€éƒ¨è‘—ä½œä¸­æå‡ºäº†ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜:   å‡è®¾ä¸€å¯¹åˆšå‡ºç”Ÿçš„å°å…”<strong>ä¸€ä¸ªæœˆå</strong>å°±èƒ½é•¿æˆå¤§å…”ï¼Œå†è¿‡ä¸€ä¸ªæœˆå°±èƒ½ç”Ÿä¸‹ä¸€å¯¹å°å…”ï¼Œå¹¶ä¸”æ­¤åæ¯ä¸ªæœˆéƒ½ç”Ÿä¸€å¯¹å°å…”ï¼Œä¸€å¹´å†…æ²¡æœ‰å‘ç”Ÿæ­»äº¡ï¼Œé—®ï¼šä¸€å¯¹åˆšå‡ºç”Ÿçš„å…”å­ï¼Œä¸€å¹´å†…ç¹æ®–æˆå¤šå°‘å¯¹å…”å­?</p><p><img src=".\tuzi.jpg" alt="" style="zoom:67%;" /></p><blockquote><p>é»‘ç‚¹è¡¨ç¤ºçš„æ˜¯æˆç†Ÿå…”å­ï¼Œç™½ç‚¹è¡¨ç¤ºçš„æ˜¯å°å…”å­</p></blockquote><p>ç”±å›¾æˆ‘ä»¬å¯ä»¥å‘ç°è¿™ä¸ªæ•°å­—æ˜¯ç”±è§„å¾‹çš„ï¼Œ<code>è¯¥æœˆçš„å…”å­æ•°=å‰ä¸¤ä¸ªæœˆä¹‹å’Œ</code>ï¼ˆå¦‚æœæœˆä»½&gt;2çš„è¯ï¼‰ï¼Œè¿™å¾ˆå¥½ç†è§£ï¼Œä¸Šä¸Šä¸ªæœˆçš„å…”å­åˆ°ä¸Šä¸ªæœˆæ—¶éƒ½æ˜¯æˆç†Ÿçš„å…”å­ğŸ‡ï¼Œæ‰€ä»¥ <code>è¯¥æœˆçš„å…”å­æ•°=å‰ä¸€ä¸ªæœˆçš„å…”å­+å‰ä¸€ä¸ªæœˆå·²ç»æˆç†Ÿçš„å…”å­ï¼ˆå³æˆç†Ÿçš„å…”å­ï¼‰</code>å…¬å¼ğŸ‘‡</p><script type="math/tex; mode=display">F[n]=\begin{cases}    0,n=0\\    1,n=1\\    F[n-1]+F[n-2],n>=2\\\end{cases}</script><p><img src=".\number.jpg" alt="å¢é•¿ç‡0.618" style="zoom:67%;" /></p><p>è¿™å°±å¼•å…¥äº†æ–æ³¢é‚£å¥‘æ•°åˆ—çš„é—®é¢˜ï¼Œæ›´å¤šè¯¦æƒ…è¯·çœ‹ğŸ‘‰ <a href="https://zhuanlan.zhihu.com/p/26752744">ä¸æ­»ç¥å…”çš„ç¹è¡ç”Ÿæ¯â€”â€”ç¥å¥‡çš„æ–æ³¢é‚£å¥‘æ•°åˆ—</a> </p><h2 id="é€šé¡¹å…¬å¼"><a href="#é€šé¡¹å…¬å¼" class="headerlink" title="é€šé¡¹å…¬å¼"></a>é€šé¡¹å…¬å¼</h2><script type="math/tex; mode=display">é€’æ¨å…¬å¼ï¼šan=anâˆ’1+anâˆ’2(nâ‰¥3)</script><script type="math/tex; mode=display">è£‚é¡¹ç›¸æ¶ˆï¼šanâˆ’Î»anâˆ’1=Î¼(anâˆ’1âˆ’Î»anâˆ’2)</script><script type="math/tex; mode=display">\begin{cases}    Î»+Î¼=1\\    âˆ’Î»Ã—Î¼=1\end{cases}</script><p>æ±‚å‡ºÎ»å’ŒÎ¼ä¸¤ç»„è§£æ”¾å…¥è£‚é¡¹ç›¸æ¶ˆçš„åŸå¼ä¸­</p><p><img src=".\formula1.png" alt=""></p><p><img src=".\formula4.png" alt=""></p><p><img src=".\formula3.png" alt=""></p><script type="math/tex; mode=display">æœ€åæ±‚å¾—é€šé¡¹å…¬å¼:F(N)={5\over\sqrt5}(({1+\sqrt5\over2})^n-({1-\sqrt5\over2})^n)</script><h2 id="ç®—æ³•æ±‚è§£ï¼š"><a href="#ç®—æ³•æ±‚è§£ï¼š" class="headerlink" title="ç®—æ³•æ±‚è§£ï¼š"></a>ç®—æ³•æ±‚è§£ï¼š</h2><p>ä¸å±•å¼€Fibonacciçš„è¯é¢˜æ¢è®¨äº†ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç”¨ä»£ç æ¥è§£å†³ä¸Šé¢è¿™ä¸ªå…”å­é—®é¢˜      ï¼ˆğŸ”—ğŸ‘‰ <a href="https://leetcode-cn.com/problems/fei-bo-na-qi-shu-lie-lcof/">Fibonacci Leetcode</a>ï¼‰</p><h3 id="é€’å½’æ±‚æ³•"><a href="#é€’å½’æ±‚æ³•" class="headerlink" title="é€’å½’æ±‚æ³•"></a>é€’å½’æ±‚æ³•</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 1  é€’å½’ç®—æ³•æ±‚è§£</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">fib</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(n&lt;=<span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(n==<span class="hljs-number">1</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> fib(n<span class="hljs-number">-1</span>)+fib(n<span class="hljs-number">-2</span>);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><img src=".\recursion.png" alt="é€’å½’ç®—æ³•n=4çš„è¿‡ç¨‹"></p><p>æ˜¾ç„¶æˆ‘ä»¬çœ‹åˆ°é€’å½’ç®—æ³•è®¡ç®—n=4æ—¶ï¼Œf(1)è¢«è®¡ç®—äº†ä¸‰æ¬¡ï¼Œf(2)è¢«è®¡ç®—äº†ä¸¤æ¬¡â€¦  è®¡ç®—æ•ˆç‡åº•ä¸‹ã€‚</p><script type="math/tex; mode=display">é€šé¡¹å…¬å¼:F(N)={5\over\sqrt5}(({1+\sqrt5\over2})^n-({1-\sqrt5\over2})^n)</script><p>å¤æ‚åº¦çš„è®¡ç®—ï¼šæ¯ä¸ªç»“ç‚¹éƒ½æœ‰ä¸€æ¬¡è®¡ç®—ï¼Œæˆ‘ä»¬è®¡ç®—æ€»ç»“ç‚¹æ•°å³å¯ã€‚</p><ul><li>ç¬¬Nè½®çš„å¶å­ç»“ç‚¹æ€»æ•°:      F[N]=F[n-1]+F[n-2]</li><li>è€Œéå¶å­ç»“ç‚¹åŠ ä¸€ç­‰äºå¶å­ç»“ç‚¹    <ul><li>æ€»ç»“ç‚¹=F[n-1]+F[n-2]+F[n-1]+F[n-2]-1=2F[n-1]+2F[N-2]-1&lt;4F[N-1]</li></ul></li><li>æ˜¾ç„¶ï¼Œnè¶‹äºâˆæ—¶ï¼ŒOï¼ˆ2F[n-1]+2F[N-2]-1ï¼‰ =  Oï¼ˆ4F[N-1]ï¼‰= Oï¼ˆF[N]ï¼‰</li></ul><p>æ•…æ—¶é—´å¤æ‚åº¦ï¼Œç­‰äºé€šé¡¹å…¬å¼ï¼Œå»æ‰å°äº1çš„æŒ‡æ•°é¡¹ï¼Œå¾—ï¼š  <code>(è¿™é‡ŒOæ˜¯æ¸è¿›ä¸Šå±Š)</code></p><script type="math/tex; mode=display">O({1+\sqrt5\over2})^n</script><h3 id="è¿­ä»£"><a href="#è¿­ä»£" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>   <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">fib</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> m = <span class="hljs-number">2</span>; m &lt;= n; m++) &#123;<br>        k = i + j;<br>        i = j;<br>        j = k;<br>    &#125;<br>        <span class="hljs-keyword">return</span> k;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><blockquote><p>LeetCodeæ³¨æ„ç‚¹ï¼šç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚k = i + jè¿™å¥åé¢åŠ ä¸€ä¸ª%1000000007å³å¯ï¼Œå°½é‡ä¸è¦åœ¨åé¢returnå†å–ä½™ï¼Œå…ˆå–åå–ç»“æœæ˜¯ä¸€æ ·çš„,åå–è¿˜å¯èƒ½æº¢å‡ºã€‚</p></blockquote><p>è¿­ä»£çš„<code>å¤æ‚åº¦å°±æ˜¯n</code>   </p><h2 id="æ‹“å±•ï¼šé’è›™è·³å°é˜¶"><a href="#æ‹“å±•ï¼šé’è›™è·³å°é˜¶" class="headerlink" title="æ‹“å±•ï¼šé’è›™è·³å°é˜¶"></a><a href="https://leetcode-cn.com/problems/qing-wa-tiao-tai-jie-wen-ti-lcof/">æ‹“å±•ï¼šé’è›™è·³å°é˜¶</a></h2><p>ä¸€åªé’è›™ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§å°é˜¶ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ª <code>n</code> çº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ã€‚</p><blockquote><p>ç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚</p></blockquote><ul><li>ç¬¬ä¸€çº§å°é˜¶æœ‰1ç§è·³æ³•è·³ä¸Šå»</li><li>ç¬¬äºŒçº§å°é˜¶æœ‰2ç§è·³æ³•è·³ä¸Šå»ï¼Œä¸€ç§æ˜¯ç›´æ¥è·³ä¸¤çº§å°é˜¶ï¼Œä¸€ç§æ˜¯ä¸¤æ¬¡è·³1çº§å°é˜¶</li><li>ç¬¬nçº§æœ‰<code>ä¸¤ç§æ–¹å¼</code>ç¬¬ä¸€ç§æ˜¯ä»<code>n-1çº§è·³1çº§å°é˜¶ä¸Šå»</code>ï¼Œç¬¬äºŒç§æ˜¯ä»<code>n-2çº§è·³ä¸¤çº§å°é˜¶ä¸Šå»</code>ï¼Œæ‰€ä»¥<code>è·³ä¸Šnçº§å°é˜¶çš„ç§æ•°æœ‰f(n-1)+f(n-2)</code></li></ul><script type="math/tex; mode=display">F[n]=\begin{cases}    1,n=1\\    2,n=2\\    F[n-1]+F[n-2],n>=3\\\end{cases}</script><p>Fibonacciå…¬å¼åŒæ ·é€‚ç”¨äºè¿™é‡Œã€‚ <code>//æ³¨æ„åŠ›æ‰£é¢˜ç›®æ ·ä¾‹ä¸­0çº§å°é˜¶ä¹Ÿæœ‰ä¸€ç§è·³æ³•</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">numWays</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span> || n == <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> m = <span class="hljs-number">2</span>; m &lt;= n; m++) &#123;<br>            k = (i + j) % <span class="hljs-number">1000000007</span>;<br>            i = j;<br>            j = k;<br>        &#125;<br>        <span class="hljs-keyword">return</span> k;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="æ±‰è¯ºå¡”"><a href="#æ±‰è¯ºå¡”" class="headerlink" title="æ±‰è¯ºå¡”"></a><a href="https://leetcode-cn.com/problems/hanota-lcci/">æ±‰è¯ºå¡”</a></h1><h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>åœ¨ç»å…¸æ±‰è¯ºå¡”é—®é¢˜ä¸­ï¼Œæœ‰ 3 æ ¹æŸ±å­åŠ N ä¸ªä¸åŒå¤§å°çš„ç©¿å­”åœ†ç›˜ï¼Œç›˜å­å¯ä»¥æ»‘å…¥ä»»æ„ä¸€æ ¹æŸ±å­ã€‚ä¸€å¼€å§‹ï¼Œæ‰€æœ‰ç›˜å­è‡ªä¸Šè€Œä¸‹æŒ‰å‡åºä¾æ¬¡å¥—åœ¨ç¬¬ä¸€æ ¹æŸ±å­ä¸Š(å³<strong>æ¯ä¸€ä¸ªç›˜å­åªèƒ½æ”¾åœ¨æ›´å¤§çš„ç›˜å­ä¸Šé¢</strong>)ã€‚ç§»åŠ¨åœ†ç›˜æ—¶å—åˆ°ä»¥ä¸‹é™åˆ¶:<br>(1) æ¯æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªç›˜å­;<br>(2) ç›˜å­åªèƒ½ä»æŸ±å­é¡¶ç«¯æ»‘å‡ºç§»åˆ°ä¸‹ä¸€æ ¹æŸ±å­;<br>(3) ç›˜å­åªèƒ½å åœ¨æ¯”å®ƒå¤§çš„ç›˜å­ä¸Šã€‚</p><p>è¯·ç¼–å†™ç¨‹åºï¼Œç”¨æ ˆå°†æ‰€æœ‰ç›˜å­ä»ç¬¬ä¸€æ ¹æŸ±å­ç§»åˆ°æœ€åä¸€æ ¹æŸ±å­ï¼Œä½ éœ€è¦åŸåœ°ä¿®æ”¹æ ˆã€‚</p><blockquote><p>åæ§½ï¼šç›´æ¥æŠŠç¬¬ä¸€æ ¹æŸ±å­å’Œæœ€åä¸€æ ¹æ¢ä¸€ä¸‹ä¸å°±å¾—äº†å˜›ğŸ˜‚</p></blockquote><ul><li><p><strong>æƒ…å†µ1</strong>ï¼šn=1åªæœ‰ä¸€ä¸ªç›˜å­ï¼Œç›´æ¥æŠŠAç§»åŠ¨åˆ°Cå°±å¯ä»¥äº†</p></li><li><p><strong>æƒ…å†µ2ï¼š</strong>n=2æœ‰ä¸¤ä¸ªç›˜å­ğŸ‘‡</p></li></ul><p><img src=".\tower1.gif" alt=""></p><ul><li><p><strong>æƒ…å†µ3</strong>ï¼šn&gt;2 ,æŠŠ n ä¸ªç›˜å­ä¹Ÿçœ‹æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æœ‰ 1 ä¸ªç›˜å­ï¼Œå¦ä¸€éƒ¨åˆ†æœ‰ n - 1ä¸ªç›˜å­ã€‚</p><p><img src=".\tower2.gif" alt=""></p></li></ul><blockquote><p>ä½ å¯èƒ½ä¼šé—®ï¼šâ€œé‚£ n - 1 ä¸ªç›˜å­æ˜¯æ€ä¹ˆä» A ç§»åˆ° C çš„å‘¢ï¼Ÿâ€</p><p>æ³¨æ„ï¼Œå½“ä½ åœ¨æ€è€ƒè¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œå°±å°†<strong>æœ€åˆçš„ n ä¸ªç›˜å­ä» A ç§»åˆ° C çš„é—®é¢˜ï¼Œè½¬åŒ–æˆäº†å°† n - 1 ä¸ªç›˜å­ä» A ç§»åˆ° C çš„é—®é¢˜ï¼Œ ä¾æ¬¡ç±»æ¨ï¼Œç›´è‡³è½¬åŒ–æˆ 1 ä¸ªç›˜å­çš„é—®é¢˜æ—¶ï¼Œé—®é¢˜ä¹Ÿå°±è§£å†³äº†</strong>ã€‚è¿™å°±æ˜¯åˆ†æ²»çš„æ€æƒ³ã€‚ï¼ˆå¼•ç”¨åŠ›æ‰£ä½œè€…<a href="https://leetcode-cn.com/problems/hanota-lcci/solution/tu-jie-yi-nuo-ta-de-gu-shi-ju-shuo-dang-64ge-pan-z/">z1mğŸ”—</a>ï¼‰</p></blockquote><h2 id="ç®—æ³•æ±‚è§£"><a href="#ç®—æ³•æ±‚è§£" class="headerlink" title="ç®—æ³•æ±‚è§£"></a>ç®—æ³•æ±‚è§£</h2><ul><li>n = 1 æ—¶ï¼Œç›´æ¥æŠŠç›˜å­ä» A ç§»åˆ° Cï¼›</li><li>n &gt; 1 æ—¶ï¼Œ<ul><li>å…ˆæŠŠä¸Šé¢ n - 1 ä¸ªç›˜å­ä» A ç§»åˆ° Bï¼ˆå­é—®é¢˜ï¼Œé€’å½’ï¼‰ï¼›</li><li>å†å°†æœ€å¤§çš„ç›˜å­ä» A ç§»åˆ° Cï¼›</li><li>å†å°† B ä¸Š n - 1 ä¸ªç›˜å­ä» B ç§»åˆ° Cï¼ˆå­é—®é¢˜ï¼Œé€’å½’ï¼‰ã€‚</li></ul></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">hanota</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; A, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; B, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; C)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> n=A.size();<br>        move(n,A,B,C);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n,<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; A, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; B, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; C)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(n==<span class="hljs-number">1</span>)&#123;<br>            C.push_back(A.back());<br>            A.pop_back();<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-comment">//å…ˆæŠŠä¸Šé¢n-1ä¸ªç›˜å­ä»Aç§»åˆ°Bï¼ˆå­é—®é¢˜ï¼Œé€’å½’ï¼‰</span><br>            move(n<span class="hljs-number">-1</span>,A,C,B);<br>            <span class="hljs-comment">//å†å°†æœ€å¤§çš„ç›˜å­ä» A ç§»åˆ° C</span><br>            C.push_back(A.back());<br>            A.pop_back();<br>            <span class="hljs-comment">//å†å°†Bä¸Šn-1ä¸ªç›˜å­ä»Bç§»åˆ°Cï¼ˆå­é—®é¢˜ï¼Œé€’å½’ï¼‰</span><br>            move(n<span class="hljs-number">-1</span>,B,A,C);<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-ç®—æ³•æ€»ç»“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å›æ–‡ä¸è¿›åˆ¶è½¬åŒ–</title>
    <link href="/2021/01/23/%E5%9B%9E%E6%96%87%E4%B8%8E%E8%BF%9B%E5%88%B6%E8%BD%AC%E5%8C%96/"/>
    <url>/2021/01/23/%E5%9B%9E%E6%96%87%E4%B8%8E%E8%BF%9B%E5%88%B6%E8%BD%AC%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h1 id="å›æ–‡æ•°"><a href="#å›æ–‡æ•°" class="headerlink" title="å›æ–‡æ•°"></a>å›æ–‡æ•°</h1><p>å…ˆæ¥çœ‹è¿™ä¸€ä¸ªé¢˜ç›®ğŸ‘‡</p><h2 id="9-å›æ–‡æ•°"><a href="#9-å›æ–‡æ•°" class="headerlink" title="9. å›æ–‡æ•°"></a><a href="https://leetcode-cn.com/problems/palindrome-number/">9. å›æ–‡æ•°</a></h2><p>â€‹        åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦æ˜¯å›æ–‡æ•°ã€‚å›æ–‡æ•°æ˜¯æŒ‡æ­£åºï¼ˆä»å·¦å‘å³ï¼‰å’Œå€’åºï¼ˆä»å³å‘å·¦ï¼‰è¯»éƒ½æ˜¯ä¸€æ ·çš„æ•´æ•°ã€‚</p><p><strong>ç¤ºä¾‹1ï¼š</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">è¾“å…¥: 121</span><br><span class="hljs-section">è¾“å‡º: true</span><br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹2ï¼š</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">è¾“å…¥: -121</span><br><span class="hljs-section">è¾“å‡º: false</span><br><span class="hljs-section">è§£é‡Š: ä»å·¦å‘å³è¯», ä¸º -121 ã€‚ ä»å³å‘å·¦è¯», ä¸º 121- ã€‚å› æ­¤å®ƒä¸æ˜¯ä¸€ä¸ªå›æ–‡æ•°ã€‚</span><br></code></pre></td></tr></table></figure><p>â€‹        å›æ–‡æ•°ä¸€èˆ¬éƒ½å¾ˆå¥½æƒ³ï¼Œè´Ÿæ•°å°±è‚¯å®šä¸æ˜¯å›æ–‡äº†ï¼Œç›´æ¥falseï¼Œç„¶åæˆ‘çš„ä¸¤ç§æ€è·¯ã€‚</p><ol><li><strong>æ•´æ•°è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</strong>ï¼Œç”¨å¾ªç¯åˆ¤æ–­ï¼Œæ¯”è¾ƒç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªï¼Œç¬¬äºŒä¸ªå’Œå€’æ•°ç¬¬äºŒä¸ªâ€¦</li><li>å°†è¿™ä¸ª<strong>æ•´æ•°è¿›è¡Œç¿»è½¬</strong>ï¼Œç„¶åå†å’ŒåŸæ•´æ•°å¯¹æ¯”ã€‚</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//æ€è·¯ä¸€å®ç°: ç”¨stringåº“ä¸­çš„to_string()å‡½æ•°(å› ä¸ºæµ®ç‚¹æ•°æœ¬èº«è¡¨ç¤ºåŸå› ï¼Œè¿™ä¸ªå‡½æ•°å¯¹æµ®ç‚¹æ•°è½¬åŒ–ä¸€èˆ¬ä¸ä¼šå¾—åˆ°æƒ³è¦çš„ç»“æœ)</span><br><span class="hljs-built_in">string</span> s= to_string(number);<br><span class="hljs-keyword">int</span> lens=s.length();<br><span class="hljs-keyword">for</span>();<br><span class="hljs-comment">//æ€è·¯äºŒå®ç°:</span><br><span class="hljs-comment">//å‰”é™¤ä¸èƒ½ç¿»è½¬çš„æ•´æ•°</span><br><span class="hljs-keyword">if</span>(x % <span class="hljs-number">10</span> == <span class="hljs-number">0</span> &amp;&amp; x != <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;&#125;<br><span class="hljs-comment">//ç¿»è½¬</span><br><span class="hljs-keyword">int</span> reverteNumber = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> tmp = number;<br>    <span class="hljs-keyword">while</span> (tmp != <span class="hljs-number">0</span>) &#123;<br>        reverteNumber = reverteNumber * <span class="hljs-number">10</span> + tmp % <span class="hljs-number">10</span>;<br>        tmp /= <span class="hljs-number">10</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (reverteNumber == number) &#123; <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; &#125;<br>    <span class="hljs-keyword">else</span> &#123; <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; &#125;<br></code></pre></td></tr></table></figure><p>ç„¶åå†æ¥çœ‹ä¸€ä¸‹ä¸¤é“è“æ¡¥çš„é¢˜ç›®</p><h2 id="BASIC-8-å›æ–‡æ•°"><a href="#BASIC-8-å›æ–‡æ•°" class="headerlink" title="BASIC-8 å›æ–‡æ•°"></a>BASIC-8 <a href="http://lx.lanqiao.cn/problem.page?gpid=T47">å›æ–‡æ•°</a></h2><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><p>â€‹        1221æ˜¯ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„æ•°ï¼Œå®ƒä»å·¦è¾¹è¯»å’Œä»å³è¾¹è¯»æ˜¯ä¸€æ ·çš„ï¼Œç¼–ç¨‹æ±‚æ‰€æœ‰è¿™æ ·çš„å››ä½åè¿›åˆ¶æ•°ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼ï¼š</strong></p><p>â€‹        æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºè¾“å‡ºæ»¡è¶³æ¡ä»¶çš„å››ä½åè¿›åˆ¶æ•°ã€‚</p><blockquote><p>â€‹        ä¸€æ¨¡ä¸€æ ·çš„é¢˜ç›®é¢˜ç›®å¯¹ä¸å¯¹ï¼Œç›´æ¥å†™ä¸ªå¾ªç¯ä»1000å¼€å§‹åˆ¤æ–­ï¼ŒæŒ‰ä¸Šé¢çš„ä¸¤ç§æ€è·¯çœ‹è¿™ä¸ªæ•°æ˜¯ä¸æ˜¯å›æ–‡ï¼Œæ˜¯å›æ–‡åˆ™è¾“å‡ºï¼Œä¸æ˜¯åˆ™continueä¸‹ä¸€ä¸ªç›´åˆ°9999ä¸ºæ­¢ï¼Œç„¶åæˆ‘æ¡†æ¡†æ¡†ï¼Œå•ªå•ªå•ªå†™ä¸‹æ¥äº†ï¼Œ40+è¡Œï¼Œç„¶åæˆ‘çœ‹åˆ°åˆ«äºº(æŸ³è¯º)çš„é¢˜è§£ğŸ‘‡ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">9</span>; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= <span class="hljs-number">9</span>; j++) &#123;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; i &lt;&lt; j &lt;&lt; j &lt;&lt; i &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹        é¢˜ç›®åªæ˜¯è®©ä½ è¾“å‡ºæ•°å­—ï¼Œæ²¡è®©ä½ åˆ¤æ–­æ˜¯ä¸æ˜¯å›æ–‡æ•°ï¼ŒæŠ“ä½æœ¬è´¨é—®é¢˜ï¼Œåšçš„å·¥ä½œæœç„¶è¿˜æ˜¯è¦å°‘ä¸€äº›ğŸ˜¥</p><h2 id="BASIC-7-amp-9-ç‰¹æ®Šçš„æ•°å­—-amp-ç‰¹æ®Šå›æ–‡æ•°"><a href="#BASIC-7-amp-9-ç‰¹æ®Šçš„æ•°å­—-amp-ç‰¹æ®Šå›æ–‡æ•°" class="headerlink" title="BASIC-7&amp;9  ç‰¹æ®Šçš„æ•°å­— &amp;ç‰¹æ®Šå›æ–‡æ•°"></a>BASIC-7&amp;9 <a href="http://lx.lanqiao.cn/problem.page?gpid=T46"> ç‰¹æ®Šçš„æ•°å­—</a> &amp;<a href="http://lx.lanqiao.cn/problem.page?gpid=T48">ç‰¹æ®Šå›æ–‡æ•°</a></h2><h3 id="ç‰¹æ®Šæ•°å­—ï¼š"><a href="#ç‰¹æ®Šæ•°å­—ï¼š" class="headerlink" title="ç‰¹æ®Šæ•°å­—ï¼š"></a>ç‰¹æ®Šæ•°å­—ï¼š</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><p>â€‹        153æ˜¯ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„æ•°ï¼Œå®ƒç­‰äºå®ƒçš„æ¯ä½æ•°å­—çš„ç«‹æ–¹å’Œï¼Œå³153=1Ã—1Ã—1+5Ã—5Ã—5+3Ã—3Ã—3ã€‚ç¼–ç¨‹æ±‚æ‰€æœ‰æ»¡è¶³è¿™ç§æ¡ä»¶çš„ä¸‰ä½åè¿›åˆ¶æ•°ã€‚</p><blockquote><p>â€‹        æˆ‘ä¹‹å‰è¿™ä¸ªé¢˜ä¹Ÿæ˜¯æŠŠä¸ªä½ï¼Œåä½ï¼Œç™¾ä½å…¨éƒ¨å–å‡ºæ¥ï¼Œå†åˆ¤æ–­ï¼Œä½†æ˜¯æŒ‰ç…§ç¬¬å…«é¢˜çš„æ€è·¯ï¼Œå®Œå…¨ä¸ç”¨è¿™æ ·å¹²ï¼Œä¸‰é‡å¾ªç¯ï¼ˆi,j,kåˆ†åˆ«ä»£è¡¨ä¸ªä½ã€åä½ã€ç™¾ä½ï¼‰,å†å†™åˆ¤æ–­1Ã—1Ã—1+5Ã—5Ã—5+3Ã—3Ã—3  ï¼Ÿ=153ï¼Œå¦‚æœç­‰äºcout&lt;&lt;i&lt;&lt;j&lt;&lt;k å³å¯ã€‚</p></blockquote><h3 id="ç‰¹æ®Šå›æ–‡æ•°"><a href="#ç‰¹æ®Šå›æ–‡æ•°" class="headerlink" title="ç‰¹æ®Šå›æ–‡æ•°"></a>ç‰¹æ®Šå›æ–‡æ•°</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><p>â€‹        123321æ˜¯ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„æ•°ï¼Œå®ƒä»å·¦è¾¹è¯»å’Œä»å³è¾¹è¯»æ˜¯ä¸€æ ·çš„ã€‚è¾“å…¥ä¸€ä¸ªæ­£æ•´æ•°nï¼Œ ç¼–ç¨‹æ±‚æ‰€æœ‰è¿™æ ·çš„äº”ä½å’Œå…­ä½åè¿›åˆ¶æ•°ï¼Œæ»¡è¶³å„ä½æ•°å­—ä¹‹å’Œç­‰äºn ã€‚</p><blockquote><p>ä¹Ÿæ˜¯ä¸Šé¢ç¬¬å…«é¢˜çš„æ€è·¯ï¼Œä¸è¿‡äº”ä½å’Œå…­ä½åˆ†åˆ«å†™ä¸¤ä¸ªå¾ªç¯ã€‚</p></blockquote><hr><h1 id="è¿›åˆ¶è½¬æ¢"><a href="#è¿›åˆ¶è½¬æ¢" class="headerlink" title="è¿›åˆ¶è½¬æ¢"></a>è¿›åˆ¶è½¬æ¢</h1><h2 id="BASIC-10-åè¿›åˆ¶è½¬åå…­è¿›åˆ¶"><a href="#BASIC-10-åè¿›åˆ¶è½¬åå…­è¿›åˆ¶" class="headerlink" title="BASIC-10 åè¿›åˆ¶è½¬åå…­è¿›åˆ¶"></a>BASIC-10 <a href="http://lx.lanqiao.cn/problem.page?gpid=T49">åè¿›åˆ¶è½¬åå…­è¿›åˆ¶</a></h2><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><p>â€‹        åå…­è¿›åˆ¶æ•°æ˜¯åœ¨ç¨‹åºè®¾è®¡æ—¶ç»å¸¸è¦ä½¿ç”¨åˆ°çš„ä¸€ç§æ•´æ•°çš„è¡¨ç¤ºæ–¹å¼ã€‚å®ƒæœ‰0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,Få…±16ä¸ªç¬¦å·ï¼Œåˆ†åˆ«è¡¨ç¤ºåè¿›åˆ¶æ•°çš„0è‡³15ã€‚åå…­è¿›åˆ¶çš„è®¡æ•°æ–¹æ³•æ˜¯æ»¡16è¿›1ï¼Œæ‰€ä»¥åè¿›åˆ¶æ•°16åœ¨åå…­è¿›åˆ¶ä¸­æ˜¯10ï¼Œè€Œåè¿›åˆ¶çš„17åœ¨åå…­è¿›åˆ¶ä¸­æ˜¯11ï¼Œä»¥æ­¤ç±»æ¨ï¼Œåè¿›åˆ¶çš„30åœ¨åå…­è¿›åˆ¶ä¸­æ˜¯1Eã€‚<br>â€‹        ç»™å‡ºä¸€ä¸ªéè´Ÿæ•´æ•°ï¼Œå°†å®ƒè¡¨ç¤ºæˆåå…­è¿›åˆ¶çš„å½¢å¼ã€‚</p><ul><li>è¾“å…¥æ ¼å¼ï¼šè¾“å…¥åŒ…å«ä¸€ä¸ªéè´Ÿæ•´æ•°aï¼Œè¡¨ç¤ºè¦è½¬æ¢çš„æ•°ã€‚0&lt;=a&lt;=2147483647ã€‚  å¦‚ï¼š30</li><li>è¾“å‡ºæ ¼å¼ï¼šè¾“å‡ºè¿™ä¸ªæ•´æ•°çš„16è¿›åˆ¶è¡¨ç¤ºã€‚å¦‚: 1E</li></ul><p>ç¬¬ä¸€çœ¼çœ‹åˆ°è¿™ä¸ªé¢˜çš„æ—¶å€™æˆ‘éƒ½æ²¡å¾—çŠ¹è±«ï¼Œç›´æ¥è¾“å‡ºæµä¸­è°ƒæ•´<code>cout&lt;&lt;hex&lt;&lt;number;</code>ï¼Œå½“ç„¶è¿™ä¹Ÿæ˜¯ä¸€ç§è€èµ–çš„åšæ³•ï¼Œé»˜è®¤<code>cout&lt;&lt;hex&lt;&lt;number;</code>è¾“å‡ºçš„æ˜¯1eï¼Œé¢˜ç›®è¦æ±‚é‚£ä¸ªå­—æ¯å¤§å†™ï¼Œå¼•å…¥<code>iomanip</code>ä¸­çš„<code>setiosflags(ios::uppercase)</code>è°ƒæ•´å³å¯ã€‚è®°ä½hexï¼Œdecï¼Œoctï¼Œbinå’Œè¿™ä¸ª<code>iomanip</code>å’Œå‡½æ•°ï¼ˆå‰ææ˜¯ojç³»ç»Ÿä¸­å¸¦è¿™ä¸ªåº“ï¼‰ï¼Œå°±å¯ä»¥å¿«é€Ÿå¤„ç†<strong>éå¤§æ•°é—®é¢˜</strong>çš„è¿›åˆ¶è½¬åŒ–é—®é¢˜äº†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iomanip&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-built_in">cin</span> &gt;&gt; n;<br><span class="hljs-built_in">cout</span> &lt;&lt; setiosflags(ios::uppercase)&lt;&lt; hex &lt;&lt; n;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="BASIC-11-åå…­è¿›åˆ¶è½¬åè¿›åˆ¶"><a href="#BASIC-11-åå…­è¿›åˆ¶è½¬åè¿›åˆ¶" class="headerlink" title="BASIC-11 åå…­è¿›åˆ¶è½¬åè¿›åˆ¶"></a>BASIC-11 <a href="http://lx.lanqiao.cn/problem.page?gpid=T50">åå…­è¿›åˆ¶è½¬åè¿›åˆ¶</a></h2><p><strong>é—®é¢˜æè¿°</strong>ï¼š</p><p>â€‹        ä»é”®ç›˜è¾“å…¥ä¸€ä¸ª<strong>ä¸è¶…è¿‡8ä½çš„æ­£çš„åå…­è¿›åˆ¶æ•°</strong>å­—ç¬¦ä¸²ï¼Œå°†å®ƒè½¬æ¢ä¸ºæ­£çš„åè¿›åˆ¶æ•°åè¾“å‡ºã€‚</p><ul><li>æ ·ä¾‹è¾“å…¥: FFFF</li><li>æ ·ä¾‹è¾“å‡º: 65535</li></ul><blockquote><p>è™½ç„¶ä¹Ÿå¯ä»¥ç”¨cin &gt;&gt; hex &gt;&gt; number;  cout &lt;&lt; number; è¿™æ ·çš„è¯­å¥å·æ‡’ï¼Œä½†æ˜¯è¿˜æ˜¯ç”¨å¸¸è§„æ–¹æ³•åšä¸€ä¸‹</p></blockquote><p>â€‹        è¿™é‡Œ<strong>ä¸è¶…è¿‡8ä½çš„åå…­è¿›åˆ¶æ•°å­—ç¬¦ä¸²</strong>ï¼Œæ¯ä¸ª16è¿›åˆ¶4ä½å˜›ï¼Œ4*8=32ï¼Œé¢˜ç›®è¾“å…¥çš„éƒ½æ˜¯æ— ç¬¦å·ï¼ˆæ­£ï¼‰æ•°ã€‚<code>int</code>æ˜¯32ä½ï¼ˆå¸¦ä¸€ä½ç¬¦å·ä½ï¼Œæ‰€ä»¥åªæœ‰31ä½å¯è¡¨ç¤ºï¼‰ï¼Œæ‰€æœ‰è¦æŠŠè½¬åŒ–åçš„sizeå®šä¹‰ä¸º<code>long long</code>ï¼ˆ64ä½ï¼‰ï¼Œæˆ–è€…<code>unsigned int</code>ä¹Ÿè¡Œã€‚ç„¶åè¿™è¾¹è¿˜è¦æ³¨æ„çš„ä¸€ç‚¹å°±æ˜¯ASCIIç åŠ å‡è¿ç®—å‡ºæ•°å­—çš„æ“ä½œã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><span class="hljs-built_in">string</span> number;<br><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> size=<span class="hljs-number">0</span>;<br><span class="hljs-built_in">cin</span> &gt;&gt; number;<br><span class="hljs-keyword">int</span> len = number.size();<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++)<br>&#123;<br><span class="hljs-keyword">if</span> (number[i] &gt;= <span class="hljs-string">&#x27;A&#x27;</span>)<br>&#123;<br>size = size*<span class="hljs-number">16</span> + (number[i] - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">10</span>);<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>size = size*<span class="hljs-number">16</span> + (number[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>&#125;<br>&#125;<br><span class="hljs-built_in">cout</span> &lt;&lt; size;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="BASIC-12-åå…­è¿›åˆ¶è½¬å…«è¿›åˆ¶"><a href="#BASIC-12-åå…­è¿›åˆ¶è½¬å…«è¿›åˆ¶" class="headerlink" title="BASIC-12 åå…­è¿›åˆ¶è½¬å…«è¿›åˆ¶"></a>BASIC-12 <a href="http://lx.lanqiao.cn/problem.page?gpid=T51">åå…­è¿›åˆ¶è½¬å…«è¿›åˆ¶</a></h2><p><strong>é—®é¢˜æè¿°</strong></p><p>â€‹        ç»™å®šnä¸ªåå…­è¿›åˆ¶æ­£æ•´æ•°ï¼Œè¾“å‡ºå®ƒä»¬å¯¹åº”çš„å…«è¿›åˆ¶æ•°ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong><br>ã€€ã€€è¾“å…¥çš„ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ­£æ•´æ•°n ï¼ˆ1&lt;=n&lt;=10ï¼‰ã€‚<br>ã€€ã€€æ¥ä¸‹æ¥nè¡Œï¼Œæ¯è¡Œä¸€ä¸ªç”±0~9ã€å¤§å†™å­—æ¯A~Fç»„æˆçš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè¦è½¬æ¢çš„åå…­è¿›åˆ¶æ­£æ•´æ•°ï¼Œæ¯ä¸ª<strong>åå…­è¿›åˆ¶æ•°é•¿åº¦ä¸è¶…è¿‡100000</strong>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong><br>ã€€ã€€è¾“å‡ºnè¡Œï¼Œæ¯è¡Œä¸ºè¾“å…¥å¯¹åº”çš„å…«è¿›åˆ¶æ­£æ•´æ•°ã€‚</p><p>ã€€ã€€<strong>ã€æ³¨æ„</strong>ã€‘<br>ã€€ã€€è¾“å…¥çš„åå…­è¿›åˆ¶æ•°ä¸ä¼šæœ‰å‰å¯¼0ï¼Œæ¯”å¦‚012Aã€‚<br>ã€€ã€€è¾“å‡ºçš„å…«è¿›åˆ¶æ•°ä¹Ÿä¸èƒ½æœ‰å‰å¯¼0ã€‚</p><ul><li><p><strong>æ ·ä¾‹è¾“å…¥</strong>   </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plain">2<br>39<br>123ABC<br></code></pre></td></tr></table></figure></li><li><p><strong>æ ·ä¾‹è¾“å‡º</strong></p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dns"><span class="hljs-number">71</span><br><span class="hljs-number">4435274</span><br></code></pre></td></tr></table></figure><blockquote><p>tipï¼šå…ˆå°†åå…­è¿›åˆ¶æ•°è½¬æ¢æˆæŸè¿›åˆ¶æ•°ï¼Œå†ç”±æŸè¿›åˆ¶æ•°è½¬æ¢æˆå…«è¿›åˆ¶ã€‚</p></blockquote></li></ul><p>æˆ‘å…ˆæƒ³çš„æ˜¯ï¼Œ16è¿›åˆ¶è½¬10è¿›åˆ¶å‘—ï¼Œåè¿›åˆ¶å†è½¬8è¿›åˆ¶ã€‚å†™å°±å®Œäº†ï¼Œç„¶åå°±æœ‰äº†ğŸ‘‡é¢ä»£ç ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> N 10</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> <span class="hljs-title">hex_to_dec</span><span class="hljs-params">(<span class="hljs-built_in">string</span> str)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> len = str.size();<br><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> sum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++)<br>&#123;<br><span class="hljs-keyword">if</span> (str[i]&gt;=<span class="hljs-string">&#x27;A&#x27;</span>)<br>&#123;<br>sum = sum * <span class="hljs-number">16</span> + (str[i] - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">10</span>);<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>sum = sum * <span class="hljs-number">16</span> + (str[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> sum;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dec_to_oct</span><span class="hljs-params">(<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> oct)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> a[<span class="hljs-number">10000</span>];<br><span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> (oct!=<span class="hljs-number">0</span>)<br>&#123;<br>a[i++]= oct % <span class="hljs-number">8</span>;<br>oct /= <span class="hljs-number">8</span>;<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i<span class="hljs-number">-1</span>; j &gt;= <span class="hljs-number">0</span>; j--)<br>&#123;<br><span class="hljs-built_in">cout</span> &lt;&lt; a[j];<br>&#125;<br><span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-built_in">string</span> a[N];<br><span class="hljs-built_in">cin</span> &gt;&gt; n;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br><span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> oct = hex_to_dec(a[i]);<br>dec_to_oct(oct);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹        ç„¶åå°±æ˜¯æ— æƒ…çš„æœªé€šè¿‡ï¼Œæ£€æŸ¥äº†å¥½å¤„æ—¶é—´å‘ç°é¢˜ç›®è¿™ä¹ˆä¸€å¥è¯<strong>åå…­è¿›åˆ¶æ•°é•¿åº¦ä¸è¶…è¿‡100000</strong>ï¼Œå¤§æ•°é—®é¢˜äº†ï¼Œlong longéƒ½ä¸é¡¶ç”¨ã€‚æ”¹å‘—æ²¡åŠæ³•ğŸ˜¶</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">string</span> b, s, a;<br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-comment">//ç”¨2è¿›åˆ¶åšè½¬åŒ–</span><br>    <span class="hljs-built_in">string</span> arr[<span class="hljs-number">16</span>] = &#123; <span class="hljs-string">&quot;0000&quot;</span>, <span class="hljs-string">&quot;0001&quot;</span>, <span class="hljs-string">&quot;0010&quot;</span>, <span class="hljs-string">&quot;0011&quot;</span>, <span class="hljs-string">&quot;0100&quot;</span>, <span class="hljs-string">&quot;0101&quot;</span>, <span class="hljs-string">&quot;0110&quot;</span>, <span class="hljs-string">&quot;0111&quot;</span>, <span class="hljs-string">&quot;1000&quot;</span>,<br>        <span class="hljs-string">&quot;1001&quot;</span>, <span class="hljs-string">&quot;1010&quot;</span>, <span class="hljs-string">&quot;1011&quot;</span>, <span class="hljs-string">&quot;1100&quot;</span>, <span class="hljs-string">&quot;1101&quot;</span>, <span class="hljs-string">&quot;1110&quot;</span>, <span class="hljs-string">&quot;1111&quot;</span> &#125;;<br>    <span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt;m;<br>    m[<span class="hljs-string">&quot;000&quot;</span>] = <span class="hljs-string">&quot;0&quot;</span>; m[<span class="hljs-string">&quot;001&quot;</span>] = <span class="hljs-string">&quot;1&quot;</span>; m[<span class="hljs-string">&quot;010&quot;</span>] = <span class="hljs-string">&quot;2&quot;</span>; m[<span class="hljs-string">&quot;011&quot;</span>] = <span class="hljs-string">&quot;3&quot;</span>; m[<span class="hljs-string">&quot;100&quot;</span>] = <span class="hljs-string">&quot;4&quot;</span>;<br>    m[<span class="hljs-string">&quot;101&quot;</span>] = <span class="hljs-string">&quot;5&quot;</span>; m[<span class="hljs-string">&quot;110&quot;</span>] = <span class="hljs-string">&quot;6&quot;</span>; m[<span class="hljs-string">&quot;111&quot;</span>] = <span class="hljs-string">&quot;7&quot;</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; s;<br>        <span class="hljs-keyword">int</span> lens = s.length();<br>        <span class="hljs-comment">// å˜æˆ2è¿›åˆ¶å­˜å‚¨</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; lens; j++)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (s[j]&gt;<span class="hljs-string">&#x27;9&#x27;</span>)<br>            &#123;<br>                b += arr[s[j] - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">10</span>];<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                b += arr[s[j] - <span class="hljs-string">&#x27;0&#x27;</span>];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">int</span> lenb = b.length();<br>        <span class="hljs-comment">//lenbä¸æ˜¯3çš„æ•´æ•°å€å°±åœ¨å‰é¢è¡¥0</span><br>        <span class="hljs-keyword">if</span> (lenb%<span class="hljs-number">3</span>==<span class="hljs-number">1</span>)<br>        &#123;<br>            b = <span class="hljs-string">&quot;00&quot;</span> + b;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (lenb%<span class="hljs-number">3</span>==<span class="hljs-number">2</span>)<br>        &#123;<br>            b = <span class="hljs-string">&quot;0&quot;</span> + b;<br>        &#125;<br>        <span class="hljs-comment">//è¿™æ—¶bå°±å˜æˆåˆæ ¼çš„äºŒè¿›åˆ¶æ•°äº†</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; lenb; j+=<span class="hljs-number">3</span>)<br>        &#123;<br>            <span class="hljs-comment">//å–å­ä¸²ï¼Œæ¯ä¸‰ä½å–ä¸€æ¬¡</span><br>            <span class="hljs-built_in">string</span> temp = b.substr(j, <span class="hljs-number">3</span>);<br>            <span class="hljs-built_in">string</span> t = m[temp];<br>            <span class="hljs-comment">//å¦‚æœ16è¿›åˆ¶ç¬¬ä¸€ä½æ˜¯0001ï¼Œå¡«ä¸Š0,1,2ä¸ª0ï¼Œå‰ä¸‰ä¸ªæ•°å­—ç»„æˆçš„å­ä¸²ä¸º000</span><br>            <span class="hljs-keyword">if</span> (j==<span class="hljs-number">0</span> &amp;&amp; t==<span class="hljs-string">&quot;0&quot;</span>)<br>            &#123;<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; t;<br>        &#125;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        b = <span class="hljs-string">&quot;&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ”¹çš„æ–¹æ³•ä¹Ÿæ˜¯å€Ÿé‰´äº†<a href="https://github.com/liuchuo/Lanqiao/blob/master/%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0/C%2B%2B/BASIC-12%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0%20%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E8%BD%AC%E5%85%AB%E8%BF%9B%E5%88%B6.cpp">æŸ³è¯ºçš„é¢˜è§£</a>ä½†æ˜¯å¥¹æœ‰ä¸€æ®µä»£ç æˆ‘è§‰å¾—æ²¡æœ‰å¿…è¦ï¼Œæˆ‘åˆ æ‰äº†ä¹Ÿæ˜¯è¿‡äº†ojçš„ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">if</span> (j == <span class="hljs-number">0</span> &amp;&amp; t == <span class="hljs-string">&quot;0&quot;</span>) &#123;<br>             flag = <span class="hljs-number">1</span>;<br>             <span class="hljs-keyword">continue</span>;<br>         &#125;<br><span class="hljs-comment">//è¿™é‡Œè¿˜åšäº†ç¬¬äºŒæ¬¡åˆ¤æ–­ï¼Œå¦‚æœç¬¬ä¸€ä¸ªä¸‰ä½ä¸º0ä¸”ç¬¬äºŒä¸ªä¸‰ä½ä¸º0ï¼Œåˆ™ä¹Ÿå¿½ç•¥ã€‚</span><br>         <span class="hljs-keyword">if</span> (flag == <span class="hljs-number">1</span> &amp;&amp; j == <span class="hljs-number">3</span> &amp;&amp; t == <span class="hljs-string">&quot;0&quot;</span>) &#123;<br>             <span class="hljs-keyword">continue</span>;<br>         &#125;<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯é¢˜ç›®æ˜¯ä¸ä¼šå‡ºç°è¿ç»­å…­ä¸ª0çš„æƒ…å†µçš„ï¼Œå‡ºç°è¿™ç§æƒ…å†µæ˜¯0000ä¸ºç¬¬ä¸€ä¸ªåå…­è¿›åˆ¶æ•°ï¼Œå†å¡«ä¸Š2ä¸ªé›¶ï¼Œä½†æ˜¯é¢˜ç›®æ ‡æ³¨äº†</p><ul><li>è¾“å…¥çš„<strong>åå…­è¿›åˆ¶æ•°ä¸ä¼šæœ‰å‰å¯¼0</strong>ï¼Œæ¯”å¦‚012Aã€‚</li><li>è¾“å‡ºçš„å…«è¿›åˆ¶æ•°ä¹Ÿä¸èƒ½æœ‰å‰å¯¼0ã€‚</li></ul><p>æ„Ÿè§‰è‡ªå·±æ•°ç”µå’Œè®¡ç®—æœºç»„æˆåŸç†ç™½å­¦äº†ğŸ˜¥ï¼Œçº¸ä¸Šåšé¢˜æ—¶ï¼Œ16è¿›åˆ¶å±•å¼€ï¼Œç„¶åä¸‰ä¸ªä¸‰ä¸ªåˆ’ä¸€ç»„å˜æˆ8è¿›åˆ¶ï¼Œåˆ°codeæ—¶å´æ²¡æƒ³åˆ°è¿™ä¸ªè¿‡ç¨‹ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-lanqiao -åˆ·é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼æ¦‚è¿°ä¸åŸåˆ™</title>
    <link href="/2021/01/22/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%A6%82%E8%BF%B0%E4%B8%8E%E5%8E%9F%E5%88%99/"/>
    <url>/2021/01/22/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%A6%82%E8%BF%B0%E4%B8%8E%E5%8E%9F%E5%88%99/</url>
    
    <content type="html"><![CDATA[<h1 id="Design-Patterns-Introduce"><a href="#Design-Patterns-Introduce" class="headerlink" title="Design Patterns Introduce"></a>Design Patterns Introduce</h1><p>C++è®¾è®¡æ¨¡å¼é…å¥—èµ„æºï¼š</p><ol><li>åœ¨çº¿ç½‘ç«™ï¼š<a href="https://refactoring.guru/">https://refactoring.guru/</a> </li><li>è¯¾æœ¬ï¼š<strong>å¯å¤ç”¨é¢å‘å¯¹è±¡</strong>è½¯ä»¶çš„åŸºç¡€</li></ol><p><img src="./book.png" alt="è®¾è®¡æ¨¡å¼"></p><h2 id="ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼"><a href="#ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼" class="headerlink" title="ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼"></a>ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼</h2><p>â€œæ¯ä¸€ä¸ªæ¨¡å¼æè¿°äº†ä¸€ä¸ªåœ¨æˆ‘ä»¬å‘¨å›´<strong>ä¸æ–­é‡å¤å‘ç”Ÿçš„é—®é¢˜</strong>ï¼Œ ä»¥åŠè¯¥é—®é¢˜çš„<strong>è§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒ</strong>ã€‚è¿™æ ·ï¼Œä½ å°±èƒ½<strong>ä¸€æ¬¡åˆä¸€æ¬¡åœ°ä½¿ç”¨è¯¥æ–¹æ¡ˆè€Œä¸å¿…åšé‡å¤åŠ³åŠ¨</strong>â€ã€‚                              â€”â€”â€”â€”Christopher Alexander</p><h2 id="è¯¾ç¨‹ç›®æ ‡"><a href="#è¯¾ç¨‹ç›®æ ‡" class="headerlink" title="è¯¾ç¨‹ç›®æ ‡"></a>è¯¾ç¨‹ç›®æ ‡</h2><ul><li>ç†è§£æ¾è€¦åˆè®¾è®¡æ€æƒ³</li><li>æŒæ¡é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™</li><li>æŒæ¡é‡æ„æŠ€æ³•æ”¹å–„è®¾è®¡</li><li>æŒæ¡GOFæ ¸å¿ƒè®¾è®¡æ¨¡å¼</li></ul><h2 id="é¢å¯¹å¯¹è±¡"><a href="#é¢å¯¹å¯¹è±¡" class="headerlink" title="é¢å¯¹å¯¹è±¡"></a>é¢å¯¹å¯¹è±¡</h2><p><img src="./oop.png" alt=""></p><h3 id="å‘ä¸‹ï¼šä¸‰å¤§é¢å¯¹å¯¹è±¡æœºåˆ¶"><a href="#å‘ä¸‹ï¼šä¸‰å¤§é¢å¯¹å¯¹è±¡æœºåˆ¶" class="headerlink" title="å‘ä¸‹ï¼šä¸‰å¤§é¢å¯¹å¯¹è±¡æœºåˆ¶"></a>å‘ä¸‹ï¼šä¸‰å¤§é¢å¯¹å¯¹è±¡æœºåˆ¶</h3><ul><li><strong>å°è£…</strong>ï¼Œéšè—å†…éƒ¨å®ç°</li><li><strong>ç»§æ‰¿</strong>ï¼Œå¤ç”¨ç°æœ‰ä»£ç </li><li><strong>å¤šæ€</strong>ï¼Œæ”¹å†™å¯¹è±¡è¡Œä¸º</li></ul><h3 id="å‘ä¸Šï¼šæŠ½è±¡æ„ä¹‰"><a href="#å‘ä¸Šï¼šæŠ½è±¡æ„ä¹‰" class="headerlink" title="å‘ä¸Šï¼šæŠ½è±¡æ„ä¹‰"></a>å‘ä¸Šï¼šæŠ½è±¡æ„ä¹‰</h3><p>æ·±åˆ»æŠŠæ¡é¢å‘å¯¹è±¡æœºåˆ¶æ‰€<strong>å¸¦æ¥çš„æŠ½è±¡æ„ä¹‰</strong>ï¼Œç†è§£å¦‚ä½•ä½¿ç”¨ è¿™äº›æœºåˆ¶æ¥è¡¨è¾¾ç°å®ä¸–ç•Œï¼ŒæŒæ¡ä»€ä¹ˆæ˜¯â€œ<strong>å¥½çš„é¢å‘å¯¹è±¡è®¾è®¡</strong>â€</p><h2 id="è½¯ä»¶çš„å¤æ‚æ€§"><a href="#è½¯ä»¶çš„å¤æ‚æ€§" class="headerlink" title="è½¯ä»¶çš„å¤æ‚æ€§"></a>è½¯ä»¶çš„å¤æ‚æ€§</h2><p>å»ºç­‘å•†ä»æ¥ä¸ä¼šå»æƒ³ç»™ä¸€æ ‹å·²å»ºå¥½çš„100å±‚é«˜çš„ æ¥¼æˆ¿åº•ä¸‹å†æ–°ä¿®ä¸€ä¸ªå°åœ°ä¸‹å®¤â€”â€”è¿™æ ·åšèŠ±è´¹ æå¤§è€Œä¸”æ³¨å®šè¦å¤±è´¥ã€‚ç„¶è€Œä»¤äººæƒŠå¥‡çš„æ˜¯ï¼Œè½¯ä»¶ ç³»ç»Ÿçš„ç”¨æˆ·åœ¨è¦æ±‚ä½œå‡ºç±»ä¼¼æ”¹å˜æ—¶å´ä¸ä¼šä»”ç»†è€ƒ è™‘ï¼Œè€Œä¸”ä»–ä»¬è®¤ä¸ºè¿™åªæ˜¯éœ€è¦ç®€å•ç¼–ç¨‹çš„äº‹ã€‚       </p><p>â€‹                                                                                                                            â€”â€”Object-Oriented Analysis and Design with Applications</p><h3 id="å¤æ‚æ€§çš„åŸå› "><a href="#å¤æ‚æ€§çš„åŸå› " class="headerlink" title="å¤æ‚æ€§çš„åŸå› "></a>å¤æ‚æ€§çš„åŸå› </h3><ul><li>å®¢æˆ·éœ€æ±‚çš„å˜åŒ–</li><li>æŠ€æœ¯å¹³å°çš„å˜åŒ–</li><li>å¼€å‘å›¢é˜Ÿçš„å˜åŒ–</li><li>å¸‚åœºç¯å¢ƒçš„å˜åŒ–  â€¦</li></ul><h3 id="å¤æ‚æ€§çš„è§£å†³"><a href="#å¤æ‚æ€§çš„è§£å†³" class="headerlink" title="å¤æ‚æ€§çš„è§£å†³"></a>å¤æ‚æ€§çš„è§£å†³</h3><h4 id="åˆ†è§£"><a href="#åˆ†è§£" class="headerlink" title="åˆ†è§£"></a>åˆ†è§£</h4><p>äººä»¬é¢å¯¹å¤æ‚æ€§æœ‰ä¸€ä¸ªå¸¸è§çš„åšæ³•ï¼šå³åˆ†è€Œæ²»ä¹‹ï¼Œå°†<strong>å¤§é—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªå°é—®é¢˜</strong>ï¼Œå°†<strong>å¤æ‚é—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªç®€å•é—®é¢˜</strong>ã€‚</p><h4 id="æŠ½è±¡"><a href="#æŠ½è±¡" class="headerlink" title="æŠ½è±¡"></a>æŠ½è±¡</h4><p>æ›´é«˜å±‚æ¬¡æ¥è®²ï¼Œäººä»¬å¤„ç†å¤æ‚æ€§æœ‰ä¸€ä¸ªé€šç”¨çš„æŠ€æœ¯ï¼Œå³æŠ½è±¡ã€‚ ç”±äºä¸èƒ½æŒæ¡å…¨éƒ¨çš„å¤æ‚å¯¹è±¡ï¼Œæˆ‘ä»¬<strong>é€‰æ‹©å¿½è§†å®ƒçš„éæœ¬è´¨ç»†èŠ‚</strong>ï¼Œ è€Œå»å¤„ç†æ³›åŒ–å’Œç†æƒ³åŒ–äº†çš„å¯¹è±¡æ¨¡å‹ã€‚</p><h2 id="ç¤ºä¾‹ï¼šç»“æ„åŒ–VSé¢å¯¹å¯¹è±¡"><a href="#ç¤ºä¾‹ï¼šç»“æ„åŒ–VSé¢å¯¹å¯¹è±¡" class="headerlink" title="ç¤ºä¾‹ï¼šç»“æ„åŒ–VSé¢å¯¹å¯¹è±¡"></a>ç¤ºä¾‹ï¼šç»“æ„åŒ–VSé¢å¯¹å¯¹è±¡</h2><p>å®ç°ç”»å›¾ä»»åŠ¡çš„ä¸¤ä¸ªä»£ç å®ç°(ä¼ªç )ï¼Œå¦‚æœæˆ‘ä»¬å¢åŠ ä¸åŒçš„ç”»å›¾åŠŸèƒ½ï¼Œå¯¹æ¯”ä¸¤ä¸ªä»£ç ä¼šæ€ä¹ˆæ ·æ”¹å˜ã€‚</p><h3 id="ç¤ºä¾‹1"><a href="#ç¤ºä¾‹1" class="headerlink" title="ç¤ºä¾‹1"></a>ç¤ºä¾‹1</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//Shape1.h</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Point</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-keyword">int</span> x;<br><span class="hljs-keyword">int</span> y;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Line</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>Point start;<br>    Point end;<br><br>Line(<span class="hljs-keyword">const</span> Point&amp; start, <span class="hljs-keyword">const</span> Point&amp; end)&#123;<br>        <span class="hljs-keyword">this</span>-&gt;start = start;<br>        <span class="hljs-keyword">this</span>-&gt;end = end;<br>    &#125;<br><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rect</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>Point leftUp;<br>    <span class="hljs-keyword">int</span> width;<br><span class="hljs-keyword">int</span> height;<br><br>Rect(<span class="hljs-keyword">const</span> Point&amp; leftUp, <span class="hljs-keyword">int</span> width, <span class="hljs-keyword">int</span> height)&#123;<br>        <span class="hljs-keyword">this</span>-&gt;leftUp = leftUp;<br>        <span class="hljs-keyword">this</span>-&gt;width = width;<br><span class="hljs-keyword">this</span>-&gt;height = height;<br>    &#125;<br><br>&#125;;<br><br><span class="hljs-comment">//å¢åŠ </span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Circle</span>&#123;</span><br><br><br>&#125;;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//MainForm1.cpp</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainForm</span> :</span> <span class="hljs-keyword">public</span> Form &#123;<br><span class="hljs-keyword">private</span>:<br>Point p1;<br>Point p2;<br><br><span class="hljs-built_in">vector</span>&lt;Line&gt; lineVector;<br><span class="hljs-built_in">vector</span>&lt;Rect&gt; rectVector;<br><span class="hljs-comment">//æ”¹å˜</span><br><span class="hljs-built_in">vector</span>&lt;Circle&gt; circleVector;<br><br><span class="hljs-keyword">public</span>:<br>MainForm()&#123;<br><span class="hljs-comment">//...</span><br>&#125;<br><span class="hljs-keyword">protected</span>:<br><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnMouseDown</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnMouseUp</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnPaint</span><span class="hljs-params">(<span class="hljs-keyword">const</span> PaintEventArgs&amp; e)</span></span>;<br>&#125;;<br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainForm::OnMouseDown</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>&#123;<br>p1.x = e.X;<br>p1.y = e.Y;<br><br><span class="hljs-comment">//...</span><br>Form::OnMouseDown(e);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainForm::OnMouseUp</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>&#123;<br>p2.x = e.X;<br>p2.y = e.Y;<br><br><span class="hljs-keyword">if</span> (rdoLine.Checked)&#123;<br><span class="hljs-function">Line <span class="hljs-title">line</span><span class="hljs-params">(p1, p2)</span></span>;<br>lineVector.push_back(line);<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (rdoRect.Checked)&#123;<br><span class="hljs-keyword">int</span> width = <span class="hljs-built_in">abs</span>(p2.x - p1.x);<br><span class="hljs-keyword">int</span> height = <span class="hljs-built_in">abs</span>(p2.y - p1.y);<br><span class="hljs-function">Rect <span class="hljs-title">rect</span><span class="hljs-params">(p1, width, height)</span></span>;<br>rectVector.push_back(rect);<br>&#125;<br><span class="hljs-comment">//æ”¹å˜</span><br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (...)&#123;<br><span class="hljs-comment">//...</span><br>circleVector.push_back(circle);<br>&#125;<br><br><span class="hljs-comment">//...</span><br><span class="hljs-keyword">this</span>-&gt;Refresh();<br><br>Form::OnMouseUp(e);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainForm::OnPaint</span><span class="hljs-params">(<span class="hljs-keyword">const</span> PaintEventArgs&amp; e)</span></span>&#123;<br><br><span class="hljs-comment">//é’ˆå¯¹ç›´çº¿</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; lineVector.size(); i++)&#123;<br>e.Graphics.DrawLine(Pens.Red,<br>lineVector[i].start.x, <br>lineVector[i].start.y,<br>lineVector[i].end.x,<br>lineVector[i].end.y);<br>&#125;<br><br><span class="hljs-comment">//é’ˆå¯¹çŸ©å½¢</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; rectVector.size(); i++)&#123;<br>e.Graphics.DrawRectangle(Pens.Red,<br>rectVector[i].leftUp,<br>rectVector[i].width,<br>rectVector[i].height);<br>&#125;<br><br><span class="hljs-comment">//æ”¹å˜</span><br><span class="hljs-comment">//é’ˆå¯¹åœ†å½¢</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; circleVector.size(); i++)&#123;<br>e.Graphics.DrawCircle(Pens.Red,<br>circleVector[i]);<br>&#125;<br><br><span class="hljs-comment">//...</span><br>Form::OnPaint(e);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç¤ºä¾‹2"><a href="#ç¤ºä¾‹2" class="headerlink" title="ç¤ºä¾‹2"></a>ç¤ºä¾‹2</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//Shape2.h</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Shape</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Draw</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Graphics&amp; g)</span></span>=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">virtual</span> ~Shape() &#123; &#125;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Point</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-keyword">int</span> x;<br><span class="hljs-keyword">int</span> y;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Line</span>:</span> <span class="hljs-keyword">public</span> Shape&#123;<br><span class="hljs-keyword">public</span>:<br>Point start;<br>Point end;<br><br>Line(<span class="hljs-keyword">const</span> Point&amp; start, <span class="hljs-keyword">const</span> Point&amp; end)&#123;<br><span class="hljs-keyword">this</span>-&gt;start = start;<br><span class="hljs-keyword">this</span>-&gt;end = end;<br>&#125;<br><br><span class="hljs-comment">//å®ç°è‡ªå·±çš„Drawï¼Œè´Ÿè´£ç”»è‡ªå·±</span><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Draw</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Graphics&amp; g)</span></span>&#123;<br>g.DrawLine(Pens.Red, <br>start.x, start.y,end.x, end.y);<br>&#125;<br><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rect</span>:</span> <span class="hljs-keyword">public</span> Shape&#123;<br><span class="hljs-keyword">public</span>:<br>Point leftUp;<br><span class="hljs-keyword">int</span> width;<br><span class="hljs-keyword">int</span> height;<br><br>Rect(<span class="hljs-keyword">const</span> Point&amp; leftUp, <span class="hljs-keyword">int</span> width, <span class="hljs-keyword">int</span> height)&#123;<br><span class="hljs-keyword">this</span>-&gt;leftUp = leftUp;<br><span class="hljs-keyword">this</span>-&gt;width = width;<br><span class="hljs-keyword">this</span>-&gt;height = height;<br>&#125;<br><br><span class="hljs-comment">//å®ç°è‡ªå·±çš„Drawï¼Œè´Ÿè´£ç”»è‡ªå·±</span><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Draw</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Graphics&amp; g)</span></span>&#123;<br>g.DrawRectangle(Pens.Red,<br>leftUp,width,height);<br>&#125;<br><br>&#125;;<br><br><span class="hljs-comment">//å¢åŠ </span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Circle</span> :</span> <span class="hljs-keyword">public</span> Shape&#123;<br><span class="hljs-keyword">public</span>:<br><span class="hljs-comment">//å®ç°è‡ªå·±çš„Drawï¼Œè´Ÿè´£ç”»è‡ªå·±</span><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Draw</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Graphics&amp; g)</span></span>&#123;<br>g.DrawCircle(Pens.Red,<br>...);<br>&#125;<br><br>&#125;;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//MainForm.cpp</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainForm</span> :</span> <span class="hljs-keyword">public</span> Form &#123;<br><span class="hljs-keyword">private</span>:<br>Point p1;<br>Point p2;<br><br><span class="hljs-comment">//é’ˆå¯¹æ‰€æœ‰å½¢çŠ¶</span><br><span class="hljs-built_in">vector</span>&lt;Shape*&gt; shapeVector;<br><br><span class="hljs-keyword">public</span>:<br>MainForm()&#123;<br><span class="hljs-comment">//...</span><br>&#125;<br><span class="hljs-keyword">protected</span>:<br><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnMouseDown</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnMouseUp</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnPaint</span><span class="hljs-params">(<span class="hljs-keyword">const</span> PaintEventArgs&amp; e)</span></span>;<br>&#125;;<br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainForm::OnMouseDown</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>&#123;<br>p1.x = e.X;<br>p1.y = e.Y;<br><br><span class="hljs-comment">//...</span><br>Form::OnMouseDown(e);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainForm::OnMouseUp</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>&#123;<br>p2.x = e.X;<br>p2.y = e.Y;<br><br><span class="hljs-keyword">if</span> (rdoLine.Checked)&#123;<br>shapeVector.push_back(<span class="hljs-keyword">new</span> Line(p1,p2));<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (rdoRect.Checked)&#123;<br><span class="hljs-keyword">int</span> width = <span class="hljs-built_in">abs</span>(p2.x - p1.x);<br><span class="hljs-keyword">int</span> height = <span class="hljs-built_in">abs</span>(p2.y - p1.y);<br>shapeVector.push_back(<span class="hljs-keyword">new</span> Rect(p1, width, height));<br>&#125;<br><span class="hljs-comment">//æ”¹å˜</span><br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (...)&#123;<br><span class="hljs-comment">//...</span><br>shapeVector.push_back(circle);<br>&#125;<br><br><span class="hljs-comment">//...</span><br><span class="hljs-keyword">this</span>-&gt;Refresh();<br><br>Form::OnMouseUp(e);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainForm::OnPaint</span><span class="hljs-params">(<span class="hljs-keyword">const</span> PaintEventArgs&amp; e)</span></span>&#123;<br><br><span class="hljs-comment">//é’ˆå¯¹æ‰€æœ‰å½¢çŠ¶</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; shapeVector.size(); i++)&#123;<br><br>shapeVector[i]-&gt;Draw(e.Graphics); <span class="hljs-comment">//å¤šæ€è°ƒç”¨ï¼Œå„è´Ÿå…¶è´£</span><br>&#125;<br><br><span class="hljs-comment">//...</span><br>Form::OnPaint(e);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="è½¯ä»¶è®¾è®¡çš„é‡‘ç§‘ç‰å¾‹ï¼šå¤ç”¨"><a href="#è½¯ä»¶è®¾è®¡çš„é‡‘ç§‘ç‰å¾‹ï¼šå¤ç”¨" class="headerlink" title="è½¯ä»¶è®¾è®¡çš„é‡‘ç§‘ç‰å¾‹ï¼šå¤ç”¨"></a>è½¯ä»¶è®¾è®¡çš„é‡‘ç§‘ç‰å¾‹ï¼šå¤ç”¨</h2><h1 id="é¢å‘å¯¹è±¡åŸåˆ™"><a href="#é¢å‘å¯¹è±¡åŸåˆ™" class="headerlink" title="é¢å‘å¯¹è±¡åŸåˆ™"></a>é¢å‘å¯¹è±¡åŸåˆ™</h1><p>é¢å‘å¯¹è±¡è®¾è®¡çš„æœ€å¤§çš„ä¼˜åŠ¿åœ¨äº<code>æŠµå¾¡å˜åŒ–</code></p><h2 id="é‡æ–°è®¤è¯†OOP"><a href="#é‡æ–°è®¤è¯†OOP" class="headerlink" title="é‡æ–°è®¤è¯†OOP"></a>é‡æ–°è®¤è¯†OOP</h2><p>ğŸŒ¿ ç†è§£<strong>éš”ç¦»å˜åŒ–</strong></p><p>ä»å®è§‚å±‚é¢æ¥çœ‹ï¼Œé¢å‘å¯¹è±¡çš„æ„å»ºæ–¹å¼æ›´èƒ½é€‚åº”è½¯ä»¶çš„å˜åŒ–ï¼Œ èƒ½å°†å˜åŒ–æ‰€å¸¦æ¥çš„å½±å“å‡ä¸ºæœ€å°ã€‚</p><p>ğŸŒ¿ <strong>å„å¸å…¶èŒ</strong></p><ul><li>ä»å¾®è§‚å±‚é¢æ¥çœ‹ï¼Œé¢å‘å¯¹è±¡çš„æ–¹å¼æ›´å¼ºè°ƒå„ä¸ªç±»çš„â€œè´£ä»»â€ </li><li>ç”±äºéœ€æ±‚å˜åŒ–å¯¼è‡´çš„æ–°å¢ç±»å‹ä¸åº”è¯¥å½±å“åŸæ¥ç±»å‹çš„å®ç°â€”â€” æ˜¯æ‰€è°“å„è´Ÿå…¶è´£</li></ul><p>ğŸŒ¿ <strong>å¯¹è±¡æ˜¯ä»€ä¹ˆ</strong></p><ul><li>ä»è¯­è¨€å®ç°å±‚é¢æ¥çœ‹ï¼Œå¯¹è±¡å°è£…äº†ä»£ç å’Œæ•°æ®ã€‚ </li><li>ä»è§„æ ¼å±‚é¢è®²ï¼Œå¯¹è±¡æ˜¯ä¸€ç³»åˆ—å¯è¢«ä½¿ç”¨çš„å…¬å…±æ¥å£ã€‚ </li><li>ä»æ¦‚å¿µå±‚é¢è®²ï¼Œå¯¹è±¡æ˜¯æŸç§æ‹¥æœ‰è´£ä»»çš„æŠ½è±¡ã€‚</li></ul><h2 id="é¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™ï¼ˆ8ç§ï¼‰"><a href="#é¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™ï¼ˆ8ç§ï¼‰" class="headerlink" title="é¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™ï¼ˆ8ç§ï¼‰"></a>é¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™ï¼ˆ8ç§ï¼‰</h2><h3 id="ğŸŒ¿ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPï¼‰"><a href="#ğŸŒ¿ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPï¼‰" class="headerlink" title="ğŸŒ¿ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPï¼‰"></a>ğŸŒ¿ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPï¼‰</h3><ul><li>é«˜å±‚æ¨¡å—(<strong>ç¨³å®š</strong>)ä¸åº”è¯¥ä¾èµ–äºä½å±‚æ¨¡å—(<strong>å˜åŒ–</strong>)ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡(<strong>ç¨³å®š</strong>) ã€‚</li><li>æŠ½è±¡(ç¨³å®š)ä¸åº”è¯¥ä¾èµ–äºå®ç°ç»†èŠ‚(å˜åŒ–) ï¼Œå®ç°ç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡(ç¨³å®š)ã€‚</li></ul><p>ä¸Šä¸€æ®µç¤ºä¾‹ä»£ç çš„ä¸¤ä¸ªä¾‹å­ï¼Œ<strong>é«˜å±‚æ¨¡å—ä¾èµ–äºç¨³å®šçš„Shapeè™šåŸºç±»</strong>ã€‚</p><p><img src="./DIP.png" style="zoom: 80%;" /></p><h3 id="ğŸŒ¿å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOCPï¼‰"><a href="#ğŸŒ¿å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOCPï¼‰" class="headerlink" title="ğŸŒ¿å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOCPï¼‰"></a>ğŸŒ¿å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOCPï¼‰</h3><ul><li>å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹æ›´æ”¹å°é—­ã€‚ </li><li>ç±»æ¨¡å—åº”è¯¥æ˜¯å¯æ‰©å±•çš„ï¼Œä½†æ˜¯ä¸å¯ä¿®æ”¹ã€‚</li></ul><h3 id="ğŸŒ¿å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRPï¼‰"><a href="#ğŸŒ¿å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRPï¼‰" class="headerlink" title="ğŸŒ¿å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRPï¼‰"></a>ğŸŒ¿å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRPï¼‰</h3><ul><li>ä¸€ä¸ªç±»åº”è¯¥ä»…æœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ã€‚ </li><li>å˜åŒ–çš„æ–¹å‘éšå«ç€ç±»çš„è´£ä»»ã€‚</li></ul><h3 id="ğŸŒ¿Liskov-æ›¿æ¢åŸåˆ™ï¼ˆLSPï¼‰"><a href="#ğŸŒ¿Liskov-æ›¿æ¢åŸåˆ™ï¼ˆLSPï¼‰" class="headerlink" title="ğŸŒ¿Liskov æ›¿æ¢åŸåˆ™ï¼ˆLSPï¼‰"></a>ğŸŒ¿Liskov æ›¿æ¢åŸåˆ™ï¼ˆLSPï¼‰</h3><ul><li>å­ç±»å¿…é¡»èƒ½å¤Ÿæ›¿æ¢å®ƒä»¬çš„åŸºç±»(IS-A)ï¼ˆç»§æ‰¿æ—¶æ€è€ƒæ˜¯ä¸æ˜¯ç»„åˆå…³ç³»ï¼‰ã€‚ </li><li>ç»§æ‰¿è¡¨è¾¾ç±»å‹æŠ½è±¡ã€‚</li></ul><h3 id="ğŸŒ¿æ¥å£éš”ç¦»åŸåˆ™ï¼ˆISPï¼‰"><a href="#ğŸŒ¿æ¥å£éš”ç¦»åŸåˆ™ï¼ˆISPï¼‰" class="headerlink" title="ğŸŒ¿æ¥å£éš”ç¦»åŸåˆ™ï¼ˆISPï¼‰"></a>ğŸŒ¿æ¥å£éš”ç¦»åŸåˆ™ï¼ˆISPï¼‰</h3><ul><li>ä¸åº”è¯¥å¼ºè¿«å®¢æˆ·ç¨‹åºä¾èµ–å®ƒä»¬ä¸ç”¨çš„æ–¹æ³•ã€‚</li><li>æ¥å£åº”è¯¥<strong>å°è€Œå®Œå¤‡</strong>ã€‚</li></ul><h3 id="ğŸŒ¿ä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯ç±»ç»§æ‰¿"><a href="#ğŸŒ¿ä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯ç±»ç»§æ‰¿" class="headerlink" title="ğŸŒ¿ä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯ç±»ç»§æ‰¿"></a>ğŸŒ¿ä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯ç±»ç»§æ‰¿</h3><ul><li>ç±»ç»§æ‰¿é€šå¸¸ä¸ºâ€œç™½ç®±å¤ç”¨â€ï¼Œå¯¹è±¡ç»„åˆé€šå¸¸ä¸ºâ€œé»‘ç®±å¤ç”¨â€ã€‚</li><li>ç»§æ‰¿åœ¨æŸç§ç¨‹åº¦ä¸Šç ´åäº†å°è£…æ€§ï¼Œå­ç±»çˆ¶ç±»è€¦åˆåº¦é«˜ã€‚ </li><li>è€Œå¯¹è±¡ç»„åˆåˆ™åªè¦æ±‚è¢«ç»„åˆçš„å¯¹è±¡å…·æœ‰è‰¯å¥½å®šä¹‰çš„æ¥å£ï¼Œè€¦åˆåº¦ä½ã€‚</li></ul><h3 id="ğŸŒ¿å°è£…å˜åŒ–ç‚¹"><a href="#ğŸŒ¿å°è£…å˜åŒ–ç‚¹" class="headerlink" title="ğŸŒ¿å°è£…å˜åŒ–ç‚¹"></a>ğŸŒ¿å°è£…å˜åŒ–ç‚¹</h3><p>ä½¿ç”¨å°è£…æ¥åˆ›å»ºå¯¹è±¡ä¹‹é—´çš„åˆ†ç•Œå±‚ï¼Œè®©è®¾è®¡è€…å¯ä»¥åœ¨åˆ†ç•Œå±‚çš„ ä¸€ä¾§è¿›è¡Œä¿®æ”¹ï¼Œè€Œä¸ä¼šå¯¹å¦ä¸€ä¾§äº§ç”Ÿä¸è‰¯çš„å½±å“ï¼Œä»è€Œå®ç°å±‚ æ¬¡é—´çš„æ¾è€¦åˆã€‚</p><h3 id="ğŸŒ¿é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹"><a href="#ğŸŒ¿é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹" class="headerlink" title="ğŸŒ¿é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹"></a>ğŸŒ¿é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹</h3><ul><li>ä¸å°†å˜é‡ç±»å‹å£°æ˜ä¸ºæŸä¸ªç‰¹å®šçš„å…·ä½“ç±»ï¼Œè€Œæ˜¯å£°æ˜ä¸ºæŸä¸ªæ¥å£ã€‚ </li><li>å®¢æˆ·ç¨‹åºæ— éœ€è·çŸ¥å¯¹è±¡çš„å…·ä½“ç±»å‹ï¼Œåªéœ€è¦çŸ¥é“å¯¹è±¡æ‰€å…·æœ‰çš„æ¥å£ã€‚ </li><li>å‡å°‘ç³»ç»Ÿä¸­å„éƒ¨åˆ†çš„ä¾èµ–å…³ç³»ï¼Œä»è€Œå®ç°â€œé«˜å†…èšã€æ¾è€¦åˆâ€ çš„ç±»å‹è®¾è®¡æ–¹æ¡ˆã€‚</li></ul><h2 id="æ¥å£æ ‡å‡†åŒ–ï¼ˆåˆ†å·¥åä½œï¼‰"><a href="#æ¥å£æ ‡å‡†åŒ–ï¼ˆåˆ†å·¥åä½œï¼‰" class="headerlink" title="æ¥å£æ ‡å‡†åŒ–ï¼ˆåˆ†å·¥åä½œï¼‰"></a>æ¥å£æ ‡å‡†åŒ–ï¼ˆåˆ†å·¥åä½œï¼‰</h2><p>æ ‡å‡†åŒ–å·¥ä½œå¾€å¾€æ˜¯ä¸€ä¸ªäº§ä¸šå¼ºç››çš„æ ‡å‡†ï¼Œè¿™ä¸€ç‚¹åœ¨å­¦ä¹ è®¡ç½‘çš„æ—¶å€™ä¹Ÿæœ‰ä½“ä¼šåˆ°ï¼ˆä¸åŒåè®®æ ‡å‡†è§„å®šç»Ÿä¸€ä¿ƒè¿›è¡Œä¸šå‘å±•ï¼‰</p><h3 id="ä»¥å²ä¸ºé‰´"><a href="#ä»¥å²ä¸ºé‰´" class="headerlink" title="ä»¥å²ä¸ºé‰´"></a>ä»¥å²ä¸ºé‰´</h3><p><img src="./history1.png" alt=""></p><p><img src="./history2.png" alt=""></p><h2 id="è®¾è®¡åŸåˆ™æå‡ä¸ºè®¾è®¡ç»éªŒ"><a href="#è®¾è®¡åŸåˆ™æå‡ä¸ºè®¾è®¡ç»éªŒ" class="headerlink" title="è®¾è®¡åŸåˆ™æå‡ä¸ºè®¾è®¡ç»éªŒ"></a>è®¾è®¡åŸåˆ™æå‡ä¸ºè®¾è®¡ç»éªŒ</h2><h3 id="ğŸˆè®¾è®¡ä¹ è¯­-Design-Idioms"><a href="#ğŸˆè®¾è®¡ä¹ è¯­-Design-Idioms" class="headerlink" title="ğŸˆè®¾è®¡ä¹ è¯­ Design Idioms"></a>ğŸˆè®¾è®¡ä¹ è¯­ Design Idioms</h3><p> Design Idioms æè¿°ä¸ç‰¹å®šç¼–ç¨‹è¯­è¨€ç›¸å…³çš„ä½å±‚æ¨¡å¼ï¼ŒæŠ€å·§ï¼Œ æƒ¯ç”¨æ³•ï¼ˆcpp primerï¼Œmore effect cppï¼‰ã€‚ </p><h3 id="ğŸˆè®¾è®¡æ¨¡å¼-Design-Patterns"><a href="#ğŸˆè®¾è®¡æ¨¡å¼-Design-Patterns" class="headerlink" title="ğŸˆè®¾è®¡æ¨¡å¼ Design Patterns"></a>ğŸˆè®¾è®¡æ¨¡å¼ Design Patterns</h3><p>Design Patternsä¸»è¦æè¿°çš„æ˜¯â€œ<strong>ç±»ä¸ç›¸äº’é€šä¿¡çš„å¯¹è±¡ä¹‹é—´çš„ç»„ç»‡å…³ç³»</strong>ï¼ŒåŒ…æ‹¬å®ƒä»¬çš„è§’è‰²ã€èŒè´£ã€åä½œæ–¹å¼ç­‰æ–¹é¢ã€‚ </p><h3 id="ğŸˆæ¶æ„æ¨¡å¼-Architectural-Patterns"><a href="#ğŸˆæ¶æ„æ¨¡å¼-Architectural-Patterns" class="headerlink" title="ğŸˆæ¶æ„æ¨¡å¼ Architectural Patterns"></a>ğŸˆæ¶æ„æ¨¡å¼ Architectural Patterns</h3><p> Architectural Patternsæè¿°<strong>ç³»ç»Ÿä¸­ä¸åŸºæœ¬ç»“æ„ç»„ç»‡å…³ç³»å¯†åˆ‡çš„é«˜å±‚æ¨¡å¼</strong>ï¼ŒåŒ…æ‹¬å­ç³»ç»Ÿåˆ’åˆ†ï¼ŒèŒè´£ï¼Œä»¥åŠå¦‚ä½•ç»„ç»‡å®ƒä»¬ä¹‹é—´å…³ç³»çš„è§„åˆ™ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>è®¾è®¡æ¨¡å¼</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-è®¾è®¡æ¨¡å¼ -cpp -æå»ºå¿ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>git</title>
    <link href="/2020/07/12/git/"/>
    <url>/2020/07/12/git/</url>
    
    <content type="html"><![CDATA[<h1 id="GITï¼ˆç‰ˆæœ¬ç®¡ç†è½¯ä»¶ï¼‰"><a href="#GITï¼ˆç‰ˆæœ¬ç®¡ç†è½¯ä»¶ï¼‰" class="headerlink" title="GITï¼ˆç‰ˆæœ¬ç®¡ç†è½¯ä»¶ï¼‰"></a>GITï¼ˆç‰ˆæœ¬ç®¡ç†è½¯ä»¶ï¼‰</h1><p>gitåªèƒ½ç®¡ç†å„ç§æ–‡æœ¬ä¿¡æ¯æ–‡ä»¶ï¼Œå¦‚ï¼ˆ.txt/.pyç­‰ç­‰ï¼‰ï¼Œåƒå›¾ç‰‡(.jpg,.docåˆ™ä¸èƒ½è¢«ç®¡ç†).</p><p>è¿™æ˜¯çœ‹è«çƒ¦Gitç³»åˆ—è§†é¢‘ä¸ªäººæ‰€åšç¬”è®°<a href="https://morvanzhou.github.io/tutorials/others/git/1-1-why/">ç‚¹å‡»è¿›å…¥è«çƒ¦bolg</a></p><h2 id="ç¬¬ä¸€ä¸ªç‰ˆæœ¬åº“repository"><a href="#ç¬¬ä¸€ä¸ªç‰ˆæœ¬åº“repository" class="headerlink" title="ç¬¬ä¸€ä¸ªç‰ˆæœ¬åº“repository"></a>ç¬¬ä¸€ä¸ªç‰ˆæœ¬åº“repository</h2><h3 id="1ã€å¸¸ç”¨å‘½ä»¤"><a href="#1ã€å¸¸ç”¨å‘½ä»¤" class="headerlink" title="1ã€å¸¸ç”¨å‘½ä»¤"></a>1ã€å¸¸ç”¨å‘½ä»¤</h3><p>1ã€<code>mkdir</code> ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å¤¹</p><p>2ã€<code>cd</code>   cd ~ è¿”å›æ ¹ç›®å½•ï¼ˆæ™®é€šç”¨æˆ·å’Œsuperç”¨æˆ·ä¸åŒï¼‰</p><p>3ã€<code>pwd</code>æ˜¾ç¤ºå½“å‰ç›®å½• (ç›®å½•ä¸è¦å«ä¸­æ–‡)</p><h3 id="2ã€å…³é”®æ“ä½œ"><a href="#2ã€å…³é”®æ“ä½œ" class="headerlink" title="2ã€å…³é”®æ“ä½œ"></a>2ã€å…³é”®æ“ä½œ</h3><h4 id="åˆ›å»ºç‰ˆæœ¬åº“-init"><a href="#åˆ›å»ºç‰ˆæœ¬åº“-init" class="headerlink" title="åˆ›å»ºç‰ˆæœ¬åº“(init)"></a>åˆ›å»ºç‰ˆæœ¬åº“(init)</h4><ul><li><p>åˆ›å»ºç”¨æˆ·<code>git config --global user.name &quot;qingcai56&quot;</code></p></li><li><p>ä¸ºåˆšæ‰åˆ›å»ºçš„ç”¨æˆ·æŒ‡å®šé‚®ç®±<code>git config --global user.email &quot;qc@email.com&quot;</code></p></li><li><p><code>config user.nameå’Œconfig user.email</code>æŸ¥è¯¢ç”¨æˆ·</p></li><li><p><code>git init</code>ç”Ÿæˆgitçš„ç®¡ç†æ–‡ä»¶</p></li><li><p><code>start git</code>æ‰“å¼€gitçš„ç®¡ç†æ–‡ä»¶</p></li></ul><h4 id="æ·»åŠ æ–‡ä»¶ç®¡ç†ï¼ˆaddï¼‰"><a href="#æ·»åŠ æ–‡ä»¶ç®¡ç†ï¼ˆaddï¼‰" class="headerlink" title="æ·»åŠ æ–‡ä»¶ç®¡ç†ï¼ˆaddï¼‰"></a>æ·»åŠ æ–‡ä»¶ç®¡ç†ï¼ˆaddï¼‰</h4><ul><li><code>touch  **.py/txt</code>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶</li><li><code>git add **.py/txt</code>æŠŠæ–‡ä»¶åŠ åˆ°gitç‰ˆæœ¬åº“ä¹‹ä¸­</li><li><code>git status</code>æŸ¥çœ‹å½“å‰ç‰ˆæœ¬åº“çš„çŠ¶æ€</li><li><code>git add .</code>addæ‰€æœ‰ç¨‹åº</li></ul><h4 id="æäº¤æ”¹å˜ï¼ˆcommitï¼‰"><a href="#æäº¤æ”¹å˜ï¼ˆcommitï¼‰" class="headerlink" title="æäº¤æ”¹å˜ï¼ˆcommitï¼‰"></a>æäº¤æ”¹å˜ï¼ˆcommitï¼‰</h4><ul><li><code>git commit -m &quot;create 1.py&quot;</code> æäº¤è¿™æ¬¡æ”¹å˜,å¼•å·ä¹‹ä¸­ä¸ºæœ¬æ¬¡æäº¤è¯´æ˜</li><li><strong>å¯ä»¥å¤šæ¬¡addæ–‡ä»¶ç”¨commitä¸€æ¬¡å¯ä»¥æäº¤å¤šä¸ªæ–‡ä»¶</strong></li></ul><p><img src="./0.png" alt=""></p><h2 id="ä¿®æ”¹è®°å½•"><a href="#ä¿®æ”¹è®°å½•" class="headerlink" title="ä¿®æ”¹è®°å½•"></a>ä¿®æ”¹è®°å½•</h2><p>â€‹        åœ¨gitä¹‹ä¸­ï¼Œæ¯ä¸€æ¬¡æäº¤ï¼ˆcommitï¼‰ä¿®æ”¹ï¼Œéƒ½ä¼šè¢«å•ç‹¬ä¿å­˜èµ·æ¥ï¼Œå°±å¥½åƒæ¸¸æˆé€šè¿‡æŸä¸€å…³è¦ä¿å­˜å­˜æ¡£ä¸€æ ·</p><h3 id="1ã€ä½¿ç”¨å‘½ä»¤"><a href="#1ã€ä½¿ç”¨å‘½ä»¤" class="headerlink" title="1ã€ä½¿ç”¨å‘½ä»¤"></a>1ã€ä½¿ç”¨å‘½ä»¤</h3><p>1ã€<code>git log</code> æŸ¥çœ‹ä¹‹å‰æ‰€æœ‰çš„ä¿®æ”¹è®°å½•</p><p>2ã€<code>git satus</code>æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„çŠ¶æ€</p><p>3ã€<code>git diff</code>æ¯”è¾ƒä¿®æ”¹åçš„çŠ¶æ€<strong>(modified)</strong>å’Œä¹‹å‰æäº¤çŠ¶æ€æœ‰ä»€ä¹ˆä¸åŒ<strong>(Unmodified)</strong></p><p>4ã€<code>git diff --cached</code> æ¯”è¾ƒ<strong>Staged</strong>çš„çŠ¶æ€å’Œä¸Šä¸€ä¸ª<strong>Commit</strong>çš„çŠ¶æ€çš„ä¸åŒ</p><p>5ã€<code>git diff HEAD</code>å†æ¬¡ä¿®æ”¹StageçŠ¶æ€æ–‡ä»¶æ¯”è¾ƒ<strong>stage&amp;unstage</strong>æœ‰ä»€ä¹ˆä¸åŒ</p><h3 id="2ã€æ¯”è¾ƒä¸‰ç§ä¸åŒå½¢å¼çš„diff"><a href="#2ã€æ¯”è¾ƒä¸‰ç§ä¸åŒå½¢å¼çš„diff" class="headerlink" title="2ã€æ¯”è¾ƒä¸‰ç§ä¸åŒå½¢å¼çš„diff"></a>2ã€æ¯”è¾ƒä¸‰ç§ä¸åŒå½¢å¼çš„diff</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> å¯¹æ¯”ä¸‰ç§ä¸åŒ diff å½¢å¼</span><br><span class="hljs-meta">$</span><span class="bash"> git diff HEAD     <span class="hljs-comment"># staged &amp; unstaged</span></span><br><br>@@ -1 +1,3 @@<br>-a = 1  # å·² staged<br>+a = 2  # å·² staged<br>+b = 1  # å·² staged<br>+c = b  # è¿˜æ²¡ add å» stage (unstaged)<br>-----------------------<br><span class="hljs-meta">$</span><span class="bash"> git diff          <span class="hljs-comment"># unstaged</span></span><br><br>@@ -1,2 +1,3 @@<br> a = 2  # æ³¨: å‰é¢æ²¡æœ‰ +<br> b = 1  # æ³¨: å‰é¢æ²¡æœ‰ +<br>+c = b  # è¿˜æ²¡ add å» stage (unstaged)<br>-----------------------<br><span class="hljs-meta">$</span><span class="bash"> git diff --cached <span class="hljs-comment"># staged</span></span><br><br>@@ -1 +1,2 @@<br>-a = 1  # å·² staged<br>+a = 2  # å·² staged<br>+b = 1  # å·² staged<br></code></pre></td></tr></table></figure><h2 id="å›åˆ°ä»å‰-reset"><a href="#å›åˆ°ä»å‰-reset" class="headerlink" title="å›åˆ°ä»å‰(reset)"></a>å›åˆ°ä»å‰(reset)</h2><h3 id="1ã€ä¿®æ”¹å·²commitçš„ç‰ˆæœ¬"><a href="#1ã€ä¿®æ”¹å·²commitçš„ç‰ˆæœ¬" class="headerlink" title="1ã€ä¿®æ”¹å·²commitçš„ç‰ˆæœ¬"></a>1ã€ä¿®æ”¹å·²commitçš„ç‰ˆæœ¬</h3><p>â€‹        æœ‰æ—¶å€™æˆ‘ä»¬æŠŠæ–‡ä»¶<code>commit</code>åˆ°ç‰ˆæœ¬åº“ä¹‹ä¸­ï¼Œå´å‘ç°è¿˜å¿˜äº†é™„ä¸Šå¦ä¸€ä¸ªæ–‡ä»¶ï¼Œä¾‹å¦‚æˆ‘ä»¬æœ€åä¸€ä¸ª<code>commit</code>æ˜¯<code>change 2</code>ï¼Œç‰ˆæœ¬å·<code>904e1ba</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æŠŠé™„ä»¶ä¹Ÿ<code>commit</code>è¿›<code>change 2</code>.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git add 2.py</span><br><span class="hljs-meta">$</span><span class="bash"> git commit --amend --no-edit   <span class="hljs-comment"># &quot;--no-edit&quot;: ä¸ç¼–è¾‘, ç›´æ¥åˆå¹¶åˆ°ä¸Šä¸€ä¸ª commit</span></span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline    <span class="hljs-comment"># &quot;--oneline&quot;: æ¯ä¸ª commit å†…å®¹æ˜¾ç¤ºåœ¨ä¸€è¡Œ</span></span><br></code></pre></td></tr></table></figure><h3 id="2ã€ä»Stageè¿”å›-reset-åˆ°addä¹‹å‰"><a href="#2ã€ä»Stageè¿”å›-reset-åˆ°addä¹‹å‰" class="headerlink" title="2ã€ä»Stageè¿”å›(reset)åˆ°addä¹‹å‰"></a>2ã€ä»Stageè¿”å›(reset)åˆ°addä¹‹å‰</h3><p>â€‹        æœ‰æ—¶æˆ‘ä»¬å·²ç»æŠŠæ–‡ä»¶<code>add</code>åˆ°<code>stage</code>ä¹‹ä¸­ï¼Œä½†æ˜¯æƒ³è¡¥å……ä¸€äº›æ–°å¾—å†…å®¹ï¼Œè¿™æ—¶ï¼Œæˆ‘ä»¬å¾—å›åˆ°<code>add</code>ä¹‹å‰ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git add 1.py</span><br><span class="hljs-meta">$</span><span class="bash"> git status -s <span class="hljs-comment"># &quot;-s&quot;: status çš„ç¼©å†™æ¨¡å¼</span></span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>M  1.py     # staged<br>-----------------------<br><span class="hljs-meta">$</span><span class="bash"> git reset 1.py</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>Unstaged changes after reset:<br>M1.py<br>-----------------------<br><span class="hljs-meta">$</span><span class="bash"> git status -s</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br> M 1.py     # unstaged<br></code></pre></td></tr></table></figure><h3 id="3ã€resetå›åˆ°comimitä¹‹å‰ï¼ˆæ—¶å…‰ç©¿æ¢­ï¼‰"><a href="#3ã€resetå›åˆ°comimitä¹‹å‰ï¼ˆæ—¶å…‰ç©¿æ¢­ï¼‰" class="headerlink" title="3ã€resetå›åˆ°comimitä¹‹å‰ï¼ˆæ—¶å…‰ç©¿æ¢­ï¼‰"></a>3ã€resetå›åˆ°comimitä¹‹å‰ï¼ˆæ—¶å…‰ç©¿æ¢­ï¼‰</h3><p>â€‹        æ¯ä¸ª <code>commit</code> éƒ½æœ‰è‡ªå·±çš„ <code>id</code> æ•°å­—å·, <code>HEAD</code> æ˜¯ä¸€ä¸ªæŒ‡é’ˆ, æŒ‡å¼•å½“å‰çš„çŠ¶æ€æ˜¯åœ¨å“ªä¸ª <code>commit</code>. æœ€è¿‘çš„ä¸€æ¬¡ <code>commit</code> åœ¨æœ€å³è¾¹, æˆ‘ä»¬å¦‚æœè¦å›åˆ°è¿‡å», å°±æ˜¯è®© <code>HEAD</code> å›åˆ°è¿‡å»å¹¶ <code>reset</code> æ­¤æ—¶çš„ <code>HEAD</code> åˆ°è¿‡å»çš„ä½ç½®.</p><p><img src="./-1.png" alt=""></p><p><img src="./-2.png" alt=""></p><p><img src="./-3.png" alt=""></p><p><img src="./-4.png" alt=""></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> ä¸ç®¡æˆ‘ä»¬ä¹‹å‰æœ‰æ²¡æœ‰åšäº†ä¸€äº› add å·¥ä½œ, è¿™ä¸€æ­¥è®©æˆ‘ä»¬å›åˆ° ä¸Šä¸€æ¬¡çš„ commit</span><br><span class="hljs-meta">$</span><span class="bash"> git reset --hard HEAD</span>    <br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>HEAD is now at 904e1ba change 2<br>-----------------------<br><span class="hljs-meta">#</span><span class="bash"> çœ‹çœ‹æ‰€æœ‰çš„<span class="hljs-built_in">log</span></span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>904e1ba change 2<br>c6762a1 change 1<br>13be9a7 create 1.py<br>-----------------------<br><span class="hljs-meta">#</span><span class="bash"> å›åˆ° c6762a1 change 1</span><br><span class="hljs-meta">#</span><span class="bash"> æ–¹å¼1: <span class="hljs-string">&quot;HEAD^&quot;</span> å‡ ä¸ªç®­å¤´å°±æ˜¯è¿”å›å‡ ä¸ªç‰ˆæœ¬</span><br><span class="hljs-meta">$</span><span class="bash"> git reset --hard HEAD^</span>   <br><br><span class="hljs-meta">#</span><span class="bash"> æ–¹å¼2: <span class="hljs-string">&quot;commit id&quot;</span></span><br><span class="hljs-meta">$</span><span class="bash"> git reset --hard c6762a1</span><br><br><span class="hljs-meta">#</span><span class="bash"> æ–¹å¼3: <span class="hljs-string">&quot;HEAD~&quot;</span> ~åé¢åŠ æ•°å­—,æ•°å­—å‡ å°±æ˜¯å‡ ä¸ªç‰ˆæœ¬</span><br><span class="hljs-meta">$</span><span class="bash"> git reset --hard ~1</span><br>-----------------------<br><span class="hljs-meta">#</span><span class="bash"> çœ‹çœ‹ç°åœ¨çš„ <span class="hljs-built_in">log</span></span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>c6762a1 change 1<br>13be9a7 create 1.py<br></code></pre></td></tr></table></figure><p>â€‹        æŠŠç‰ˆæœ¬åº“æŒ‡åˆ°<code>c6762a1</code>åå†ç”¨<code>log --oneline</code>æŸ¥çœ‹å‘ç°ä¹‹å‰å¾—<code>change 2</code>æ²¡äº†,è¿™æ˜¯æˆ‘ä¹ˆåˆ™éœ€è¦ç”¨<code>git reflog</code>æŸ¥çœ‹è¿‘æœŸå¯¹HEADå¾—æ‰€æœ‰æ”¹åŠ¨ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git reflog</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>c6762a1 HEAD@&#123;0&#125;: reset: moving to c6762a1<br>904e1ba HEAD@&#123;1&#125;: commit (amend): change 2<br>0107760 HEAD@&#123;2&#125;: commit: change 2<br>c6762a1 HEAD@&#123;3&#125;: commit: change 1<br>13be9a7 HEAD@&#123;4&#125;: commit (initial): create 1.py<br>-----------------------<br><span class="hljs-meta">#</span><span class="bash"> é‡å¤resetæ­¥éª¤å°±èƒ½å›åˆ°change2</span><br><span class="hljs-meta">$</span><span class="bash"> git reset --hard 904e1ba</span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>904e1ba change 2<br>c6762a1 change 1<br>13be9a7 create 1.py<br></code></pre></td></tr></table></figure><h2 id="å›åˆ°ä»å‰"><a href="#å›åˆ°ä»å‰" class="headerlink" title="å›åˆ°ä»å‰"></a>å›åˆ°ä»å‰</h2><h3 id="1ã€æ”¹å†™æ–‡ä»¶checkout"><a href="#1ã€æ”¹å†™æ–‡ä»¶checkout" class="headerlink" title="1ã€æ”¹å†™æ–‡ä»¶checkout"></a>1ã€æ”¹å†™æ–‡ä»¶checkout</h3><p>â€‹        ä¹‹å‰çš„<code>reset</code>æ˜¯é’ˆå¯¹æ•´ä¸ªç‰ˆæœ¬åº“ï¼Œä½†æ˜¯æœ‰æ—¶åªæƒ³ä¿®æ”¹æŸä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™æ—¶æˆ‘ä»¬å°±è¦ä½¿ç”¨checkoutè¯­å¥æ—¶å•ä¸ªæ–‡ä»¶å›åˆ°è¿‡å»ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>904e1ba change 2<br>c6762a1 change 1<br>13be9a7 create 1.py<br><br>---------------------<br><span class="hljs-meta">$</span><span class="bash"> git checkout c6762a1 -- 1.py</span><br><br><br>---------------------<br><span class="hljs-meta">$</span><span class="bash"> git add 1.py</span><br><span class="hljs-meta">$</span><span class="bash"> git commit -m <span class="hljs-string">&quot;back to change 1 and add comment for 1.py&quot;</span></span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>47f167e back to change 1 and add comment for 1.py<br>904e1ba change 2<br>c6762a1 change 1<br>13be9a7 create 1.py<br></code></pre></td></tr></table></figure><h2 id="åˆ†æ”¯ï¼ˆbranchï¼‰"><a href="#åˆ†æ”¯ï¼ˆbranchï¼‰" class="headerlink" title="åˆ†æ”¯ï¼ˆbranchï¼‰"></a>åˆ†æ”¯ï¼ˆbranchï¼‰</h2><p>â€‹        æœ‰æ—¶æˆ‘ä»¬éœ€è¦ä¸åŒçš„ç‰ˆæœ¬åº“ï¼ˆå¦‚å¼€å‘è½¯ä»¶çš„ç¨³å®šç‰ˆæœ¬å’Œæµ‹è¯•ç‰ˆï¼‰ï¼Œgitæä¾›åˆ†æ”¯ï¼ˆbranchï¼‰ç®¡ç†å»æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚</p><p><img src=".\1.svg" alt="1"></p><h3 id="1ã€ç”¨åˆ°çš„å‘½ä»¤"><a href="#1ã€ç”¨åˆ°çš„å‘½ä»¤" class="headerlink" title="1ã€ç”¨åˆ°çš„å‘½ä»¤"></a>1ã€ç”¨åˆ°çš„å‘½ä»¤</h3><p>1ã€<code>git log --oneline --graph</code> ç”¨<code>--graph</code>æŸ¥çœ‹åˆ†æ”¯.</p><p>2ã€<code>git branch dev</code> åˆ›å»ºåˆ†æ”¯<code>dev</code>.</p><p>3ã€<code>git checkout dev</code> åˆ‡æ¢åˆ°åˆ†æ”¯dev.</p><p>4ã€<code>git checkout -b  dev</code>åˆ›å»ºå¹¶åˆ‡æ¢åˆ°åˆ†æ”¯dev.</p><p>5ã€<code>git merge dev</code> æŠŠåˆ†æ”¯æ¨é€åˆ°masterï¼Œè¿™ä¸ªæ“ä½œè¦åœ¨masterä¸Šå®Œæˆ.</p><p>6ã€<code>git commit -am &quot;change 3 in dev&quot;</code>  ç®€åŒ–æ“ä½œå…ˆaddå†commitï¼Œä¸è¿‡è¦åœ¨umçŠ¶æ€ä¸‹.</p><h3 id="2ã€æ“ä½œä»£ç "><a href="#2ã€æ“ä½œä»£ç " class="headerlink" title="2ã€æ“ä½œä»£ç "></a>2ã€æ“ä½œä»£ç </h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout -b  dev               <span class="hljs-comment">#åˆ›å»ºå’Œåˆ‡æ¢åˆ°æ–°å»ºçš„åˆ†æ”¯</span></span><br><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>Switched to a new branch &#x27;dev&#x27;<br><br>--------------------------<br><span class="hljs-meta">$</span><span class="bash"> git branch</span><br><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>* dev                                 # è¿™æ—¶ HEAD å·²ç»è¢«åˆ‡æ¢è‡³ dev åˆ†æ”¯<br>  master<br>  <br>--------------------------            # ä¿®æ”¹devä¸­æ–‡ä»¶å¹¶æäº¤ <br><span class="hljs-meta">$</span><span class="bash"> git commit -am <span class="hljs-string">&quot;change 3 in dev&quot;</span>    <span class="hljs-comment"># &quot;-am&quot;: add æ‰€æœ‰æ”¹å˜ å¹¶ç›´æ¥ commit</span></span><br><br>--------------------------  <br><span class="hljs-meta">$</span><span class="bash"> git checkout master                 <span class="hljs-comment"># åˆ‡æ¢è‡³ master æ‰èƒ½æŠŠå…¶ä»–åˆ†æ”¯åˆå¹¶è¿‡æ¥</span></span><br><span class="hljs-meta">$</span><span class="bash"> git merge --no-ff -m <span class="hljs-string">&quot;keep merge info&quot;</span> dev     <span class="hljs-comment"># ä¿ç•™ merge ä¿¡æ¯</span></span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --graph</span><br><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>*   c60668f keep merge info<br>|\  <br>| * f9584f8 change 3 in dev                   # è¿™é‡Œå°±èƒ½çœ‹å‡º, æˆ‘ä»¬å»ºç«‹è¿‡ä¸€ä¸ªåˆ†æ”¯<br>|/  <br>* 47f167e back to change 1 and add comment for 1.py<br>* 904e1ba change 2<br>* c6762a1 change 1<br>* 13be9a7 create 1.py<br></code></pre></td></tr></table></figure><p>â€‹        <strong>æ³¨æ„ï¼šå¦‚æœç›´æ¥ <code>git merge dev</code>, git ä¼šé‡‡ç”¨é»˜è®¤çš„ <code>Fast forward</code> æ ¼å¼è¿›è¡Œ <code>merge</code>, è¿™æ · <code>merge</code> çš„è¿™æ¬¡æ“ä½œä¸ä¼šæœ‰ <code>commit</code> ä¿¡æ¯. <code>log</code> ä¸­ä¹Ÿä¸ä¼šæœ‰åˆ†æ”¯çš„å›¾æ¡ˆ. æˆ‘ä»¬å¯ä»¥é‡‡å– <code>--no-ff</code> è¿™ç§æ–¹å¼ä¿ç•™ <code>merge</code> çš„ <code>commit</code> ä¿¡æ¯.</strong></p><h2 id="mergeåˆ†æ”¯å†²çª"><a href="#mergeåˆ†æ”¯å†²çª" class="headerlink" title="mergeåˆ†æ”¯å†²çª"></a>mergeåˆ†æ”¯å†²çª</h2><p>â€‹        å¦‚æœæˆ‘ä»¬åœ¨devä¸­åšå‡ºä¿®æ”¹ï¼Œä½†æ˜¯masterè¿™æ—¶è¢«ä¿®æ”¹äº†,æˆ‘ä»¬è¦è¿›è¡Œåˆå¹¶ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™æ˜¯gitä¼šæŠ¥å‡ºAutomatic merge failed; fix conflicts and then commit the result.çš„é”™è¯¯ï¼Œæˆ‘ä»¬éœ€æ‰“å¼€æ–‡ä»¶æ‰‹åŠ¨è°ƒè¯•ä¿å­˜é‚£äº›å†…å®¹ã€‚</p><p><img src="./2.png" alt=""></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> è¿™æ˜¯ master çš„ <span class="hljs-built_in">log</span></span><br>* 3d7796e change 4 in master # è¿™ä¸€æ¡ commit å’Œ dev çš„ä¸ä¸€æ ·<br>* 47f167e back to change 1 and add comment for 1.py<br>* 904e1ba change 2<br>* c6762a1 change 1<br>* 13be9a7 create 1.py<br>-----------------------------<br><span class="hljs-meta">#</span><span class="bash"> è¿™æ˜¯ dev çš„ <span class="hljs-built_in">log</span></span><br>* f7d2e3a change 3 in dev   # è¿™ä¸€æ¡ commit å’Œ master çš„ä¸ä¸€æ ·<br>* 47f167e back to change 1 and add comment for 1.py<br>* 904e1ba change 2<br>* c6762a1 change 1<br>* 13be9a7 create 1.py<br><br><br>-------------------------<br><span class="hljs-meta">$</span><span class="bash"> git branch</span><br>  dev<br>* master<br>-------------------------<br><span class="hljs-meta">$</span><span class="bash"> git merge dev</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>Auto-merging 1.py<br>CONFLICT (content): Merge conflict in 1.py<br>Automatic merge failed; fix conflicts and then commit the result.<br><br><span class="hljs-meta">#</span><span class="bash"> æ‰“å¼€vscodeï¼Œgitå·²ç»å¸®æˆ‘ä»¬æŠŠå†²çªæ ‡è®°å‡ºæ¥äº†</span><br>a = 1<br><span class="hljs-meta">#</span><span class="bash"> I went back to change 1</span><br>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD<br><span class="hljs-meta">#</span><span class="bash"> edited <span class="hljs-keyword">in</span> master</span><br>=======<br><span class="hljs-meta">#</span><span class="bash"> edited <span class="hljs-keyword">in</span> dev</span><br><span class="hljs-meta">&gt;</span><span class="bash">&gt;&gt;&gt;&gt;&gt;&gt; dev</span><br>-------------------------<br><span class="hljs-meta">#</span><span class="bash"> æ‰‹åŠ¨è°ƒè¯•å¹¶æäº¤</span><br>a = 1<br><span class="hljs-meta">#</span><span class="bash"> I went back to change 1</span><br><span class="hljs-meta">#</span><span class="bash"> edited <span class="hljs-keyword">in</span> master and dev</span><br><span class="hljs-meta">$</span><span class="bash"> git commit -am <span class="hljs-string">&quot;solve conflict&quot;</span></span><br>-------------------------<br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --graph</span><br><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>*   7810065 solve conflict<br>|\  <br>| * f7d2e3a change 3 in dev<br>* | 3d7796e change 4 in master<br>|/  <br>* 47f167e back to change 1 and add comment for 1.py<br>* 904e1ba change 2<br>* c6762a1 change 1<br>* 13be9a7 create 1.py<br><br></code></pre></td></tr></table></figure><h2 id="rebaseåˆ†æ”¯å†²çª"><a href="#rebaseåˆ†æ”¯å†²çª" class="headerlink" title="rebaseåˆ†æ”¯å†²çª"></a>rebaseåˆ†æ”¯å†²çª</h2><p>â€‹        æ›´é«˜çº§çš„åˆå¹¶æ–¹å¼<code>rebase</code>ï¼Œå…±äº«çš„ branch æ˜¯ <code>branch B</code>, è€Œæˆ‘åœ¨ <code>branch A</code> ä¸Šå·¥ä½œ, æœ‰ä¸€å¤©æˆ‘å‘ç°<code>branch B</code>å·²ç»æœ‰ä¸€äº›å°æ›´æ–°, æˆ‘ä¹Ÿæƒ³è¯•è¯•æˆ‘çš„ç¨‹åºå’Œè¿™äº›å°æ›´æ–°å…¼ä¸å…¼å®¹, æˆ‘ä¹Ÿæˆ‘æƒ³åˆå¹¶, è¿™æ—¶å°±å¯ä»¥ç”¨ <code>rebase</code> æ¥è¡¥å……æˆ‘çš„åˆ†æ”¯<code>branch A</code>çš„å†…å®¹. è¡¥å……å®Œä»¥å, å’Œåé¢é‚£å¼ å›¾çš„ <code>merge</code> ä¸åŒ, æˆ‘è¿˜æ˜¯ç»§ç»­åœ¨ <code>C3</code> ä¸Šå·¥ä½œ, ä¸è¿‡æ­¤æ—¶çš„ <code>C3</code> çš„æœ¬è´¨å´ä¸ä¸€æ ·äº†, å› ä¸ºå¸æ”¶äº†é‚£äº›å°æ›´æ–°. æ‰€ä»¥æˆ‘ä»¬ç”¨ <code>C3&#39;</code> æ¥ä»£æ›¿.</p><p><img src="./3.png" alt=""></p><p><img src="./4.png" alt=""></p><p><img src="./5.png" alt=""></p><p><img src="./6.png" alt=""></p><p>â€‹        å¯ä»¥çœ‹å‡ºæˆ‘ä»¬å·¥ä½œçš„<code>C3</code>å·²ç»ä¸æ˜¯ä»<code>C1</code>è¡ç”Ÿæ¥çš„ï¼Œè¿™ä¸€ç‚¹å’Œ<code>merge</code>ä¸ä¸€æ ·ï¼Œ<code>merge</code>æ˜¯æŠŠC3å’Œ<code>C4</code>åˆå¹¶æˆä¸€ä¸ªæ–°çš„<code>C5</code>,å¦‚æœæ˜¯rebaseï¼Œé‚£ä½ å°±æŠŠåˆ«äººçš„å…±äº«å†…å®¹ç»™æ”¹å†™äº†ã€‚</p><p><img src="./7.png" alt=""></p><h3 id="1ã€é”™è¯¯ç¤ºä¾‹æŠŠä¸»åˆ†æ”¯åŸºäºä½ çš„åˆ†æ”¯ä¿®æ”¹"><a href="#1ã€é”™è¯¯ç¤ºä¾‹æŠŠä¸»åˆ†æ”¯åŸºäºä½ çš„åˆ†æ”¯ä¿®æ”¹" class="headerlink" title="1ã€é”™è¯¯ç¤ºä¾‹æŠŠä¸»åˆ†æ”¯åŸºäºä½ çš„åˆ†æ”¯ä¿®æ”¹"></a>1ã€é”™è¯¯ç¤ºä¾‹æŠŠä¸»åˆ†æ”¯åŸºäºä½ çš„åˆ†æ”¯ä¿®æ”¹</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> è¿™æ˜¯ master çš„ <span class="hljs-built_in">log</span></span><br>* 3d7796e change 4 in master # è¿™ä¸€æ¡ commit å’Œ dev çš„ä¸ä¸€æ ·<br>* 47f167e back to change 1 and add comment for 1.py<br>* 904e1ba change 2<br>* c6762a1 change 1<br>* 13be9a7 create 1.py<br>-----------------------------<br><br><span class="hljs-meta">#</span><span class="bash"> è¿™æ˜¯ dev çš„ <span class="hljs-built_in">log</span></span><br>* f7d2e3a change 3 in dev   # è¿™ä¸€æ¡ commit å’Œ master çš„ä¸ä¸€æ ·<br>* 47f167e back to change 1 and add comment for 1.py<br>* 904e1ba change 2<br>* c6762a1 change 1<br>* 13be9a7 create 1.py<br><br>-----------------------------<br><span class="hljs-meta">$</span><span class="bash"> git branch</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>  dev<br>* master<br>-------------------------<br><br><span class="hljs-meta">$</span><span class="bash"> git rebase dev</span> <br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º  æ˜¾ç¤ºæœ‰conflictè¦æ‰‹åŠ¨ä¿®æ”¹</span><br>First, rewinding head to replay your work on top of it...<br>Applying: change 3 in dev<br>Using index info to reconstruct a base tree...<br>M1.py<br>Falling back to patching base and 3-way merge...<br>Auto-merging 1.py<br>CONFLICT (content): Merge conflict in 1.py<br>error: Failed to merge in the changes.<br>Patch failed at 0001 change 3 in dev<br>The copy of the patch that failed is found in: .git/rebase-apply/patch<br><br>When you have resolved this problem, run &quot;git rebase --continue&quot;.<br>If you prefer to skip this patch, run &quot;git rebase --skip&quot; instead.<br>To check out the original branch and stop rebasing, run &quot;git rebase --abort&quot;.<br>-------------------------<br><br><span class="hljs-meta">$</span><span class="bash"> git add 1.py</span><br><span class="hljs-meta">$</span><span class="bash"> git rebase --<span class="hljs-built_in">continue</span></span><br>-------------------------<br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --graph</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>* c844cb1 change 4 in master    # è¿™æ¡ commit åŸæœ¬çš„id=3d7796e, æ‰€ä»¥ master çš„å†å²è¢«ä¿®æ”¹<br>* f7d2e3a change 3 in dev       # rebase è¿‡æ¥çš„ dev commit<br>* 47f167e back to change 1 and add comment for 1.py<br>* 904e1ba change 2<br>* c6762a1 change 1<br>* 13be9a7 create 1.py<br></code></pre></td></tr></table></figure><p><strong>!! æ³¨æ„ !!</strong> è¿™ä¸ªä¾‹å­ä¹Ÿè¯´æ˜äº†ä½¿ç”¨ <code>rebase</code> è¦ä¸‡åˆ†å°å¿ƒ, åƒä¸‡ä¸è¦åœ¨å…±äº«çš„ branch ä¸­ <code>rebase</code>, ä¸ç„¶å°±åƒä¸Šé¢é‚£æ ·, ç°åœ¨ <code>master</code> çš„å†å²å·²ç»è¢« <code>rebase</code> æ”¹å˜äº†. <code>master</code> å½“ä¸­åˆ«äººæäº¤çš„ <code>change 4</code> å°±è¢«ä½ æ— æƒ…åœ°ä¿®æ”¹æ‰äº†, æ‰€ä»¥åƒä¸‡ä¸è¦åœ¨å…±äº«åˆ†æ”¯ä¸­ä½¿ç”¨ <code>rebase</code>.</p><h2 id="ä¸´æ—¶ä¿®æ”¹ï¼ˆstashï¼‰"><a href="#ä¸´æ—¶ä¿®æ”¹ï¼ˆstashï¼‰" class="headerlink" title="ä¸´æ—¶ä¿®æ”¹ï¼ˆstashï¼‰"></a>ä¸´æ—¶ä¿®æ”¹ï¼ˆstashï¼‰</h2><p>â€‹        æƒ³æƒ³æœ‰å¤©åœ¨å¼€å¼€å¿ƒå¿ƒåœ°æ”¹è¿›ä»£ç , çªç„¶æ¥åˆ°è€æ¿çš„ä¸€ä¸ªç”µè¯è¯´è¦æ”¹ä¹‹å‰çš„ä¸€ä¸ªç¨‹åº. æ€ä¹ˆåŠ? è™½ç„¶è¿˜éœ€è¦å¾ˆä¹…æ—¶é—´æ‰èƒ½æ”¹è¿›å®Œè‡ªå·±çš„ä»£ç , å¯æˆ‘æœ‰å¼ºè¿«ç—‡, åˆä¸æƒ³æŠŠè¦æ”¹çš„ç¨‹åºå’Œè‡ªå·±æ”¹è¿›ä»£ç çš„éƒ¨åˆ†ä¸€èµ· <code>commit</code> äº†.</p><p>è¿™æ—¶ <code>stash</code> å°±æ˜¯æˆ‘çš„æ•‘æ˜Ÿäº†. ç”¨ <code>stash</code> èƒ½å…ˆå°†æˆ‘çš„é‚£æ”¹è¿›çš„éƒ¨åˆ†æ”¾åœ¨ä¸€è¾¹åˆ†éš”å¼€æ¥. å†å¦å¤–å•ç‹¬å¤„ç†è€æ¿çš„ä»»åŠ¡.</p><h3 id="1ã€ä¸´æ—¶ä¿®æ”¹ä»£ç "><a href="#1ã€ä¸´æ—¶ä¿®æ”¹ä»£ç " class="headerlink" title="1ã€ä¸´æ—¶ä¿®æ”¹ä»£ç "></a>1ã€ä¸´æ—¶ä¿®æ”¹ä»£ç </h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout dev</span><br></code></pre></td></tr></table></figure><p>åœ¨ <code>dev</code> ä¸­çš„ <code>1.py</code> ä¸­åŠ ä¸Šä¸€è¡Œ <code># feel happy</code>, ç„¶åè€æ¿çš„ç”µè¯æ¥äº†, å¯æ˜¯æˆ‘è¿˜æ²¡æœ‰æ”¹è¿›å®Œè¿™äº›ä»£ç . æ‰€ä»¥æˆ‘å°±ç”¨ <code>stash</code> å°†è¿™äº›æ”¹å˜æš‚æ—¶æ”¾ä¸€è¾¹.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git status -s</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br> M 1.py<br>------------------ <br><span class="hljs-meta">$</span><span class="bash"> git stash</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>Saved working directory and index state WIP on dev: f7d2e3a change 3 in dev<br>HEAD is now at f7d2e3a change 3 in dev<br>-------------------<br><span class="hljs-meta">$</span><span class="bash"> git status</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>On branch dev<br>nothing to commit, working directory clean     # å¹²å‡€å¾—å¾ˆ<br></code></pre></td></tr></table></figure><p>â€‹        ç„¶åå»ä»<code>master</code>ä¸­å»ºç«‹æ–°åˆ†æ”¯å»å®Œæˆè€æ¿çš„ä»»åŠ¡ï¼Œ<code>merge</code>åˆå¹¶åˆ°<code>master</code>åæˆ‘ä»¬åœ¨è½¬ä¼šdev.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout dev</span><br><span class="hljs-meta">$</span><span class="bash"> git stash list    <span class="hljs-comment"># æŸ¥çœ‹åœ¨ stash ä¸­çš„ç¼“å­˜</span></span><br><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>stash@&#123;0&#125;: WIP on dev: f7d2e3a change 3 in dev<br><span class="hljs-meta">$</span><span class="bash"> git stash pop</span><br><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>On branch dev<br>Changes not staged for commit:<br>  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)<br>  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)<br><br>modified:   1.py<br><br>no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)<br>Dropped refs/stash@&#123;0&#125; (23332b7edc105a579b09b127336240a45756a91c)<br>----------------------<br><span class="hljs-meta">$</span><span class="bash"> git status -s</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br> M 1.py     # å’Œæœ€å¼€å§‹ä¸€æ ·äº†<br></code></pre></td></tr></table></figure><h2 id="githubåœ¨çº¿ç®¡ç†"><a href="#githubåœ¨çº¿ç®¡ç†" class="headerlink" title="githubåœ¨çº¿ç®¡ç†"></a>githubåœ¨çº¿ç®¡ç†</h2><h3 id="1ã€å»ºç«‹ç‰ˆæœ¬åº“"><a href="#1ã€å»ºç«‹ç‰ˆæœ¬åº“" class="headerlink" title="1ã€å»ºç«‹ç‰ˆæœ¬åº“"></a>1ã€å»ºç«‹ç‰ˆæœ¬åº“</h3><h3 id="2ã€é“¾æ¥æœ¬åœ°ç‰ˆæœ¬åº“"><a href="#2ã€é“¾æ¥æœ¬åœ°ç‰ˆæœ¬åº“" class="headerlink" title="2ã€é“¾æ¥æœ¬åœ°ç‰ˆæœ¬åº“"></a>2ã€é“¾æ¥æœ¬åœ°ç‰ˆæœ¬åº“</h3><h3 id="3ã€æœ¬åœ°æ¨é€ä¿®æ”¹"><a href="#3ã€æœ¬åœ°æ¨é€ä¿®æ”¹" class="headerlink" title="3ã€æœ¬åœ°æ¨é€ä¿®æ”¹"></a>3ã€æœ¬åœ°æ¨é€ä¿®æ”¹</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git remote add origin https://github.com/MorvanZhou/git-demo.git</span><br><span class="hljs-meta">#</span><span class="bash"> ä¸Šé¢httpsæ˜¯è«çƒ¦çš„ï¼Œé“¾æ¥æ—¶è®°å¾—æ¢æˆè‡ªå·±çš„</span><br><span class="hljs-meta">$</span><span class="bash"> git push -u origin master     <span class="hljs-comment"># æ¨é€æœ¬åœ° master å» origin</span></span><br><span class="hljs-meta">$</span><span class="bash"> git push -u origin dev        <span class="hljs-comment"># æ¨é€æœ¬åœ° dev  å» origin</span></span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-git -how use</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
