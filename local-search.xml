<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>RB-Tree</title>
    <link href="/2021/02/12/RB-Tree/"/>
    <url>/2021/02/12/RB-Tree/</url>
    
    <content type="html"><![CDATA[<h2 id="ğŸŒ¿æ€§è´¨"><a href="#ğŸŒ¿æ€§è´¨" class="headerlink" title="ğŸŒ¿æ€§è´¨"></a>ğŸŒ¿æ€§è´¨</h2><p>çº¢é»‘æ ‘æ˜¯ä¸€ç§<strong>è‡ªå¹³è¡¡äºŒå‰æœç´¢æ ‘</strong>ï¼Œå®ƒå¯ä»¥åœ¨<strong>O(log<sub>n</sub>)</strong>æ—¶é—´å†…å®ŒæˆæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤ï¼Œè¿™é‡Œçš„<strong>n</strong>æ˜¯æ ‘ä¸­å…ƒç´ çš„æ•°ç›®ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ol><li>èŠ‚ç‚¹æ˜¯çº¢è‰²æˆ–é»‘è‰²ã€‚</li><li><strong>æ ¹æ˜¯é»‘è‰²</strong>ã€‚</li><li>æ‰€æœ‰<strong>å¶å­éƒ½æ˜¯é»‘è‰²</strong>ï¼ˆå¶å­æ˜¯NILèŠ‚ç‚¹ï¼‰ã€‚</li><li><strong>æ¯ä¸ªçº¢è‰²èŠ‚ç‚¹å¿…é¡»æœ‰ä¸¤ä¸ªé»‘è‰²çš„å­èŠ‚ç‚¹</strong>ã€‚ï¼ˆä»æ¯ä¸ªå¶å­åˆ°æ ¹çš„æ‰€æœ‰è·¯å¾„ä¸Šä¸èƒ½æœ‰ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹ã€‚ï¼‰</li><li>ä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰<a href="https://zh.wikipedia.org/wiki/é“è·¯_(å›¾è®º">ç®€å•è·¯å¾„</a>)éƒ½åŒ…å«<strong>ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹</strong>ã€‚</li></ol><p><img src=".\1.png" alt="nullç»“ç‚¹ç®—ä½œé»‘è‰²ç»“ç‚¹"></p><p>è¿™äº›çº¦æŸç¡®ä¿äº†çº¢é»‘æ ‘çš„å…³é”®ç‰¹æ€§ï¼š<strong>ä»æ ¹åˆ°å¶å­çš„æœ€é•¿çš„å¯èƒ½è·¯å¾„ä¸å¤šäºæœ€çŸ­çš„å¯èƒ½è·¯å¾„çš„ä¸¤å€é•¿</strong>ï¼Œä½¿å¾—è¿™æ£µæ ‘å¤§æŠµæ˜¯å¹³è¡¡çš„ï¼Œæ¯”AVLæ ‘æ¡ä»¶å®½æ¾ã€‚</p><h2 id="ğŸŒ¿æ’å…¥å’Œæ—‹è½¬"><a href="#ğŸŒ¿æ’å…¥å’Œæ—‹è½¬" class="headerlink" title="ğŸŒ¿æ’å…¥å’Œæ—‹è½¬"></a>ğŸŒ¿æ’å…¥å’Œæ—‹è½¬</h2><p>ğŸ“º<a href="https://www.bilibili.com/video/BV1Pp4y1D7u1/?spm_id_from=333.788.videocard.1">çº¢é»‘æ ‘</a>    16:30å¼€å§‹æ’å…¥æ¼”ç¤ºğŸ‘‡</p><p><img src=".\1.5.png" alt="é€‰æ‹©è¡¨æ ¼ï¼Œæ¯”AVLé€‰æ‹©å¤æ‚ä¸€äº›"></p><p><a href="https://zh.wikipedia.org/wiki/%E7%BA%A2%E9%BB%91%E6%A0%91#%E6%8F%92%E5%85%A5">ğŸ”—ç»´åŸºæ’å…¥é”šç‚¹</a></p><p><a href="https://zh.wikipedia.org/wiki/%E7%BA%A2%E9%BB%91%E6%A0%91#%E5%88%A0%E9%99%A4">ğŸ”—ç»´åŸºåˆ é™¤é”šç‚¹</a></p><h2 id="ğŸŒ¿å„ç§balanceæ ‘"><a href="#ğŸŒ¿å„ç§balanceæ ‘" class="headerlink" title="ğŸŒ¿å„ç§balanceæ ‘"></a>ğŸŒ¿å„ç§balanceæ ‘</h2><h3 id="ğŸŒ¹AVLæ ‘"><a href="#ğŸŒ¹AVLæ ‘" class="headerlink" title="ğŸŒ¹AVLæ ‘"></a>ğŸŒ¹AVLæ ‘</h3><p><strong>é«˜åº¦è‡ªå¹³è¡¡äºŒå‰æ ‘</strong>ï¼Œ<strong>ä»»ä¸€èŠ‚ç‚¹å¯¹åº”çš„ä¸¤æ£µå­æ ‘çš„æœ€å¤§é«˜åº¦å·®ä¸º1</strong>ï¼Œ<strong>æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤</strong>åœ¨å¹³å‡å’Œæœ€åæƒ…å†µä¸‹çš„<strong>æ—¶é—´å¤æ‚åº¦</strong>éƒ½æ˜¯<strong>O(log<sub>n</sub>)</strong>å¢åŠ å’Œåˆ é™¤å…ƒç´ çš„æ“ä½œåˆ™å¯èƒ½éœ€è¦å€Ÿç”±ä¸€æ¬¡æˆ–å¤šæ¬¡æ ‘æ—‹è½¬ä»¥å®ç°æ ‘çš„é‡æ–°å¹³è¡¡ã€‚</p><p><img src=".\2.gif" style="zoom:200%;" /></p><p><img src=".\2.5.png" alt="avlæ ‘æ—‹è½¬çš„å›¾å½¢æè¿°ã€‚"></p><p>ğŸ”—<a href="https://zh.wikipedia.org/wiki/AVL%E6%A0%91">è‰¾è–‡å„¿æ ‘ç»´åŸº</a></p><blockquote><p>AVLæ ‘ç›¸å¯¹äºRBæ ‘ç»´æŠ¤å¹³è¡¡çš„å¼€é”€ï¼ˆæ—‹è½¬æ“ä½œï¼‰æ›´å¤§ï¼Œä½†æ˜¯æŸ¥æ‰¾çš„é€Ÿåº¦ä¹Ÿç›¸åº”çš„æ›´å¿«ã€‚</p></blockquote><h3 id="ğŸŒ¹Bæ ‘"><a href="#ğŸŒ¹Bæ ‘" class="headerlink" title="ğŸŒ¹Bæ ‘"></a>ğŸŒ¹Bæ ‘</h3><p><strong>Bæ ‘\B-æ•°</strong>ï¼ˆè‹±è¯­ï¼šB-treeï¼‰æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„æ ‘ï¼Œèƒ½å¤Ÿä¿æŒæ•°æ®æœ‰åºã€‚è¿™ç§æ•°æ®ç»“æ„èƒ½å¤Ÿè®©æŸ¥æ‰¾æ•°æ®ã€é¡ºåºè®¿é—®ã€æ’å…¥æ•°æ®åŠåˆ é™¤çš„åŠ¨ä½œï¼Œéƒ½åœ¨<strong>å¯¹æ•°æ—¶é—´</strong>å†…å®Œæˆã€‚</p><p><img src=".\3.png" alt=""></p><p>ğŸ”—<a href="https://zh.wikipedia.org/wiki/B%E6%A0%91">bæ ‘ç»´åŸº</a></p><h3 id="ğŸŒ¹B-æ ‘"><a href="#ğŸŒ¹B-æ ‘" class="headerlink" title="ğŸŒ¹B+æ ‘"></a>ğŸŒ¹B+æ ‘</h3><p>ä¸bæ ‘ç±»ä¼¼ï¼Œä½†æ˜¯è‡ªç”±å¶å­ç»“ç‚¹å­˜å‚¨valueï¼Œ<strong>éå¶å­ç»“ç‚¹åªå­˜å‚¨key</strong>ã€‚å¹¶ä¸”å¶å­ç»“ç‚¹ç”¨ä¸€æ¡æŒ‡é’ˆç›¸è¿èµ·æ¥ï¼Œæ–¹ä¾¿æ•°æ®çš„éå†ã€‚</p><p><img src=".\5.png" alt="æŠŠé”®1-7è¿æ¥åˆ°å€¼ d1-d7 çš„B+æ ‘ã€‚é“¾è¡¨ï¼ˆçº¢è‰²ï¼‰ç”¨äºå¿«é€Ÿé¡ºåºéå†å¶å­èŠ‚ç‚¹ã€‚æ ‘çš„åˆ†å‰å› å­b=4ã€‚"></p><p>ğŸ”—<a href="https://zh.wikipedia.org/wiki/B%2B%E6%A0%91">b+æ ‘ç»´åŸº</a></p><p>ğŸ“º<a href="https://www.bilibili.com/video/BV1UC4y1p7zm?from=search&amp;seid=17085138785753425050">å½»åº•ç†è§£Bæ ‘å’ŒB+æ ‘ï¼ä¸ºä½•å®ƒä»¬å¸¸ç”¨åœ¨æ•°æ®åº“ä¸­ï¼Ÿ</a></p><p>ğŸ”— <a href="https://blog.ouyangsihai.cn/mian-shi-guan-wen-ni-b-shu-he-b-shu-jiu-ba-zhe-pian-wen-zhang-diu-gei-ta.html">é¢è¯•å®˜é—®ä½ Bæ ‘å’ŒB+æ ‘ï¼Œå°±æŠŠè¿™ç¯‡æ–‡ç« ä¸¢ç»™ä»–</a></p><blockquote><p>Bå’ŒB+ä¸»è¦ç”¨åœ¨æ–‡ä»¶ç³»ç»Ÿä»¥åŠæ•°æ®åº“ä¸­åšç´¢å¼•</p></blockquote><hr><p><img src=".\7.png" alt="çº¢é»‘æ ‘å¤§ç™½è¯ç†è§£"></p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-æ‚è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++STLç»¼è¿°</title>
    <link href="/2021/02/12/CPP-STL%E7%BB%BC%E8%BF%B0/"/>
    <url>/2021/02/12/CPP-STL%E7%BB%BC%E8%BF%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="ğŸŒ¿STLå…­å¤§éƒ¨ä»¶"><a href="#ğŸŒ¿STLå…­å¤§éƒ¨ä»¶" class="headerlink" title="ğŸŒ¿STLå…­å¤§éƒ¨ä»¶"></a>ğŸŒ¿STLå…­å¤§éƒ¨ä»¶</h2><p><img src=".\1.png" alt=""></p><ol><li><strong>å®¹å™¨ Containers</strong>ï¼šå­˜æ”¾æˆ‘ä»¬è¦æ“ä½œçš„æ•°æ®ï¼Œå¯ä»¥æ˜¯æ•°å­—ã€å¯¹è±¡ç­‰ï¼› </li><li><strong>åˆ†é…å™¨ Allocators</strong>ï¼šå®¹å™¨éœ€è¦å ç”¨å†…å­˜ï¼Œå®¹å™¨å ç”¨çš„å†…å­˜ç”±åˆ†é…å™¨åˆ†é…ï¼› </li><li><strong>ç®—æ³• Algorithms</strong>ï¼šè¢«ç‹¬ç«‹å‡ºæ¥çš„æ¨¡æ¿å‡½æ•°ï¼Œç”¨æ¥æ“ä½œå®¹å™¨ï¼ŒåŒ…å—å¸¸è§çš„æ’åºç®—æ³•ã€æŸ¥æ‰¾ç®—æ³•ç­‰ï¼› </li><li><strong>è¿­ä»£å™¨ Iterators</strong>ï¼šç®—æ³•æ—¢ç„¶è¦æ“ä½œå®¹å™¨ä¸­çš„æ•°æ®ï¼Œéœ€è¦æœ‰å·¥å…·è®¿é—®å®¹å™¨ä¸­æ•°æ®ï¼Œé‚£å°±æ˜¯è¿­ä»£å™¨ï¼Œæ˜¯ä¸€ç§æ³›åŒ–çš„æŒ‡é’ˆï¼› </li><li><strong>å®¹å™¨é€‚é…å™¨ Adapters</strong>ï¼šä¸€äº›å®¹å™¨åº•å±‚å’Œæ•°æ®æ“ä½œå…·æœ‰ä¸€å®šçš„ç›¸ä¼¼ï¼Œæ‰€ä»¥ä¸€äº›å®¹å™¨ä½¿ç”¨å…¶ä»–å®¹å™¨ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„ï¼Œå¹¶å°†å…¶ä»–å®¹å™¨çš„å‡½æ•°è½¬æ¢ä¸ºè‡ªå·±çš„å‡½æ•°ï¼› </li><li><strong>ä»¿å‡½æ•°Functors</strong>ï¼šå®é™…ä¸Šæ˜¯ç±»ä¸­çš„operator()å°æ‹¬å·è¿ç®—ç¬¦é‡è½½å‡½æ•°ï¼Œå­˜åœ¨ç±»ä¼¼å‡½æ•°çš„è¡Œä¸ºã€‚</li></ol><blockquote><p>è¿­ä»£å™¨begin()ä¸end()æ˜¯å‰é—­åå¼€åŒºé—´ï¼Œå³end()æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„æœ«å°¾</p></blockquote><h2 id="ğŸŒ¿å®¹å™¨ç»“æ„åˆ†ç±»"><a href="#ğŸŒ¿å®¹å™¨ç»“æ„åˆ†ç±»" class="headerlink" title="ğŸŒ¿å®¹å™¨ç»“æ„åˆ†ç±»"></a>ğŸŒ¿å®¹å™¨ç»“æ„åˆ†ç±»</h2><p><img src=".\2.png" alt=""></p><h3 id="ğŸŒ¹é¡ºåºå®¹å™¨"><a href="#ğŸŒ¹é¡ºåºå®¹å™¨" class="headerlink" title="ğŸŒ¹é¡ºåºå®¹å™¨"></a>ğŸŒ¹é¡ºåºå®¹å™¨</h3><ul><li>Array å†…å­˜é¡ºåºå­˜å‚¨</li><li>Vector  å†…å­˜é¡ºåºå­˜å‚¨ï¼Œå†…å­˜ä¸å¤Ÿè‡ªåŠ¨æ‰©å……ï¼Œg++2å€ï¼Œvc1.5å€ã€‚</li><li>Deque <strong>åˆ†æ®µ</strong>å†…å­˜é¡ºåºå­˜å‚¨ï¼ŒåŒæ ·å†…å­˜ä¸å¤Ÿè‡ªåŠ¨æ‰©å……åº•å±‚ç»“æ„æ˜¯Vector</li><li>List  <strong>ç¯å½¢</strong>é“¾è¡¨</li><li>Forward-List <strong>å¸¦å¤´ç»“ç‚¹</strong>å•å‘é“¾è¡¨ï¼Œå†…å­˜è€—ç”¨é—­listå°‘</li></ul><h3 id="ğŸŒ¹å…³è”å®¹å™¨"><a href="#ğŸŒ¹å…³è”å®¹å™¨" class="headerlink" title="ğŸŒ¹å…³è”å®¹å™¨"></a>ğŸŒ¹å…³è”å®¹å™¨</h3><ul><li>Set/Multiset: é›†åˆ/<strong>å…ƒç´ å†…å®¹å¯é‡å¤ï¼ˆmultiï¼‰</strong>ï¼Œåº•å±‚æ•°æ®ç»“æ„æ˜¯çº¢é»‘æ ‘ã€‚</li><li>Map/Multimapï¼š æ¯ä¸ªç»“ç‚¹å¸¦æœ‰keyï¼Œdataå¯¹ï¼Œåº•å±‚æ•°æ®ç»“æ„ä¹Ÿæ˜¯çº¢é»‘æ ‘ã€‚</li><li>Unordered Set/Multisetï¼šæ— é¡ºåºé›†åˆï¼Œåº•å±‚é‡‡ç”¨é“¾åœ°å€æ³•å¤„ç†å†²çªçš„hashtableï¼Œå¦‚æœbaketå¤ªé•¿æŸ¥æ‰¾ä¼šæ¯”è¾ƒæ…¢ã€‚</li><li>Unordered Map/Multimapï¼šæ— é¡ºåºMapï¼Œåº•å±‚é‡‡ç”¨é“¾åœ°å€æ³•å¤„ç†å†²çªçš„hashtableã€‚</li></ul><blockquote><p>ä½¿ç”¨ä¸€ä¸ªä¸œè¥¿ï¼Œå´ä¸æ˜ç™½å®ƒçš„é“ç†ï¼Œä¸é«˜æ˜   â€”â€”æ—è¯­å ‚</p></blockquote><h2 id="ğŸŒ¿OOP-VS-GP"><a href="#ğŸŒ¿OOP-VS-GP" class="headerlink" title="ğŸŒ¿OOP VS GP"></a>ğŸŒ¿OOP VS GP</h2><p>Object-oriented programmingï¼ˆé¢å¯¹å¯¹è±¡çš„ç¼–ç¨‹ï¼‰ä¸ Generic Programming(æ³›å‹ç¼–ç¨‹)ï¼Œè€ŒSTLåº“å°±æ˜¯ç”¨GPæ€æƒ³è®¾è®¡çš„ã€‚</p><p><img src=".\3.png" alt=""></p><p><img src=".\4.png" alt=""></p><ul><li>ä½¿ç”¨GPå¯ä»¥ä½¿Containerså’ŒAlgorithmså›¢é˜Ÿåˆ†å¼€æ¥å„è‡ªé—­é—¨é€ è½¦ï¼Œåªè¦å®šå¥½Iteratorçš„æ ‡å‡†å³å¯ã€‚</li><li>Algorithmsé€šè¿‡Iteratorç¡®å®šæ“ä½œèŒƒå›´ï¼Œå¹¶é€šè¿‡Iteratorå–ç”¨Containerå…ƒç´ ã€‚</li><li>OOPå¯¹ç±»è¿›è¡Œå®ä¾‹åŒ–ï¼Œæˆ‘æ„Ÿè§‰GPæ›´åƒæ˜¯ç”¨å¯¹è±¡å¯¹methodè¿›è¡Œå®ä¾‹åŒ–ã€‚</li></ul><h2 id="ğŸŒ¿GPå¿…å¤‡çŸ¥è¯†"><a href="#ğŸŒ¿GPå¿…å¤‡çŸ¥è¯†" class="headerlink" title="ğŸŒ¿GPå¿…å¤‡çŸ¥è¯†"></a>ğŸŒ¿GPå¿…å¤‡çŸ¥è¯†</h2><h3 id="ğŸŒ¹Operator-Overloading"><a href="#ğŸŒ¹Operator-Overloading" class="headerlink" title="ğŸŒ¹Operator Overloading"></a>ğŸŒ¹Operator Overloading</h3><p><img src=".\5.png" alt=""></p><h3 id="ğŸŒ¹Templates"><a href="#ğŸŒ¹Templates" class="headerlink" title="ğŸŒ¹Templates"></a>ğŸŒ¹Templates</h3><h4 id="ğŸ¦ŠClass-Templates"><a href="#ğŸ¦ŠClass-Templates" class="headerlink" title="ğŸ¦ŠClass Templates"></a>ğŸ¦ŠClass Templates</h4><p><img src=".\6.png" alt=""></p><h4 id="ğŸ¦ŠFunction-Templates"><a href="#ğŸ¦ŠFunction-Templates" class="headerlink" title="ğŸ¦ŠFunction Templates"></a>ğŸ¦ŠFunction Templates</h4><p><img src=".\7.png" alt=""></p><h4 id="ğŸ¦ŠMember-Templates"><a href="#ğŸ¦ŠMember-Templates" class="headerlink" title="ğŸ¦ŠMember Templates"></a>ğŸ¦ŠMember Templates</h4><p><img src=".\8.png" alt=""></p><blockquote><p>æ¨¡æ¿ç±»ä¹‹é—´çš„èµ‹å€¼é—®é¢˜ğŸ‘‡</p></blockquote><p><img src=".\9.png" alt="é—®é¢˜"></p><p><img src=".\10.png" alt="è§£å†³"></p><h4 id="ğŸ¦ŠSpecializationç‰¹åŒ–"><a href="#ğŸ¦ŠSpecializationç‰¹åŒ–" class="headerlink" title="ğŸ¦ŠSpecializationç‰¹åŒ–"></a>ğŸ¦ŠSpecializationç‰¹åŒ–</h4><p><img src=".\11.png" alt="image-20210213141852707"></p><h4 id="ğŸ¦ŠPartial-Specializationåç‰¹åŒ–"><a href="#ğŸ¦ŠPartial-Specializationåç‰¹åŒ–" class="headerlink" title="ğŸ¦ŠPartial Specializationåç‰¹åŒ–"></a>ğŸ¦ŠPartial Specializationåç‰¹åŒ–</h4><p><img src=".\12.png" alt="image-20210213142257919"></p><h2 id="ğŸŒ¿allocatoråˆ†é…å™¨"><a href="#ğŸŒ¿allocatoråˆ†é…å™¨" class="headerlink" title="ğŸŒ¿allocatoråˆ†é…å™¨"></a>ğŸŒ¿allocatoråˆ†é…å™¨</h2><blockquote><p>æ‰€æœ‰å®¹å™¨çš„ç¬¬äºŒä¸ªé»˜è®¤æ¨¡æ¿å‚æ•°æ˜¯allocator<T></p></blockquote><p><img src=".\13.png" alt=""></p><p><img src=".\14.png" alt="ä¸€èˆ¬allocåªæ˜¯å¯¹newå’Œdeleteè°ƒç”¨ï¼Œdeleteæ˜¯è¦å¡«æ•°å­—"></p><p><img src=".\15.png" alt="G2.9çš„allocåšæ³•"></p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-ä¾¯æ· -STLåº“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¾¯æ·_OOPä¸è™šå‡½æ•°</title>
    <link href="/2021/02/03/%E4%BE%AF%E6%8D%B7-OOP%E4%B8%8E%E8%99%9A%E5%87%BD%E6%95%B0/"/>
    <url>/2021/02/03/%E4%BE%AF%E6%8D%B7-OOP%E4%B8%8E%E8%99%9A%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="ğŸŒ¿Composition-è¤‡åˆ-has-a"><a href="#ğŸŒ¿Composition-è¤‡åˆ-has-a" class="headerlink" title="ğŸŒ¿Composition (è¤‡åˆ has a)"></a>ğŸŒ¿Composition (è¤‡åˆ has a)</h2><p><img src=".\1.png" alt=""></p><p><img src=".\2.png" alt=""></p><p><img src=".\3.png" alt=""></p><h2 id="ğŸŒ¿Delegation-å§”è¨—"><a href="#ğŸŒ¿Delegation-å§”è¨—" class="headerlink" title="ğŸŒ¿Delegation (å§”è¨—)"></a>ğŸŒ¿Delegation (å§”è¨—)</h2><blockquote><p>Composition by reference</p></blockquote><p><img src=".\4.png" alt="Pointer to Implementation"></p><h2 id="ğŸŒ¿Inheritance-ç¹¼æ‰¿ï¼Œis-a"><a href="#ğŸŒ¿Inheritance-ç¹¼æ‰¿ï¼Œis-a" class="headerlink" title="ğŸŒ¿Inheritance (ç¹¼æ‰¿ï¼Œis-a)"></a>ğŸŒ¿Inheritance (ç¹¼æ‰¿ï¼Œis-a)</h2><p><img src=".\5.png" alt=""></p><p><img src=".\6.png" alt=""></p><h2 id="ğŸŒ¿è™šå‡½æ•°-amp-ç»§æ‰¿ï¼ˆvirtualï¼‰"><a href="#ğŸŒ¿è™šå‡½æ•°-amp-ç»§æ‰¿ï¼ˆvirtualï¼‰" class="headerlink" title="ğŸŒ¿è™šå‡½æ•° &amp; ç»§æ‰¿ï¼ˆvirtualï¼‰"></a>ğŸŒ¿è™šå‡½æ•° &amp; ç»§æ‰¿ï¼ˆvirtualï¼‰</h2><p><img src=".\7.png" alt=""></p><h3 id="ğŸŒ¼template-method"><a href="#ğŸŒ¼template-method" class="headerlink" title="ğŸŒ¼template method"></a>ğŸŒ¼template method</h3><p><img src=".\8.png" alt="ä¾‹å­ï¼šæ‰“å¼€ç£ç›˜æ–‡ä»¶"></p><p><img src=".\9.png" alt="ç»§æ‰¿withè™šå‡½æ•°"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CDocument</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">OnFileOpen</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">// é€™æ˜¯å€‹ç®—æ³•ï¼Œæ¯å€‹ cout è¼¸å‡ºä»£è¡¨ä¸€å€‹å¯¦éš›å‹•ä½œ</span><br><span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;dialog...&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;check file status...&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;open file...&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>Serialize();<br><span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;close file...&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;update all views...&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Serialize</span><span class="hljs-params">()</span> </span>&#123; &#125;;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CMyDoc</span> :</span> <span class="hljs-keyword">public</span> CDocument<br>&#123;<br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Serialize</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">// åªæœ‰æ‡‰ç”¨ç¨‹åºæœ¬èº«æ‰çŸ¥é“å¦‚ä½•è®€å–è‡ªå·±çš„æ–‡ä»¶(æ ¼å¼)</span><br><span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;CMyDoc::Serialize()&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>&#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>CMyDoc myDoc; <span class="hljs-comment">// å‡è¨­å°æ‡‰[File/Open]</span><br>myDoc.OnFileOpen();<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ğŸŒ¿ç»„åˆ"><a href="#ğŸŒ¿ç»„åˆ" class="headerlink" title="ğŸŒ¿ç»„åˆ"></a>ğŸŒ¿ç»„åˆ</h2><h3 id="ğŸŒ¼Inheritance-Composition"><a href="#ğŸŒ¼Inheritance-Composition" class="headerlink" title="ğŸŒ¼Inheritance+Composition"></a>ğŸŒ¼Inheritance+Composition</h3><p><img src=".\10.png" alt=""></p><p><img src=".\11.png" alt=""></p><h3 id="ğŸŒ¼Delegation-Inheritance"><a href="#ğŸŒ¼Delegation-Inheritance" class="headerlink" title="ğŸŒ¼Delegation + Inheritance"></a>ğŸŒ¼Delegation + Inheritance</h3><h4 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h4><p><img src=".\12.png" alt="observer"></p><p><img src=".\13.png" alt="observeråº”ç”¨åœºæ™¯"></p><p><img src=".\14.png" alt=""></p><h4 id="åŸå‹æ¨¡å¼ğŸ”—ï¼ˆå¯¹äºå¤æ‚å¯¹è±¡çš„åˆ›å»ºï¼‰"><a href="#åŸå‹æ¨¡å¼ğŸ”—ï¼ˆå¯¹äºå¤æ‚å¯¹è±¡çš„åˆ›å»ºï¼‰" class="headerlink" title="åŸå‹æ¨¡å¼ğŸ”—ï¼ˆå¯¹äºå¤æ‚å¯¹è±¡çš„åˆ›å»ºï¼‰"></a><a href="https://qingcai56.cn/2021/01/27/GoF-%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%BC%8F/#%F0%9F%8C%BFPrototype%EF%BC%88%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%EF%BC%89">åŸå‹æ¨¡å¼ğŸ”—</a>ï¼ˆå¯¹äºå¤æ‚å¯¹è±¡çš„åˆ›å»ºï¼‰</h4>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-ä¾¯æ· -é¢å¯¹å¯¹è±¡çš„é«˜çº§å¼€å‘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¾¯æ·_ObjectBased</title>
    <link href="/2021/02/01/%E4%BE%AF%E6%8D%B7-ObjectBased/"/>
    <url>/2021/02/01/%E4%BE%AF%E6%8D%B7-ObjectBased/</url>
    
    <content type="html"><![CDATA[<h2 id="ğŸŒ¿çŸ¥è¯†"><a href="#ğŸŒ¿çŸ¥è¯†" class="headerlink" title="ğŸŒ¿çŸ¥è¯†"></a>ğŸŒ¿çŸ¥è¯†</h2><h3 id="ä¸¤ç§class"><a href="#ä¸¤ç§class" class="headerlink" title="ä¸¤ç§class"></a>ä¸¤ç§class</h3><ul><li><strong>Object Based</strong> : é¢å°çš„æ˜¯å–®ä¸€ class çš„è¨­è¨ˆã€‚</li><li><strong>Object Oriented</strong> : é¢å°çš„æ˜¯å¤šé‡ classes çš„è¨­è¨ˆï¼Œ classes å’Œ classesä¹‹é–“çš„é—œä¿‚ã€‚</li></ul><h3 id="Object-Basedç»å…¸ä¸¤ç±»"><a href="#Object-Basedç»å…¸ä¸¤ç±»" class="headerlink" title="Object Basedç»å…¸ä¸¤ç±»"></a>Object Basedç»å…¸ä¸¤ç±»</h3><ul><li>Class <strong>without pointer</strong> member(s)ï¼šcomplex</li><li>Class <strong>with pointer</strong> member(s) ï¼šstring</li></ul><blockquote><p>å¸¦æŒ‡é’ˆå’Œä¸å¸¦æŒ‡é’ˆçš„åŒºåˆ«æ˜¯newå’Œdeleteçš„æ—¶å€™æƒ…å†µæœ‰æ‰€ä¸åŒ</p></blockquote><p><img src=".\1.png" alt="cppé¡¹ç›®åŸºæœ¬ç»“æ„"></p><h3 id="å¤´æ–‡ä»¶é˜²å«å¼å£°æ˜"><a href="#å¤´æ–‡ä»¶é˜²å«å¼å£°æ˜" class="headerlink" title="å¤´æ–‡ä»¶é˜²å«å¼å£°æ˜"></a>å¤´æ–‡ä»¶é˜²å«å¼å£°æ˜</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//é˜²æ­¢å¤´æ–‡ä»¶è¢«å¤šæ¬¡å¼•ç”¨</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> __COMPLEX__</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> __COMPLEX__</span><br><span class="hljs-comment">//...</span><br><span class="hljs-comment">//...</span><br><span class="hljs-comment">//...</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><br><br><span class="hljs-comment">//pragmağŸ‘‡åœ¨è€çš„ç¼–è¯‘å™¨ä¸­å¯èƒ½ä¸æ”¯æŒ</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> once</span><br></code></pre></td></tr></table></figure><h3 id="ç±»çš„æƒé™"><a href="#ç±»çš„æƒé™" class="headerlink" title="ç±»çš„æƒé™"></a>ç±»çš„æƒé™</h3><p><img src=".\2.jpg" alt=""></p><h2 id="ğŸŒ¿Complex"><a href="#ğŸŒ¿Complex" class="headerlink" title="ğŸŒ¿Complex"></a>ğŸŒ¿Complex</h2><h3 id="hæ–‡ä»¶å¸ƒå±€"><a href="#hæ–‡ä»¶å¸ƒå±€" class="headerlink" title="hæ–‡ä»¶å¸ƒå±€"></a>hæ–‡ä»¶å¸ƒå±€</h3><p><img src=".\3.png" alt=""></p><h3 id="hæ–‡ä»¶æºç "><a href="#hæ–‡ä»¶æºç " class="headerlink" title="hæ–‡ä»¶æºç "></a>hæ–‡ä»¶æºç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> __COMPLEX__</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> __COMPLEX__</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;iostream.h&quot;</span></span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">complex</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-built_in">complex</span>(<span class="hljs-keyword">double</span> r = <span class="hljs-number">0</span>, <span class="hljs-keyword">double</span> i = <span class="hljs-number">0</span>)<br>: re(r), im(i)<br>&#123; &#125;;<br><span class="hljs-built_in">complex</span>&amp; <span class="hljs-keyword">operator</span> +=(<span class="hljs-keyword">const</span> <span class="hljs-built_in">complex</span>&amp;);<br>    <span class="hljs-comment">//ğŸ‘‡è¿™ä¸ªå®šä¹‰åœ¨ç±»ä¸­çš„é‡è½½è°ƒç”¨ classname&lt;&lt;cout,ä¸ç¬¦åˆä¹ æƒ¯</span><br>ostream&amp; <span class="hljs-keyword">operator</span> &lt;&lt;(ostream&amp; os)<br>&#123;<br><span class="hljs-keyword">return</span> os &lt;&lt; <span class="hljs-string">&#x27;(&#x27;</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;real() &lt;&lt; <span class="hljs-string">&#x27;,&#x27;</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;imag() &lt;&lt; <span class="hljs-string">&#x27;)&#x27;</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">real</span><span class="hljs-params">()</span><span class="hljs-keyword">const</span> </span>&#123; <span class="hljs-keyword">return</span> re; &#125;<br><span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">imag</span><span class="hljs-params">()</span><span class="hljs-keyword">const</span> </span>&#123; <span class="hljs-keyword">return</span> im; &#125;<br>~<span class="hljs-built_in">complex</span>() &#123;&#125;<br><span class="hljs-keyword">private</span>:<br><span class="hljs-keyword">double</span> re, im;<br><br><span class="hljs-keyword">friend</span> <span class="hljs-built_in">complex</span>&amp; __doapl(<span class="hljs-built_in">complex</span>*, <span class="hljs-keyword">const</span> <span class="hljs-built_in">complex</span>&amp;);<br><span class="hljs-keyword">friend</span> ostream&amp; <span class="hljs-keyword">operator</span> &lt;&lt;(ostream&amp; os, <span class="hljs-keyword">const</span> <span class="hljs-built_in">complex</span>&amp; x);<br>&#125;;<br><span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span> <span class="hljs-comment">// ! __Complex__</span></span><br></code></pre></td></tr></table></figure><h3 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><ul><li><p>åœ¨ç±»ä¸­å£°æ˜çš„å‡½æ•°éƒ½æ˜¯inlineå‡½æ•°ï¼ˆç¼–è¯‘æ—¶ç›´æ¥ä»£ç æ›¿æ¢ï¼Œä¸è°ƒç”¨å‡½æ•°ï¼Œä¸è¿‡å¯¹äºä»£ç é‡å¤ªå¤§çš„å‡½æ•°ä¹Ÿå¯èƒ½å¿½ç•¥inlineå…³é”®å­—ï¼Œï¼ï¼inlineå’Œconstexprå¿…é¡»æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ï¼‰</p></li><li><p>ç±»å†…å‡½æ•°é»˜è®¤ä¼ å…¥thisæŒ‡é’ˆå½¢å‚ï¼ˆthisæŒ‡å‘ç±»è‡ªèº«ï¼‰</p></li><li><p>æ„é€ å‡½æ•°ç”¨å‚æ•°åŒ–åˆ—è¡¨æ€§èƒ½è¦è¿œé«˜äº=èµ‹å€¼</p></li><li><p>å½¢å‚æ˜¯&amp;å¼•ç”¨<strong>æ˜¯å¦åŠ constï¼ˆä¿®æ”¹ï¼Ÿï¼‰</strong>ï¼Ÿ</p></li><li><p>ä»€ä¹ˆæ—¶å€™<code>return by refrence</code>ï¼Ÿä»€ä¹ˆæ—¶å€™<code>return by value</code>ï¼Ÿ</p></li><li><p>å¯¹äºä¸ä¿®æ”¹ç±»çš„æ•°æ®çš„å‡½æ•°ï¼Œ<strong>ä¸€å¾‹åœ¨æ‹¬å·åé¢åŠ const</strong>,å°†thisæŒ‡é’ˆä» <code>int *constä¸è®©ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘</code>è½¬åŒ–æˆ <code>const int *constç±»å‹å³ä¸è®©ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘ï¼Œä¹Ÿä¸è®©ä¿®æ”¹æŒ‡é’ˆæ‰€æŒ‡å‘çš„æ•°æ®</code></p></li><li><p>friendå¯ä»¥è‡ªç”±è·å–è¯¥ç±»çš„privateï¼Œ<code>ç›¸åŒç±»çš„å¯¹è±¡äº’ä¸ºå‹å…ƒ</code></p></li></ul><h3 id="cppæ–‡ä»¶-æºç "><a href="#cppæ–‡ä»¶-æºç " class="headerlink" title="cppæ–‡ä»¶ æºç "></a>cppæ–‡ä»¶ æºç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;Complex.h&quot;</span></span><br><span class="hljs-comment">//å¤æ•°å¯ä»¥åŠ å®æ•°ï¼Œå®æ•°ä¹Ÿå¯ä»¥åŠ å¤æ•°ï¼Œå¦‚æœå®šä¹‰åœ¨ç±»ä¸­å°±ä¼šå—é™</span><br><span class="hljs-keyword">inline</span> <span class="hljs-built_in">complex</span> <span class="hljs-keyword">operator</span> + (<span class="hljs-keyword">const</span> <span class="hljs-built_in">complex</span>&amp; x, <span class="hljs-keyword">const</span> <span class="hljs-built_in">complex</span>&amp; y)<br>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">complex</span>(x.real() + y.real(), x.imag() + y.imag());<br>&#125;<br><br><span class="hljs-keyword">inline</span> <span class="hljs-built_in">complex</span> <span class="hljs-keyword">operator</span> + (<span class="hljs-keyword">const</span> <span class="hljs-built_in">complex</span>&amp; x, <span class="hljs-keyword">int</span> y)<br>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">complex</span>(x.real() + y, x.imag());<br>&#125;<br><br><span class="hljs-keyword">inline</span> <span class="hljs-built_in">complex</span> <span class="hljs-keyword">operator</span> + (<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">const</span> <span class="hljs-built_in">complex</span>&amp; y)<br>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">complex</span>(x + y.real(), y.imag());<br>&#125;<br><br><span class="hljs-comment">//ä¸¤ä¸ªå¤æ•°ç±»ç›¸åŠ </span><br><span class="hljs-keyword">inline</span> <span class="hljs-built_in">complex</span>&amp; __doapl(<span class="hljs-built_in">complex</span>* ths, <span class="hljs-keyword">const</span> <span class="hljs-built_in">complex</span>&amp; r)<br>&#123;<br>ths-&gt;re += r.re;<br>ths-&gt;im += r.im;<br><span class="hljs-keyword">return</span> *ths;<br>&#125;<br><br><span class="hljs-keyword">inline</span> <span class="hljs-built_in">complex</span>&amp; <span class="hljs-built_in">complex</span>::<span class="hljs-keyword">operator</span> += (<span class="hljs-keyword">const</span> <span class="hljs-built_in">complex</span>&amp; r)<br>&#123;<br><span class="hljs-keyword">return</span> __doapl(<span class="hljs-keyword">this</span>, r);<br>&#125;<br><br><span class="hljs-comment">//æ“ä½œç¬¦é‡è½½,å¯ä»¥è¿ç»­è°ƒç”¨ cout&lt;&lt;c1&lt;&lt;endlï¼Œæ‰€ä»¥è¿”å›å€¼ä¸èƒ½ä¸ºvoid</span><br>ostream&amp; <span class="hljs-keyword">operator</span> &lt;&lt;(ostream&amp; os, <span class="hljs-keyword">const</span> <span class="hljs-built_in">complex</span>&amp; x)<br>&#123;<br><span class="hljs-keyword">return</span> os &lt;&lt; <span class="hljs-string">&#x27;(&#x27;</span> &lt;&lt; x.real() &lt;&lt; <span class="hljs-string">&#x27;,&#x27;</span> &lt;&lt; x.imag() &lt;&lt; <span class="hljs-string">&#x27;)&#x27;</span>;<br>&#125;<br><br><br></code></pre></td></tr></table></figure><h2 id="ğŸŒ¿-String"><a href="#ğŸŒ¿-String" class="headerlink" title="ğŸŒ¿ String"></a>ğŸŒ¿ String</h2><h3 id="hæ–‡ä»¶æºç -1"><a href="#hæ–‡ä»¶æºç -1" class="headerlink" title="hæ–‡ä»¶æºç "></a>hæ–‡ä»¶æºç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> __String__</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> __String__</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&quot;iostream.h&quot;</span></span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">String</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-keyword">public</span>:<br>String(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* cstr);<br>String(<span class="hljs-keyword">const</span> String&amp; str);<br>String&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-keyword">const</span> String&amp; str);<br>~String();<br><span class="hljs-comment">//æ˜¯å¦æ”¹åŠ¨æ•°æ®ï¼Ÿ__:åŠ const </span><br><span class="hljs-comment">//éšå¼thisæŒ‡é’ˆ:string *const </span><br><span class="hljs-function"><span class="hljs-keyword">char</span>* <span class="hljs-title">get_c_str</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>&#123; <span class="hljs-keyword">return</span> m_data; &#125;<br><span class="hljs-keyword">private</span>:<br><span class="hljs-keyword">char</span>* m_data;<br>&#125;;<br><br><span class="hljs-comment">//å®šä¹‰åœ¨ç±»ä¸­çš„å‡½æ•°éƒ½æ˜¯å†…è”çš„ï¼Œè€Œåœ¨ç±»å¤–åˆ™éœ€è¦åŠ å…¥ä¿®é¥°ç¬¦  </span><br><span class="hljs-comment">//ï¼ï¼inlineä¸€å®šè¦æ”¾åœ¨å¤´æ–‡ä»¶å†…</span><br><span class="hljs-comment">//å› ä¸ºå‡½æ•°å®šä¹‰æˆinlineï¼Œæ‰€ä»¥å°±æ²¡å†™cppæ–‡ä»¶</span><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-title">String::String</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* cstr = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span> (cstr)<br>&#123;<br>m_data = <span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span>[<span class="hljs-built_in">strlen</span>(cstr) + <span class="hljs-number">1</span>];<br>strcpy_s(m_data, <span class="hljs-built_in">strlen</span>(cstr) + <span class="hljs-number">1</span>, cstr);<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>m_data = <span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span>[<span class="hljs-number">1</span>];<br>*m_data = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>&#125;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-title">String::String</span><span class="hljs-params">(<span class="hljs-keyword">const</span> String&amp; str)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//cè¯­è¨€é£æ ¼æœ€åæœ‰ä¸€ä¸ª&#x27;\0&#x27;,strcpy_sä¸­é—´å‚æ•°æ˜¯ç¼“å†²åŒºå¤§å°</span><br>m_data = <span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span>[<span class="hljs-built_in">strlen</span>(str.m_data) + <span class="hljs-number">1</span>];<br>strcpy_s(m_data, <span class="hljs-built_in">strlen</span>(str.m_data) + <span class="hljs-number">1</span>, str.m_data);<br>&#125;<br><br><span class="hljs-keyword">inline</span> String::~String()<br>&#123;<br><span class="hljs-keyword">delete</span>[] m_data;<br>&#125;<br><br><span class="hljs-comment">//å¦‚æœå‡½æ•°è¿”å›å€¼ä¸ºvoidï¼Œåˆ™ä¸æ”¯æŒè¿ä¸²èµ‹å€¼</span><br><span class="hljs-keyword">inline</span> String&amp; String::<span class="hljs-keyword">operator</span>= (<span class="hljs-keyword">const</span> String&amp; str)<br>&#123;<br><span class="hljs-comment">//å¿…é¡»è¦åˆ¤æ–­è‡ªæˆ‘å¤åˆ¶ï¼Œå› ä¸ºä»¥åæ“ä½œæ˜¯å…ˆdeleteå†cpy</span><br><span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == &amp;str)<br>&#123;<br><span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>&#125;<br><span class="hljs-keyword">delete</span>[] m_data;<br>m_data = <span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span>(<span class="hljs-built_in">strlen</span>(str.m_data) + <span class="hljs-number">1</span>);<br>strcpy_s(m_data, <span class="hljs-built_in">strlen</span>(str.m_data) + <span class="hljs-number">1</span>, str.m_data);<br><span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>&#125;<br><span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><br></code></pre></td></tr></table></figure><h3 id="å¸¦æŒ‡é’ˆç±»çš„Big-Three"><a href="#å¸¦æŒ‡é’ˆç±»çš„Big-Three" class="headerlink" title="å¸¦æŒ‡é’ˆç±»çš„Big Three"></a>å¸¦æŒ‡é’ˆç±»çš„Big Three</h3><ul><li><strong>æ‹·è´æ„é€ </strong>ï¼šString(const String&amp; str)</li><li><strong>æ‹·è´å¤åˆ¶</strong>ï¼šString&amp; operator=(const String&amp; str)</li><li><strong>ææ„</strong>ï¼š~String()</li></ul><p><img src=".\4.png" alt="class with pointer memberå¿…é ˆæœ‰copy ctorå’Œcopy p="></p><blockquote><p>æ·±æ‹·è´ï¼ˆæ•°æ®å…¨éƒ¨æ‹·è´è¿‡å»ï¼‰ï¼Œæµ…æ‹·è´ï¼ˆä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€å—å†…å­˜ï¼‰</p></blockquote><p><img src=".\5.png" alt="ä¸€å®šè¦åœ¨operator=ä¸­æª¢æŸ¥æ˜¯å¦self assignment"></p><h3 id="newå’Œdelete"><a href="#newå’Œdelete" class="headerlink" title="newå’Œdelete"></a>newå’Œdelete</h3><ul><li>newï¼šå…ˆåˆ†é… memory, å†èª¿ç”¨ ctor</li><li>deleteï¼šå…ˆèª¿ç”¨ dtor, å†é‡‹æ”¾ memory</li></ul><p><img src=".\6.png" alt="new Complex"></p><p><img src=".\7.png" alt="delete complex"></p><blockquote><p>newï¼ˆåˆ†é…å†…å­˜-&gt;è½¬å‹-&gt;æ„é€ å‡½æ•°ï¼‰  Cè¯­æ³•: Complex <em>pc=(Complex </em>)malloc(sizeof(Complex));  pc-&gt;Comlex::Complex(1,2)</p><p> delete(ææ„-&gt;é‡Šæ”¾å†…å­˜)</p></blockquote><p><img src=".\8.png" alt="new String"></p><p><img src=".\9.png" alt="delete String"></p><h3 id="Stackï¼ˆæ ˆï¼‰å’ŒHeapï¼ˆå †ï¼‰"><a href="#Stackï¼ˆæ ˆï¼‰å’ŒHeapï¼ˆå †ï¼‰" class="headerlink" title="Stackï¼ˆæ ˆï¼‰å’ŒHeapï¼ˆå †ï¼‰"></a>Stackï¼ˆæ ˆï¼‰å’ŒHeapï¼ˆå †ï¼‰</h3><ul><li><strong>Stack</strong>ï¼šæ˜¯å­˜åœ¨æ–¼æŸä½œç”¨åŸŸ (scope) çš„ä¸€å¡Šå…§å­˜ç©ºé–“ (memory space)ã€‚ä¾‹å¦‚ç•¶ä½ èª¿ç”¨å‡½æ•¸ï¼Œå‡½æ•¸æœ¬èº«å³æœƒå½¢æˆä¸€å€‹ stack ç”¨ä¾†æ”¾ç½®å®ƒæ‰€æ¥æ”¶çš„åƒæ•¸ï¼Œä»¥åŠè¿”å›åœ°å€ã€‚ åœ¨å‡½æ•¸æœ¬é«” (function body) å…§è²æ˜çš„ä»»ä½•è®Šé‡ï¼Œ å…¶æ‰€ä½¿ç”¨çš„å…§å­˜å¡Šéƒ½å–è‡ªä¸Šè¿° stackã€‚<strong>stack objectå…¶ç”Ÿå‘½åœ¨ä½œç”¨åŸŸ (scope) çµæŸä¹‹éš›çµæŸ</strong>ã€‚</li><li><strong>Heap</strong>ï¼šæˆ–è¬‚ system heapï¼Œæ˜¯æŒ‡ç”±æ“ä½œç³»çµ±æä¾›çš„ä¸€å¡Š global å…§å­˜ç©ºé–“ï¼Œç¨‹åºå¯å‹•æ…‹åˆ†é… (dynamic allocated) å¾æŸä¸­ç²å¾—è‹¥å¹²å€å¡Š (blocks)ï¼Œ<strong>heap objectå…¶ç”Ÿå‘½ åœ¨å®ƒè¢« deleted ä¹‹éš›çµæŸ</strong>ï¼Œä½¿ç”¨<strong>newåŠ¨æ€åˆ†é…çš„å†…å­˜ä¸€å®šè¦deleteé‡Šæ”¾</strong>ï¼Œå¦åˆ™ä¼šå‡ºç°å†…å­˜æ³„æ¼ï¼ˆmemory leakï¼‰ã€‚</li></ul><h3 id="VCåŠ¨æ€åˆ†é…å†…å­˜å—ï¼ˆäº†è§£ï¼‰"><a href="#VCåŠ¨æ€åˆ†é…å†…å­˜å—ï¼ˆäº†è§£ï¼‰" class="headerlink" title="VCåŠ¨æ€åˆ†é…å†…å­˜å—ï¼ˆäº†è§£ï¼‰"></a>VCåŠ¨æ€åˆ†é…å†…å­˜å—ï¼ˆäº†è§£ï¼‰</h3><p><img src=".\10.png" alt="å†…å­˜åˆ†é…ï¼Œå†debugå’Œreleaseæ¨¡å¼ä¸‹"></p><blockquote><p>æ³¨æ„åŒºåˆ† ä»£ç åŒºå’Œæ•°æ®åŒºï¼Œobjectçš„å‡½æ•°å…¨éƒ¨æ”¾åœ¨ç±»å…±ç”¨ä»£ç åŒºï¼Œæ‰€ä»¥åˆ†é…å†…å­˜å—åªåˆ†é…æ•°æ®çš„å†…å­˜ã€‚VCç¼–è¯‘å™¨åˆ†é…å†…å­˜çš„ä¹ æƒ¯æ˜¯16å­—èŠ‚å¯¹é½</p></blockquote><p><img src=".\11.png" alt="æ•°ç»„å¯¹è±¡çš„å†…å­˜åˆ†é…"></p><h3 id="array-newæ­é…array-delete"><a href="#array-newæ­é…array-delete" class="headerlink" title="array newæ­é…array delete"></a>array newæ­é…array delete</h3><p><img src=".\12.png" alt=""></p><h2 id="ğŸŒ¿è¡¥å……"><a href="#ğŸŒ¿è¡¥å……" class="headerlink" title="ğŸŒ¿è¡¥å……"></a>ğŸŒ¿è¡¥å……</h2><h3 id="å…³é”®å­—static"><a href="#å…³é”®å­—static" class="headerlink" title="å…³é”®å­—static"></a>å…³é”®å­—static</h3><p>staticå…¨å±€å˜é‡åªèƒ½åœ¨æœ¬æ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œä¸èƒ½è¢«externå…¶ä»–æ–‡ä»¶ï¼Œ</p><p>é™æ€æˆå‘˜å‡½æ•°æ²¡æœ‰this pointåªèƒ½å»å¤„ç†é™æ€data</p><p><img src=".\13.png" alt=""></p><h4 id="ä¾‹å­ï¼ˆé“¶è¡Œåˆ©ç‡ï¼‰"><a href="#ä¾‹å­ï¼ˆé“¶è¡Œåˆ©ç‡ï¼‰" class="headerlink" title="ä¾‹å­ï¼ˆé“¶è¡Œåˆ©ç‡ï¼‰"></a>ä¾‹å­ï¼ˆé“¶è¡Œåˆ©ç‡ï¼‰</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Account</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-keyword">static</span> <span class="hljs-keyword">double</span> m_rate;<br><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">set_rate</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span>&amp; x)</span> </span>&#123; m_rate = x; &#125;<br>&#125;;<br><span class="hljs-keyword">double</span> Account::m_rate = <span class="hljs-number">8.0</span>;<br><br><span class="hljs-comment">//è°ƒç”¨staticå‡½æ•°çš„ä¸¤ç§æ–¹å¼</span><br><span class="hljs-comment">//1.é€šè¿‡objectè°ƒç”¨</span><br><span class="hljs-comment">//2.é€šè¿‡class name è°ƒç”¨</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>Account::set_rate(<span class="hljs-number">9.0</span>);<br><span class="hljs-built_in">cout</span> &lt;&lt; Account::m_rate;<br>Account a;<br>a.set_rate(<span class="hljs-number">8.5</span>);<br><span class="hljs-built_in">cout</span> &lt;&lt; a.m_rate;<br>a.m_rate = <span class="hljs-number">4.0</span>;<br><span class="hljs-built_in">cout</span> &lt;&lt; a.m_rate;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="å•ä¾‹æ¨¡å¼-Singleton"><a href="#å•ä¾‹æ¨¡å¼-Singleton" class="headerlink" title="å•ä¾‹æ¨¡å¼ Singleton"></a>å•ä¾‹æ¨¡å¼ Singleton</h4><p><img src=".\14.png" alt=""></p><h3 id="æ¨¡æ¿template"><a href="#æ¨¡æ¿template" class="headerlink" title="æ¨¡æ¿template"></a>æ¨¡æ¿template</h3><p><img src=".\15.png" alt="ç±»æ¨¡æ¿"></p><p><img src=".\16.png" alt="å‡½æ•°æ¨¡æ¿"></p><ul><li>Class è‡ªå®šä¹‰ç±»</li><li>typename ä½¿ç”¨å†…ç½®ç±»å‹</li></ul>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-ä¾¯æ· -é¢å¯¹å¯¹è±¡çš„é«˜çº§å¼€å‘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç‹é“æ•°æ®ç»“æ„_ç¬¬äºŒç« çº¿æ€§è¡¨</title>
    <link href="/2021/01/30/%E7%8E%8B%E9%81%93%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AC%AC%E4%BA%8C%E7%AB%A0%E7%BA%BF%E6%80%A7%E8%A1%A8/"/>
    <url>/2021/01/30/%E7%8E%8B%E9%81%93%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AC%AC%E4%BA%8C%E7%AB%A0%E7%BA%BF%E6%80%A7%E8%A1%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="çº¿æ€§è¡¨-linear-list"><a href="#çº¿æ€§è¡¨-linear-list" class="headerlink" title="çº¿æ€§è¡¨(linear list)"></a>çº¿æ€§è¡¨(linear list)</h1><p><strong>é€»è¾‘ç»“æ„ã€æ•°æ®è¿ç®—ã€å­˜å‚¨ç»“æ„</strong></p><h3 id="ğŸˆå®šä¹‰"><a href="#ğŸˆå®šä¹‰" class="headerlink" title="ğŸˆå®šä¹‰"></a>ğŸˆå®šä¹‰</h3><p>çº¿æ€§è¡¨æ˜¯å…·æœ‰<strong>ç›¸åŒæ•°æ®ç±»å‹</strong>çš„nï¼ˆn&gt;=0ï¼‰ä¸ªæ•°æ®å…ƒç´ çš„<strong>æœ‰é™ åºåˆ—</strong>ï¼Œå…¶ä¸­nä¸ºè¡¨é•¿ï¼Œå½“n=0æ—¶çº¿æ€§è¡¨æ˜¯ä¸€ä¸ªç©ºè¡¨ã€‚è‹¥Lå‘½ä»¤çº¿æ€§è¡¨ï¼Œåˆ™å…¶ä¸€èˆ¬è¡¨ç¤ºä¸º</p><script type="math/tex; mode=display">L=(a_1,a_2,...,a_i,a_{i+1},a_n)</script><p><img src=".\1.png" alt=""></p><h3 id="ğŸ‰åŸºæœ¬è¿ç®—"><a href="#ğŸ‰åŸºæœ¬è¿ç®—" class="headerlink" title="ğŸ‰åŸºæœ¬è¿ç®—"></a>ğŸ‰åŸºæœ¬è¿ç®—</h3><p><img src=".\2.png" alt=""></p><h2 id="ğŸŒ¿é¡ºåºè¡¨"><a href="#ğŸŒ¿é¡ºåºè¡¨" class="headerlink" title="ğŸŒ¿é¡ºåºè¡¨"></a>ğŸŒ¿é¡ºåºè¡¨</h2><h3 id="ğŸˆå®šä¹‰-1"><a href="#ğŸˆå®šä¹‰-1" class="headerlink" title="ğŸˆå®šä¹‰"></a>ğŸˆå®šä¹‰</h3><p><strong>çº¿æ€§è¡¨çš„é¡ºåºå­˜å‚¨</strong>ç§°ä¸ºé¡ºåºè¡¨ã€‚é€»è¾‘ä¸Šç›¸é‚»çš„å…ƒç´ ç‰©ç†ä½ç½®ä¹Ÿç›¸é‚»</p><p><img src=".\3.png" alt=""></p><h4 id="é™æ€åˆ†é…"><a href="#é™æ€åˆ†é…" class="headerlink" title="é™æ€åˆ†é…"></a>é™æ€åˆ†é…</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">/***** é™æ€åˆ†é… ******/</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> MaxSize 10      <span class="hljs-comment">//å®šä¹‰æœ€å¤§é•¿åº¦</span></span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span><br>    <span class="hljs-keyword">int</span> data[MaxSize];  <span class="hljs-comment">//é™æ€çš„&quot;æ•°ç»„&quot;å­˜æ”¾æ•°æ®å…ƒç´ </span><br>    <span class="hljs-keyword">int</span> length;         <span class="hljs-comment">//é¡ºåºè¡¨å½“å‰é•¿åº¦</span><br>&#125;SqList;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">InitList</span><span class="hljs-params">(SqList&amp; L)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; MaxSize; i++)<br>    &#123;<br>        L.data[i] = <span class="hljs-number">0</span>;<br>    &#125;<br>    L.length = <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="åŠ¨æ€åˆ†é…"><a href="#åŠ¨æ€åˆ†é…" class="headerlink" title="åŠ¨æ€åˆ†é…"></a>åŠ¨æ€åˆ†é…</h4><p><strong>mallocå‡½æ•°ï¼š</strong></p><script type="math/tex; mode=display">L.data = (ElemType *)malloc(sizeof(ElemType)*InitSize);</script><ol><li>å¼€è¾Ÿ<code>InitSize</code>Ã—<code>sizeofï¼ˆï¼‰</code>å¤§å°çš„å†…å­˜åŒºåŸŸ</li><li>å°†å…¶å¼ºåˆ¶ç±»å‹è½¬åŒ–ä¸º<code>è¯¥ç±»å‹</code>æŒ‡é’ˆï¼Œè¿”å›è¯¥å†…å­˜åœ°å€çš„é¦–åœ°å€</li></ol><p><strong>newå‡½æ•°ï¼ˆc++ï¼‰ï¼š</strong></p><script type="math/tex; mode=display">L.data = new \quad ElemType[InitSize];</script><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">/***** åŠ¨æ€åˆ†é… ******/</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> InitSize 10     <span class="hljs-comment">//å®šä¹‰åˆå§‹é•¿åº¦</span></span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span><br>    <span class="hljs-keyword">int</span> *Data;          <span class="hljs-comment">//åŠ¨æ€åˆ†é…æ•°ç»„çš„æŒ‡é’ˆ</span><br>    <span class="hljs-keyword">int</span> MaxSize;        <span class="hljs-comment">//æœ€å¤§é•¿åº¦</span><br>    <span class="hljs-keyword">int</span> Length;         <span class="hljs-comment">//å½“å‰é•¿åº¦</span><br>&#125;SeqList;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">InitList</span><span class="hljs-params">(SeqList&amp; L)</span></span><br><span class="hljs-function"></span>&#123;<br>    L.Data = (<span class="hljs-keyword">int</span>*)<span class="hljs-built_in">malloc</span>(InitSize * <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">int</span>));<br>    L.Length = <span class="hljs-number">0</span>;<br>    L.MaxSize = InitSize;<br>&#125;  <br><br><span class="hljs-comment">//é¡ºåºè¡¨æ»¡æ—¶ï¼Œå†ç”¨mallocåŠ¨æ€æ‹“å±•é¡ºåºçš„æœ€å¤§å®¹é‡</span><br><span class="hljs-comment">//å°†æ•°æ®å…ƒç´ å¤åˆ¶åˆ°æ–°çš„å­˜å‚¨åŒºåŸŸï¼Œå¹¶ç”¨freeå‡½æ•°é‡Šæ”¾åŸåŒºåŸŸ</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">IncreaseSize</span><span class="hljs-params">(SeqList&amp; L, <span class="hljs-keyword">int</span> Len)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span>* P = L.Data;<br>    <span class="hljs-comment">//lå­˜dataçš„æ•´ä¸ªå†…å­˜ç©ºé—´å‘ç”Ÿäº†è½¬ç§»ï¼Œå¤åˆ¶å¤åˆ¶åˆ°äº†æ–°çš„åŒºåŸŸ</span><br>    L.Data = (<span class="hljs-keyword">int</span>*)<span class="hljs-built_in">malloc</span>((l.MaxSize + Len) * <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">int</span>));<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;L.Length; i++)<br>    &#123;<br>        L.Data[i] = P[i];<br>    &#125;<br>    L.MaxSize += Len;<br>    <span class="hljs-built_in">free</span>(P);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><ul><li>éšæœºè®¿é—®ï¼Œå¯ä»¥åœ¨O(1)æ—¶é—´å†…æ‰¾åˆ°ç¬¬<code>i</code>ä¸ªå…ƒç´ </li><li>å­˜å‚¨å¯†åº¦é«˜ï¼Œæ¯ä¸ªç»“ç‚¹åªå­˜å‚¨æ•°æ®å…ƒç´ </li><li>æ’å…¥åˆ é™¤ï¼Œæ‹“å±•å®¹é‡ç­‰æ“ä½œä¸æ–¹ä¾¿</li></ul><h3 id="ğŸ‰é¡ºåºè¡¨ä¸Šçš„åŸºæœ¬æ“ä½œ"><a href="#ğŸ‰é¡ºåºè¡¨ä¸Šçš„åŸºæœ¬æ“ä½œ" class="headerlink" title="ğŸ‰é¡ºåºè¡¨ä¸Šçš„åŸºæœ¬æ“ä½œ"></a>ğŸ‰é¡ºåºè¡¨ä¸Šçš„åŸºæœ¬æ“ä½œ</h3><h4 id="ListInsert-amp-L-i-e"><a href="#ListInsert-amp-L-i-e" class="headerlink" title="ListInsert(&amp;L,i,e)"></a>ListInsert(&amp;L,i,e)</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//æ—¶é—´å¤æ‚åº¦æœ€å¥½O(1)ï¼Œæœ€åæ—¶é—´å¤æ‚åº¦O(n)ï¼Œå¹³å‡O(N/2)=O(N)</span><br><span class="hljs-comment">//æ’å…¥çš„å…ƒç´ ä¾æ¬¡åç§»ï¼Œå¡«ä¸Šç©ºæŒ¡</span><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">ListInsert</span><span class="hljs-params">(SqList&amp; L, <span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> e)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//å­˜å‚¨ç©ºé—´å·²ç»æ»¡äº†</span><br>    <span class="hljs-keyword">if</span> (L.length&gt;=MaxSize)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-comment">//æ’å…¥ä½ç½®æœ‰é—®é¢˜</span><br>    <span class="hljs-keyword">if</span> (i&lt;<span class="hljs-number">1</span>||i&gt;L.length+<span class="hljs-number">1</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = L.length; k &gt; i; k--)<br>    &#123;<br>        L.data[k] = L.data[k - <span class="hljs-number">1</span>];<br>    &#125;<br>    L.data[i - <span class="hljs-number">1</span>] = e;<br>    L.length++;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ListDelete-amp-L-i-amp-e"><a href="#ListDelete-amp-L-i-amp-e" class="headerlink" title="ListDelete(&amp;L,i,&amp;e)"></a>ListDelete(&amp;L,i,&amp;e)</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//æ—¶é—´å¤æ‚åº¦æœ€å¥½O(1)ï¼Œæœ€åæ—¶é—´å¤æ‚åº¦O(n)ï¼Œå¹³å‡O(N/2)=O(N)</span><br><span class="hljs-comment">//åˆ é™¤çš„å…ƒç´ ä¾æ¬¡å‰ç§»ï¼Œå¡«ä¸Šç©ºæŒ¡</span><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">ListDelete</span><span class="hljs-params">(SqList&amp; L, <span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span>&amp; e)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (i&lt;i||i&gt;L.length)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    e = L.data[i - <span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = i; k &lt; L.length; k++)<br>    &#123;<br>        L.data[i - <span class="hljs-number">1</span>] = L.data[i];<br>    &#125;<br>    L.length--;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="Get-LocateElem-L-e"><a href="#Get-LocateElem-L-e" class="headerlink" title="Get/LocateElem(L,e)"></a>Get/LocateElem(L,e)</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">/***** æŒ‰ä½æŸ¥æ‰¾ ******/</span>  <br><span class="hljs-function">ElemType <span class="hljs-title">GetElem</span><span class="hljs-params">(SqList L, <span class="hljs-keyword">int</span> i)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> L.data[i - <span class="hljs-number">1</span>];<br>&#125;<br><span class="hljs-comment">/***** æŒ‰å€¼æŸ¥æ‰¾ ******/</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">LocateElem</span><span class="hljs-params">(SqList L, <span class="hljs-keyword">int</span> e)</span> </span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; L.length; i++) &#123;<br>        <span class="hljs-keyword">if</span> (L.data[i]==e)<br>        &#123;<br>            <span class="hljs-keyword">return</span> i + <span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>ç»“æ„ä½“ElemTypeä¸èƒ½ç›´æ¥æ¯”è¾ƒå¤§å°ï¼Œè¦æ¯”è¾ƒç»“æ„ä½“å†…å…ƒç´ çš„å¤§å°ï¼Œå½“ç„¶åœ¨c++ä¸­å¯ä»¥ç”¨é‡è½½ã€‚</p></blockquote><h2 id="ğŸŒ¿å•é“¾è¡¨"><a href="#ğŸŒ¿å•é“¾è¡¨" class="headerlink" title="ğŸŒ¿å•é“¾è¡¨"></a>ğŸŒ¿å•é“¾è¡¨</h2><h3 id="ğŸˆå®šä¹‰-2"><a href="#ğŸˆå®šä¹‰-2" class="headerlink" title="ğŸˆå®šä¹‰"></a>ğŸˆå®šä¹‰</h3><p><img src=".\4.png" alt=""></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">/***** å®šä¹‰ ******/</span><br><span class="hljs-comment">//ä¸¤ç§è¡¨ç¤ºæ–¹æ³•</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LNode</span> &#123;</span><br>    ElemType data;       <span class="hljs-comment">//æ•°æ®åŸŸ</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LNode</span>* <span class="hljs-title">next</span>;</span>  <span class="hljs-comment">//æŒ‡é’ˆåŸŸ</span><br>&#125;;<br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LNode</span> <span class="hljs-title">LNode</span>;</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LNode</span> *<span class="hljs-title">LinkList</span>;</span><br><br><span class="hljs-comment">//ä¹¦ä¸Šçš„æ–¹å¼äºŒï¼Œæ›´ä¸ºç®€æ´</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LNode</span> &#123;</span><br>    ElemType data;       <span class="hljs-comment">//æ•°æ®åŸŸ</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LNode</span>* <span class="hljs-title">next</span>;</span>  <span class="hljs-comment">//æŒ‡é’ˆåŸŸ</span><br>&#125;LNode, * LinkList;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//ä¸ºä»€ä¹ˆè¦å®šä¹‰ä¸¤ä¸ªç»“ç‚¹æŒ‡é’ˆ</span><br><span class="hljs-comment">//å¼ºè°ƒå¯è¯»æ€§ï¼Œä¸€ä¸ªè¡¨ç¤ºè¿™ä¸ªæ˜¯ç»“ç‚¹çš„æŒ‡é’ˆï¼Œä¸€ä¸ªè¡¨ç¤ºæ˜¯List</span><br>LNode* L;<br>LinkList L;<br></code></pre></td></tr></table></figure><h4 id="ä¸å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨"><a href="#ä¸å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨" class="headerlink" title="ä¸å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨"></a>ä¸å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//ä¸å¸¦å¤´ç»“ç‚¹</span><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">InitList</span><span class="hljs-params">(LinkList&amp; L)</span> </span>&#123;<br>    <span class="hljs-comment">//æŒ‡é’ˆç½®ç©º</span><br>    L = <span class="hljs-literal">NULL</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">Empty</span><span class="hljs-params">(LinkList L)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span>(L == <span class="hljs-literal">NULL</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="å¸¦å¤´ç»“ç‚¹"><a href="#å¸¦å¤´ç»“ç‚¹" class="headerlink" title="å¸¦å¤´ç»“ç‚¹"></a>å¸¦å¤´ç»“ç‚¹</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//å¸¦å¤´ç»“ç‚¹</span><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">InitList</span><span class="hljs-params">(LinkList&amp; L)</span> </span>&#123;<br>    L = (LNode*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(LNode));<br>    <span class="hljs-keyword">if</span> (L==<span class="hljs-literal">NULL</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    L-&gt;next == <span class="hljs-literal">NULL</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ğŸ‰å•é“¾è¡¨ä¸Šçš„åŸºæœ¬æ“ä½œ"><a href="#ğŸ‰å•é“¾è¡¨ä¸Šçš„åŸºæœ¬æ“ä½œ" class="headerlink" title="ğŸ‰å•é“¾è¡¨ä¸Šçš„åŸºæœ¬æ“ä½œ"></a>ğŸ‰å•é“¾è¡¨ä¸Šçš„åŸºæœ¬æ“ä½œ</h3><h4 id="æŒ‡å®šä½æ’å…¥ç»“ç‚¹"><a href="#æŒ‡å®šä½æ’å…¥ç»“ç‚¹" class="headerlink" title="æŒ‡å®šä½æ’å…¥ç»“ç‚¹"></a>æŒ‡å®šä½æ’å…¥ç»“ç‚¹</h4><p><img src=".\5.png" alt="å¸¦å¤´ç»“ç‚¹çš„é“¾è¡¨"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">ListInsert</span><span class="hljs-params">(LinkList&amp; L, <span class="hljs-keyword">int</span> i, ElemType e)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">/** æ‰¾åˆ°ç¬¬i-1ä¸ªç»“ç‚¹ LNode *p=GetElem(L,i-1) **/</span><br>    <span class="hljs-keyword">if</span> (i&lt;<span class="hljs-number">1</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    LNode* p=L;<br>    <span class="hljs-comment">//ä½¿pæŒ‡å‘i-1ä¸ªç»“ç‚¹</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;i<span class="hljs-number">-1</span> &amp;&amp; p!=<span class="hljs-literal">NULL</span>; j++)<br>    &#123;<br>        p = p-&gt;next;<br>    &#125;<br>    <span class="hljs-comment">/** åœ¨påé¢æ’å…¥æ–°å…ƒç´  return InsertNextNode(p,e)**/</span><br>    <span class="hljs-keyword">if</span> (p==<span class="hljs-literal">NULL</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    LNode* node = (LNode*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(LNode));<br>    node-&gt;data = e;<br>    node-&gt;next = p-&gt;next;<br>    p-&gt;next = node;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src=".\6.png" alt="ä¸å¸¦å¤´ç»“ç‚¹çš„é“¾è¡¨åœ¨è¡¨é¦–çš„æ’å…¥"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">ListInsert</span><span class="hljs-params">(LinkList&amp; L, <span class="hljs-keyword">int</span> i, ElemType e)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">1</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-comment">//åœ¨è¡¨é¦–éƒ¨æ’å…¥</span><br>    <span class="hljs-keyword">if</span> (i == <span class="hljs-number">1</span>)<br>    &#123;<br>        LNode* node = (LNode*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(LNode));<br>        node-&gt;data = e;<br>        node-&gt;next = L;<br>        L = node;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    LNode* p = L;<br>    <span class="hljs-comment">//ä½¿å¾—pæŒ‡å‘i-1ä¸ªç»“ç‚¹</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; i - <span class="hljs-number">1</span> &amp;&amp; p != <span class="hljs-literal">NULL</span>; j++)<br>    &#123;<br>        p = p-&gt;next;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (p == <span class="hljs-literal">NULL</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    LNode* node = (LNode*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(LNode));<br>    node-&gt;data = e;<br>    node-&gt;next = p-&gt;next;<br>    p-&gt;next = node;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="åæ’å…ƒç´ "><a href="#åæ’å…ƒç´ " class="headerlink" title="åæ’å…ƒç´ "></a>åæ’å…ƒç´ </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">InsertNextNode</span><span class="hljs-params">(LNode* p, ElemType e)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//</span><br>    <span class="hljs-keyword">if</span> (p==<span class="hljs-literal">NULL</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    LNode* node = (LNode*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(LNode));<br>    <span class="hljs-comment">//å†…å­˜æ»¡äº†åˆ†é…ä¸æˆåŠŸ</span><br>    <span class="hljs-keyword">if</span> (node==<span class="hljs-literal">NULL</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    node-&gt;data = e;<br>    node-&gt;next = p-&gt;next;<br>    p-&gt;next = node;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="å‰æ’å…ƒç´ "><a href="#å‰æ’å…ƒç´ " class="headerlink" title="å‰æ’å…ƒç´ "></a>å‰æ’å…ƒç´ </h4><p><img src=".\7.png" alt="æ•°æ®äº¤æ¢"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">InsertPriorNode</span><span class="hljs-params">(LNode* p, ElemType e)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (p==<span class="hljs-literal">NULL</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    LNode* node = (LNode*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(LNode));<br>    <span class="hljs-comment">//è¿æ¥é“¾è¡¨</span><br>    node-&gt;next = p-&gt;next;<br>    p-&gt;next = node;<br>    <span class="hljs-comment">//äº¤æ¢æ•°æ®</span><br>    node-&gt;data = p-&gt;data;<br>    p-&gt;data = e;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="åˆ é™¤æŒ‡å®šä½"><a href="#åˆ é™¤æŒ‡å®šä½" class="headerlink" title="åˆ é™¤æŒ‡å®šä½"></a>åˆ é™¤æŒ‡å®šä½</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">ListDelete</span><span class="hljs-params">(LinkList&amp; L, <span class="hljs-keyword">int</span> i, ElemType&amp; e)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (i&lt;<span class="hljs-number">1</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    LNode* p = L;<br>    <span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j&lt;i<span class="hljs-number">-1</span> &amp;&amp; p!=<span class="hljs-literal">NULL</span>; j++)<br>    &#123;<br>        p = p-&gt;next;<br>    &#125;<br>    <span class="hljs-comment">//iå€¼ä¸åˆæ³•ï¼Œå’Œi-1åé¢å·²ç»æ²¡æœ‰ç»“ç‚¹</span><br>    <span class="hljs-keyword">if</span> (p==<span class="hljs-literal">NULL</span> || p-&gt;next==<span class="hljs-literal">NULL</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-comment">//ä¿æŒqç»“ç‚¹ä»¥ç”¨äºé‡Šæ”¾å†…å­˜ï¼ˆqä¸ºè¢«åˆ é™¤ç»“ç‚¹ï¼‰</span><br>    LNode* q = p-&gt;next;<br>    e = q-&gt;data;<br>    p-&gt;next = q-&gt;next;<br>    <span class="hljs-built_in">free</span>(q);<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="åˆ é™¤æŒ‡å®šç»“ç‚¹"><a href="#åˆ é™¤æŒ‡å®šç»“ç‚¹" class="headerlink" title="åˆ é™¤æŒ‡å®šç»“ç‚¹"></a>åˆ é™¤æŒ‡å®šç»“ç‚¹</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">DeleteNode</span><span class="hljs-params">(LNode* p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (p == <span class="hljs-literal">NULL</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <br>    LNode* q = p-&gt;next;<br>    p-&gt;data = p-&gt;next-&gt;data;<br>    p-&gt;next = q-&gt;next;<br>    <span class="hljs-built_in">free</span>(q);<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src=".\8.png" alt=""></p><p><img src=".\9.png" alt=""></p><p><img src=".\9.5.png" alt=""></p><p><img src=".\10.png" alt="å°bugï¼Œæœ«å°¾æ˜¯nullå¿…é¡»ä»å¤´ç»“ç‚¹å¼€å§‹æ‰«"></p><h4 id="æŒ‰ä½æŸ¥æ‰¾"><a href="#æŒ‰ä½æŸ¥æ‰¾" class="headerlink" title="æŒ‰ä½æŸ¥æ‰¾"></a>æŒ‰ä½æŸ¥æ‰¾</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function">LNode* <span class="hljs-title">GetElem</span><span class="hljs-params">(LinkList L, <span class="hljs-keyword">int</span> i)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (i&lt;<span class="hljs-number">0</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<br>    &#125;<br>    <span class="hljs-comment">//å¤´ç»“ç‚¹æ˜¯ç¬¬0ä¸ªç»“ç‚¹</span><br>    LNode* p=L;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;i &amp;&amp; p!=<span class="hljs-literal">NULL</span>; j++)<br>    &#123;<br>        p = p-&gt;next;<br>    &#125;<br>    <span class="hljs-keyword">return</span> p;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="æŒ‰å€¼æŸ¥æ‰¾"><a href="#æŒ‰å€¼æŸ¥æ‰¾" class="headerlink" title="æŒ‰å€¼æŸ¥æ‰¾"></a><strong>æŒ‰å€¼æŸ¥æ‰¾</strong></h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function">LNode* <span class="hljs-title">LocateElem</span><span class="hljs-params">(LinkList L, ELemType e)</span></span><br><span class="hljs-function"></span>&#123;<br>    LNode* p = L-&gt;next;<br>    <span class="hljs-keyword">while</span> (p!=<span class="hljs-literal">NULL</span> || p-&gt;data!=e)<br>    &#123;<br>        p = p-&gt;next;<br>    &#125;<br>    <span class="hljs-comment">//æ‰¾åˆ°åè¿”å›pï¼Œå¦åˆ™è¿”å›NULL</span><br>    <span class="hljs-keyword">return</span> p;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="æ±‚è¡¨é•¿"><a href="#æ±‚è¡¨é•¿" class="headerlink" title="æ±‚è¡¨é•¿"></a>æ±‚è¡¨é•¿</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Length</span><span class="hljs-params">(LinkList L)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> len = <span class="hljs-number">0</span>;<br>    LNode* p = L;<br>    <span class="hljs-keyword">while</span> (p-&gt;next!=<span class="hljs-literal">NULL</span>)<br>    &#123;<br>        p = p-&gt;next;<br>        len++;<br>    &#125;<br>    <span class="hljs-keyword">return</span> len;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ğŸŒ¹å•é“¾è¡¨çš„åˆ›ç«‹"><a href="#ğŸŒ¹å•é“¾è¡¨çš„åˆ›ç«‹" class="headerlink" title="ğŸŒ¹å•é“¾è¡¨çš„åˆ›ç«‹"></a>ğŸŒ¹å•é“¾è¡¨çš„åˆ›ç«‹</h3><h4 id="å°¾æ’æ³•"><a href="#å°¾æ’æ³•" class="headerlink" title="å°¾æ’æ³•"></a>å°¾æ’æ³•</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function">LinkList <span class="hljs-title">List_TailInsert</span><span class="hljs-params">(LinkList&amp; L)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> x;<br>    L = (LinkList)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(LNode));<br>    LNode* s, * r = L;<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);<br>    <span class="hljs-keyword">while</span> (x!=<span class="hljs-number">9999</span>)<br>    &#123;<br>        s = (LNode*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(LNode));<br>        s-&gt;data = x;<br>        r-&gt;next = s;<br>        r = s;<br>        scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);<br>    &#125;<br>    r-&gt;next = <span class="hljs-literal">NULL</span>;<br>    <span class="hljs-keyword">return</span> L;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="å¤´æ’æ³•ï¼ˆé“¾è¡¨é€†ç½®ï¼‰"><a href="#å¤´æ’æ³•ï¼ˆé“¾è¡¨é€†ç½®ï¼‰" class="headerlink" title="å¤´æ’æ³•ï¼ˆé“¾è¡¨é€†ç½®ï¼‰"></a>å¤´æ’æ³•ï¼ˆé“¾è¡¨é€†ç½®ï¼‰</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function">LinkList <span class="hljs-title">List_HeadInsert</span><span class="hljs-params">(LinkList&amp; L)</span></span><br><span class="hljs-function"></span>&#123;<br>    LNode* s;<br>    <span class="hljs-keyword">int</span> x;<br>    L = (LinkList)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(LNode));<br>    L-&gt;next = <span class="hljs-literal">NULL</span>;<br>    scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);<br>    <span class="hljs-keyword">while</span> (x != <span class="hljs-number">9999</span>)<br>    &#123;<br>        s = (LNode*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(LNode));<br>        s-&gt;data = x;<br>        s-&gt;next = L-&gt;next;<br>        L-&gt;next = s;<br>        scanf_s(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);<br>    &#125;<br>    <span class="hljs-keyword">return</span> L;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src=".\11.png" alt="æ²¡æœ‰L-&gt;next = NULL"></p><ul><li>æ‰«æé“¾è¡¨ç”¨å…¶å…ƒç´ å¤´æ’å¡åˆ°æ–°é“¾è¡¨ä¹‹ä¸­</li><li>ä»æœ«å°¾å–ç»“ç‚¹ï¼Œé‡æ–°å¤´æ’å›ç»“ç‚¹ä¹‹ä¸­</li></ul><h2 id="ğŸŒ¿åŒå‘é“¾è¡¨"><a href="#ğŸŒ¿åŒå‘é“¾è¡¨" class="headerlink" title="ğŸŒ¿åŒå‘é“¾è¡¨"></a>ğŸŒ¿åŒå‘é“¾è¡¨</h2><h3 id="ğŸˆå®šä¹‰-3"><a href="#ğŸˆå®šä¹‰-3" class="headerlink" title="ğŸˆå®šä¹‰"></a>ğŸˆå®šä¹‰</h3><p><img src=".\12.png" alt="image-20210130205954514"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">DNode</span>&#123;</span><br>    ElemType data;<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">DNode</span>* <span class="hljs-title">prior</span>, * <span class="hljs-title">next</span>;</span><br>&#125;DNode,*DLinkList;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">InitDLinkList</span><span class="hljs-params">(DLinkList&amp; L)</span></span><br><span class="hljs-function"></span>&#123;<br>    L = (DNode*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(DNode));<br>    L-&gt;prior = <span class="hljs-literal">NULL</span>;<br>    L-&gt;next = <span class="hljs-literal">NULL</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">Empty</span><span class="hljs-params">(DLinkList L)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> (L-&gt;next);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ğŸ‰åŸºæœ¬æ“ä½œ"><a href="#ğŸ‰åŸºæœ¬æ“ä½œ" class="headerlink" title="ğŸ‰åŸºæœ¬æ“ä½œ"></a>ğŸ‰åŸºæœ¬æ“ä½œ</h3><h4 id="æ’å…¥ç»“ç‚¹"><a href="#æ’å…¥ç»“ç‚¹" class="headerlink" title="æ’å…¥ç»“ç‚¹"></a>æ’å…¥ç»“ç‚¹</h4><p><img src=".\13.png" alt=""><br><img src=".\14.png" alt=""></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//æ’å…¥ç»“ç‚¹</span><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">InsertNextDNode</span><span class="hljs-params">(DNode* p, DNode* s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (p==<span class="hljs-literal">NULL</span>||s==<span class="hljs-literal">NULL</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    s-&gt;next = p-&gt;next;<br>    <span class="hljs-keyword">if</span> (s-&gt;next!=<span class="hljs-literal">NULL</span>)<br>    &#123;<br>        s-&gt;next-&gt;prior = s;<br>    &#125;<br>    s-&gt;prior = p;<br>    p-&gt;next = s;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="æ’å…¥æ“ä½œ"><a href="#æ’å…¥æ“ä½œ" class="headerlink" title="æ’å…¥æ“ä½œ"></a>æ’å…¥æ“ä½œ</h4><ul><li><strong>åœ¨ç»“ç‚¹på‰æ’å…¥ä¸€ä¸ªç»“ç‚¹</strong>ï¼šåªéœ€è¦p-&gt;prioræ‰¾åˆ°å®ƒçš„å‰é©±ç»“ç‚¹ï¼Œç„¶åå†æ‰§è¡Œåæ’æ“ä½œ</li><li><strong>ä½åºiå‰æ’å…¥</strong>ï¼Œä»å¤´ç»“ç‚¹å¼€å§‹æ‰¾åˆ°i-1å·ç»“ç‚¹ï¼Œå¯¹ç»“ç‚¹å®è¡Œåæ’æ“ä½œã€‚</li></ul><h4 id="åˆ é™¤æ“ä½œ"><a href="#åˆ é™¤æ“ä½œ" class="headerlink" title="åˆ é™¤æ“ä½œ"></a>åˆ é™¤æ“ä½œ</h4><p><img src=".\15.png" alt="image-20210130212311442"></p><p><img src=".\16.png" alt="image-20210130213610334"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//åˆ é™¤qçš„åç»§ç»“ç‚¹</span><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">DeleteNextDNode</span><span class="hljs-params">(DNode* p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (p==<span class="hljs-literal">NULL</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    DNode* q = p-&gt;next;<br>    <span class="hljs-keyword">if</span> (q==<span class="hljs-literal">NULL</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    p-&gt;next = q-&gt;next;<br>    <span class="hljs-keyword">if</span> (p-&gt;next!=<span class="hljs-literal">NULL</span>)<br>    &#123;<br>        q-&gt;next-&gt;prior = p;<br>    &#125;<br>    <span class="hljs-built_in">free</span>(q);<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;    <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DestoryList</span><span class="hljs-params">(DLinkList&amp; L)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span> (L-&gt;next != <span class="hljs-literal">NULL</span>)<br>    &#123;<br>        DeleteNextDNode(L);<br>    &#125;<br>    <span class="hljs-built_in">free</span>(L);<br>    L = <span class="hljs-literal">NULL</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src=".\17.png" alt="éå†"></p><h2 id="ğŸŒ¿å¾ªç¯é“¾è¡¨"><a href="#ğŸŒ¿å¾ªç¯é“¾è¡¨" class="headerlink" title="ğŸŒ¿å¾ªç¯é“¾è¡¨"></a>ğŸŒ¿å¾ªç¯é“¾è¡¨</h2><h3 id="å¾ªç¯å•é“¾è¡¨"><a href="#å¾ªç¯å•é“¾è¡¨" class="headerlink" title="å¾ªç¯å•é“¾è¡¨"></a>å¾ªç¯å•é“¾è¡¨</h3><p><img src=".\18.png" alt=""></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//é“¾è¡¨åˆå§‹åŒ–</span><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">InitDLinkList</span><span class="hljs-params">(LinkList&amp; L)</span></span><br><span class="hljs-function"></span>&#123;<br>    L = (LNode*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(LNode));<br>    L-&gt;next = L;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isTail</span><span class="hljs-params">(LinkList L, LNode* p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> (p-&gt;next==L)<br>&#125;<br></code></pre></td></tr></table></figure><p><img src=".\19.png" alt="å¾ªç¯éå†"></p><h3 id="å¾ªç¯åŒé“¾è¡¨"><a href="#å¾ªç¯åŒé“¾è¡¨" class="headerlink" title="å¾ªç¯åŒé“¾è¡¨"></a>å¾ªç¯åŒé“¾è¡¨</h3><p><img src=".\20.png" alt=""></p><p><img src=".\21.png" alt=""></p><p><img src=".\22.png" alt=""></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//åé¢æ’å…¥ç»“ç‚¹</span><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">InsertNextDNode</span><span class="hljs-params">(DNode* p, DNode* s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (p==<span class="hljs-literal">NULL</span>||s==<span class="hljs-literal">NULL</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    s-&gt;next = p-&gt;next;<br>        s-&gt;next-&gt;prior = s;<span class="hljs-comment">//è¿™å¥å’Œéå¾ªç¯é“¾è¡¨ä¸ä¸€æ ·</span><br>    s-&gt;prior = p;<br>    p-&gt;next = s;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-comment">//åé¢åˆ é™¤ç»“ç‚¹</span><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">DeleteNextDNode</span><span class="hljs-params">(DNode* p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (p==<span class="hljs-literal">NULL</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    DNode* q = p-&gt;next;<br>    p-&gt;next = q-&gt;next;<br>    q-&gt;next-&gt;prior = p;  <span class="hljs-comment">//è¿™å¥ä¸ä¸€æ ·</span><br>    <span class="hljs-built_in">free</span>(q);<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;    <br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ğŸŒ¿é™æ€é“¾è¡¨"><a href="#ğŸŒ¿é™æ€é“¾è¡¨" class="headerlink" title="ğŸŒ¿é™æ€é“¾è¡¨"></a>ğŸŒ¿é™æ€é“¾è¡¨</h2><p><img src=".\23.png" alt=""></p><blockquote><p>åˆå§‹åŒ–ï¼š a[0]è®¾ä¸º-1 ï¼Œå…¶ä»–ç»“ç‚¹è®¾ç½®ä¸€ä¸ªç‰¹æ®Šå€¼è¡¨ç¤ºç©ºé—²å¦‚-2</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> &#123;</span><br>    ElemType data;<br>    <span class="hljs-keyword">int</span> next;<br>&#125;SLinkList[MaxSize];<br><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>&#123;</span><br>    ElemType data;<br>    <span class="hljs-keyword">int</span> next;<br>&#125;;<br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span> <span class="hljs-title">SLinkList</span>[<span class="hljs-title">MaxSize</span>]</span><br></code></pre></td></tr></table></figure><blockquote><p>åº”ç”¨ï¼šæ“ä½œç³»ç»Ÿæ–‡ä»¶åˆ†é…è¡¨FAT</p></blockquote><h2 id="ğŸŒ¿é¡ºåºè¡¨å’Œé“¾è¡¨çš„æ¯”è¾ƒ"><a href="#ğŸŒ¿é¡ºåºè¡¨å’Œé“¾è¡¨çš„æ¯”è¾ƒ" class="headerlink" title="ğŸŒ¿é¡ºåºè¡¨å’Œé“¾è¡¨çš„æ¯”è¾ƒ"></a>ğŸŒ¿é¡ºåºè¡¨å’Œé“¾è¡¨çš„æ¯”è¾ƒ</h2><p><img src=".\24.png" alt="åˆ›å»º"></p><p><img src=".\25.png" alt="é”€æ¯"></p><p><img src=".\26.png" alt="æ’å…¥åˆ é™¤"></p><p><img src=".\27.png" alt="æŸ¥æ‰¾"></p><h2 id="ğŸ¦Šæ€ç»´å¯¼å›¾"><a href="#ğŸ¦Šæ€ç»´å¯¼å›¾" class="headerlink" title="ğŸ¦Šæ€ç»´å¯¼å›¾"></a>ğŸ¦Šæ€ç»´å¯¼å›¾</h2><p><img src=".\-1.jpg" alt=""></p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-è€ƒç ” -ç‹é“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GoF_å¯¹è±¡åˆ›å»ºæ¨¡å¼</title>
    <link href="/2021/01/27/GoF-%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%BC%8F/"/>
    <url>/2021/01/27/GoF-%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="å¯¹è±¡åˆ›å»ºâ€-æ¨¡å¼"><a href="#å¯¹è±¡åˆ›å»ºâ€-æ¨¡å¼" class="headerlink" title="å¯¹è±¡åˆ›å»ºâ€ æ¨¡å¼"></a>å¯¹è±¡åˆ›å»ºâ€ æ¨¡å¼</h1><p>é€šè¿‡â€œå¯¹è±¡åˆ›å»ºâ€ æ¨¡å¼ç»•å¼€newï¼Œæ¥<strong>é¿å…å¯¹è±¡åˆ›å»ºï¼ˆnewï¼‰è¿‡ç¨‹ä¸­æ‰€å¯¼è‡´çš„ç´§è€¦åˆ</strong>ï¼ˆä¾èµ–å…·ä½“ç±»ï¼‰ï¼Œä»è€Œæ”¯æŒå¯¹è±¡åˆ›å»ºçš„ç¨³å®šã€‚å®ƒæ˜¯æ¥å£æŠ½è±¡ä¹‹åçš„ç¬¬ä¸€æ­¥å·¥ä½œã€‚</p><p><strong>å…¸å‹æ¨¡å¼</strong>ï¼š</p><ul><li>Factory Method</li><li>Abstract Factory</li><li>Prototype</li><li>Builder</li></ul><h2 id="ğŸŒ¿Factory-Methodï¼ˆå·¥å‚æ–¹æ³•ï¼‰"><a href="#ğŸŒ¿Factory-Methodï¼ˆå·¥å‚æ–¹æ³•ï¼‰" class="headerlink" title="ğŸŒ¿Factory Methodï¼ˆå·¥å‚æ–¹æ³•ï¼‰"></a>ğŸŒ¿Factory Methodï¼ˆå·¥å‚æ–¹æ³•ï¼‰</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>å®šä¹‰ä¸€ä¸ªç”¨äº<strong>åˆ›å»ºå¯¹è±¡çš„æ¥å£</strong>ï¼Œè®©<strong>å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»</strong>ã€‚ Factory Methodä½¿å¾—ä¸€ä¸ªç±»çš„<strong>å®ä¾‹åŒ–å»¶è¿Ÿ</strong>ï¼ˆ<strong>ç›®çš„ï¼šè§£è€¦ï¼Œ æ‰‹æ®µï¼šè™šå‡½æ•°</strong>ï¼‰åˆ°å­ç±»ã€‚</p><h3 id="åŠ¨æœº"><a href="#åŠ¨æœº" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><ul><li>åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œç»å¸¸é¢ä¸´ç€åˆ›å»ºå¯¹è±¡çš„å·¥ä½œï¼›ç”±äºéœ€æ±‚çš„å˜åŒ–ï¼Œ <strong>éœ€è¦åˆ›å»ºçš„å¯¹è±¡çš„å…·ä½“ç±»å‹ç»å¸¸å˜åŒ–</strong>ã€‚</li><li>å¦‚ä½•åº”å¯¹è¿™ç§å˜åŒ–ï¼Ÿå¦‚ä½•ç»•è¿‡å¸¸è§„çš„å¯¹è±¡åˆ›å»ºæ–¹æ³•(new)ï¼Œæä¾›ä¸€ ç§â€œå°è£…æœºåˆ¶â€æ¥é¿å…å®¢æˆ·ç¨‹åºå’Œè¿™ç§â€œå…·ä½“å¯¹è±¡åˆ›å»ºå·¥ä½œâ€çš„ç´§è€¦åˆï¼Ÿ</li></ul><h3 id="æ ·ä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰"><a href="#æ ·ä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰" class="headerlink" title="æ ·ä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰"></a>æ ·ä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 1</span><br><span class="hljs-comment">/*FileSplitter1.cpp*/</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ISplitter</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">split</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">virtual</span> ~ISplitter()&#123;&#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BinarySplitter</span> :</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TxtSplitter</span>:</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PictureSplitter</span>:</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VideoSplitter</span>:</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-comment">/*****************************************************/</span><br><span class="hljs-comment">/*MainForm1.cpp*/</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainForm</span> :</span> <span class="hljs-keyword">public</span> Form<br>&#123;<br>TextBox* txtFilePath;<br>TextBox* txtFileNumber;<br>ProgressBar* progressBar;<br><br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Button1_Click</span><span class="hljs-params">()</span></span>&#123;<br><br><br><span class="hljs-comment">//ISplitter é¢å‘æ¥å£ç¼–ç¨‹</span><br>        <span class="hljs-comment">//ä¾èµ–å…·ä½“ç±»,æŠ½è±¡ä¾èµ–å…·ä½“å®ç°ï¼Œå³BinarySplitter</span><br>ISplitter * splitter=<br>            <span class="hljs-keyword">new</span> BinarySplitter();<br>        <br>        splitter-&gt;split();<br><br>&#125;<br>&#125;;<br></code></pre></td></tr></table></figure><blockquote><p>æ–¹æ³•ä¸€ä¸­ MainForm1ç¼–è¯‘ä¾èµ–äºFileSplitter1ï¼Œè¿åä¾èµ–å€’ç½®åŸåˆ™ï¼Œå½“éœ€è¦åˆ›å»ºçš„å¯¹è±¡æ”¹å˜æ—¶ï¼ŒMainForm1.cppæ–‡ä»¶ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 2</span><br><span class="hljs-comment">/*ISplitterFactory.cpp*/</span><br><span class="hljs-comment">//æŠ½è±¡ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ISplitter</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">split</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">virtual</span> ~ISplitter()&#123;&#125;<br>&#125;;<br><br><br><span class="hljs-comment">//å·¥å‚åŸºç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SplitterFactory</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ISplitter* <span class="hljs-title">CreateSplitter</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">virtual</span> ~SplitterFactory()&#123;&#125;<br>&#125;;<br><br><span class="hljs-comment">/*********************************************************************/</span><br><span class="hljs-comment">/*ISplitter.cpp*/</span><br><span class="hljs-comment">//å…·ä½“ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BinarySplitter</span> :</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TxtSplitter</span>:</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PictureSplitter</span>:</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VideoSplitter</span>:</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br>    <br>&#125;;<br><br><span class="hljs-comment">//å…·ä½“å·¥å‚</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BinarySplitterFactory</span>:</span> <span class="hljs-keyword">public</span> SplitterFactory&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ISplitter* <span class="hljs-title">CreateSplitter</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BinarySplitter();<br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TxtSplitterFactory</span>:</span> <span class="hljs-keyword">public</span> SplitterFactory&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ISplitter* <span class="hljs-title">CreateSplitter</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TxtSplitter();<br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PictureSplitterFactory</span>:</span> <span class="hljs-keyword">public</span> SplitterFactory&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ISplitter* <span class="hljs-title">CreateSplitter</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PictureSplitter();<br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VideoSplitterFactory</span>:</span> <span class="hljs-keyword">public</span> SplitterFactory&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ISplitter* <span class="hljs-title">CreateSplitter</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> VideoSplitter();<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">/************************************************************************/</span><br><span class="hljs-comment">/*MainForm2.cpp*/</span><br><span class="hljs-comment">// ï¼ï¼ï¼MainFormç°åœ¨åªä¾èµ–æŠ½è±¡åŸºç±»ï¼Œä¸ä¾èµ–å…·ä½“ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainForm</span> :</span> <span class="hljs-keyword">public</span> Form<br>&#123;<br>    SplitterFactory*  factory;<span class="hljs-comment">//å·¥å‚</span><br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">//åªä¾èµ–ä¸å¤–ç•Œä¼ æ¥çš„Splitterç±»å‹ï¼Œæ ¹æ®å¤–ç•Œä¼ æ¥çš„ç±»å‹å¤šæ€åˆ›å»º</span><br>    MainForm(SplitterFactory*  factory)&#123;<br>        <span class="hljs-keyword">this</span>-&gt;factory=factory;<br>    &#125;<br>    <br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Button1_Click</span><span class="hljs-params">()</span></span>&#123;<br><br>        <br>ISplitter * splitter=<br>            factory-&gt;CreateSplitter(); <span class="hljs-comment">//å¤šæ€new</span><br>        <br>        splitter-&gt;split();<br><br>&#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h3><p><img src=".\structrue.png" alt=""></p><h3 id="è¦ç‚¹æ€»ç»“"><a href="#è¦ç‚¹æ€»ç»“" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>Factory Methodæ¨¡å¼ç”¨äº<strong>éš”ç¦»ç±»å¯¹è±¡çš„ä½¿ç”¨è€…å’Œå…·ä½“ç±»å‹ä¹‹é—´çš„è€¦åˆå…³ç³»</strong>ã€‚é¢å¯¹ä¸€ä¸ªç»å¸¸å˜åŒ–çš„å…·ä½“ç±»å‹ï¼Œç´§è€¦åˆå…³ç³»(new)ä¼šå¯¼è‡´è½¯ä»¶çš„è„†å¼±ã€‚</li><li>Factory Methodæ¨¡å¼é€šè¿‡é¢å‘å¯¹è±¡çš„æ‰‹æ³•ï¼ˆ<strong>å¤šæ€</strong>ï¼‰ï¼Œå°†æ‰€è¦åˆ›å»ºçš„<strong>å…·ä½“å¯¹è±¡å·¥ä½œå»¶è¿Ÿåˆ°å­ç±»</strong>ï¼Œä»è€Œå®ç°ä¸€ç§<strong>æ‰©å±•ï¼ˆè€Œéæ›´æ”¹ï¼‰</strong>çš„ç­–ç•¥ï¼Œè¾ƒå¥½ åœ°è§£å†³äº†è¿™ç§ç´§è€¦åˆå…³ç³»ã€‚ </li><li>Factory Methodæ¨¡å¼è§£å†³â€œå•ä¸ªå¯¹è±¡â€çš„éœ€æ±‚å˜åŒ–ã€‚ç¼ºç‚¹åœ¨äºè¦æ±‚<strong>åˆ›å»ºæ–¹æ³•/å‚æ•°ç›¸åŒ</strong>ã€‚</li></ul><h2 id="ğŸŒ¿Abstract-Factoryï¼ˆæŠ½è±¡å·¥å‚ï¼‰"><a href="#ğŸŒ¿Abstract-Factoryï¼ˆæŠ½è±¡å·¥å‚ï¼‰" class="headerlink" title="ğŸŒ¿Abstract Factoryï¼ˆæŠ½è±¡å·¥å‚ï¼‰"></a>ğŸŒ¿Abstract Factoryï¼ˆæŠ½è±¡å·¥å‚ï¼‰</h2><h3 id="å®šä¹‰-1"><a href="#å®šä¹‰-1" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>æä¾›ä¸€ä¸ªæ¥å£ï¼Œè®©è¯¥æ¥å£è´Ÿè´£åˆ›å»º<strong>ä¸€ç³»åˆ—â€œç›¸å…³æˆ–è€…ç›¸äº’ä¾èµ–çš„å¯¹è±¡â€</strong>ï¼Œæ— éœ€æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±»ã€‚</p><h3 id="åŠ¨æœº-1"><a href="#åŠ¨æœº-1" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><p>åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œç»å¸¸é¢ä¸´ç€â€œ<strong>ä¸€ç³»åˆ—ç›¸äº’ä¾èµ–çš„å¯¹è±¡</strong>â€çš„åˆ›å»ºå·¥ä½œï¼›åŒæ—¶ï¼Œç”±äºéœ€æ±‚çš„å˜åŒ–ï¼Œå¾€å¾€å­˜åœ¨æ›´å¤šç³»åˆ—å¯¹è±¡çš„åˆ›å»ºå·¥ä½œã€‚ </p><p>å¦‚ä½•åº”å¯¹è¿™ç§å˜åŒ–ï¼Ÿå¦‚ä½•ç»•è¿‡å¸¸è§„çš„å¯¹è±¡åˆ›å»ºæ–¹æ³•(new)ï¼Œæä¾›ä¸€ ç§â€œå°è£…æœºåˆ¶â€æ¥é¿å…å®¢æˆ·ç¨‹åºå’Œè¿™ç§â€œå¤šç³»åˆ—å…·ä½“å¯¹è±¡åˆ›å»ºå·¥ä½œâ€ çš„ç´§è€¦åˆï¼Ÿ</p><h3 id="æ ·ä¾‹ğŸ‘‡ï¼ˆå†™æ•°æ®è®¿é—®ï¼‰"><a href="#æ ·ä¾‹ğŸ‘‡ï¼ˆå†™æ•°æ®è®¿é—®ï¼‰" class="headerlink" title="æ ·ä¾‹ğŸ‘‡ï¼ˆå†™æ•°æ®è®¿é—®ï¼‰"></a>æ ·ä¾‹ğŸ‘‡ï¼ˆå†™æ•°æ®è®¿é—®ï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 1 ç›´æ¥åˆ›å»º</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EmployeeDAO</span>&#123;</span><br>    <br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;EmployeeDO&gt; <span class="hljs-title">GetEmployees</span><span class="hljs-params">()</span></span>&#123;<br>        SqlConnection* connection =<br>            <span class="hljs-keyword">new</span> SqlConnection();<br>        connection-&gt;ConnectionString = <span class="hljs-string">&quot;...&quot;</span>;<br><br>        SqlCommand* command =<br>            <span class="hljs-keyword">new</span> SqlCommand();<br>        command-&gt;CommandText=<span class="hljs-string">&quot;...&quot;</span>;<br>        command-&gt;SetConnection(connection);<br><br>        SqlDataReader* reader = command-&gt;ExecuteReader();<br>        <span class="hljs-keyword">while</span> (reader-&gt;Read())&#123;<br><br>        &#125;<br><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// method 2 å·¥å‚æ–¹æ³•</span><br><span class="hljs-comment">//æ•°æ®åº“è®¿é—®æœ‰å…³çš„åŸºç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDBConnection</span>&#123;</span><br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDBConnectionFactory</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDBConnection* <span class="hljs-title">CreateDBConnection</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDBCommand</span>&#123;</span><br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDBCommandFactory</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDBCommand* <span class="hljs-title">CreateDBCommand</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDataReader</span>&#123;</span><br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDataReaderFactory</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDataReader* <span class="hljs-title">CreateDataReader</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>&#125;;<br><br><br><span class="hljs-comment">//å…·ä½“å®ç°</span><br><br><span class="hljs-comment">//æ”¯æŒSQL Server</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlConnection</span>:</span> <span class="hljs-keyword">public</span> IDBConnection&#123;<br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlConnectionFactory</span>:</span><span class="hljs-keyword">public</span> IDBConnectionFactory&#123;<br>    <br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlCommand</span>:</span> <span class="hljs-keyword">public</span> IDBCommand&#123;<br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlCommandFactory</span>:</span><span class="hljs-keyword">public</span> IDBCommandFactory&#123;<br>    <br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlDataReader</span>:</span> <span class="hljs-keyword">public</span> IDataReader&#123;<br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlDataReaderFactory</span>:</span><span class="hljs-keyword">public</span> IDataReaderFactory&#123;<br>    <br>&#125;;<br><br><span class="hljs-comment">//æ”¯æŒOracle</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OracleConnection</span>:</span> <span class="hljs-keyword">public</span> IDBConnection&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OracleCommand</span>:</span> <span class="hljs-keyword">public</span> IDBCommand&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OracleDataReader</span>:</span> <span class="hljs-keyword">public</span> IDataReader&#123;<br>    <br>&#125;;<br><br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EmployeeDAO</span>&#123;</span><br>    IDBConnectionFactory* dbConnectionFactory;<br>    IDBCommandFactory* dbCommandFactory;<br>    IDataReaderFactory* dataReaderFactory;<br>    <br>    <br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;EmployeeDO&gt; <span class="hljs-title">GetEmployees</span><span class="hljs-params">()</span></span>&#123;<br>        IDBConnection* connection =<br>            dbConnectionFactory-&gt;CreateDBConnection();<br>        connection-&gt;ConnectionString(<span class="hljs-string">&quot;...&quot;</span>);<br><br>        IDBCommand* command =<br>            dbCommandFactory-&gt;CreateDBCommand();<br>        command-&gt;CommandText(<span class="hljs-string">&quot;...&quot;</span>);<br>        command-&gt;SetConnection(connection); <span class="hljs-comment">//å…³è”æ€§</span><br><br>        IDBDataReader* reader = command-&gt;ExecuteReader(); <span class="hljs-comment">//å…³è”æ€§</span><br>        <span class="hljs-keyword">while</span> (reader-&gt;Read())&#123;<br><br>        &#125;<br><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><blockquote><p>é—®é¢˜ dbConnectionã€dbCommandã€dataReaderå­˜åœ¨å…³è”æ€§ï¼Œå¦‚æœä¼ è¿‡æ¥çš„å‚æ•°ä¸ä¸€æ ·æ€ä¹ˆåŠï¼Ÿ</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// Method 3 æŠ½è±¡å·¥å‚ï¼ˆfamilyï¼‰</span><br><span class="hljs-comment">//æ•°æ®åº“è®¿é—®æœ‰å…³çš„åŸºç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDBConnection</span>&#123;</span><br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDBCommand</span>&#123;</span><br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDataReader</span>&#123;</span><br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IDBFactory</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDBConnection* <span class="hljs-title">CreateDBConnection</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDBCommand* <span class="hljs-title">CreateDBCommand</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDataReader* <span class="hljs-title">CreateDataReader</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <br>&#125;;<br><br><span class="hljs-comment">//å…·ä½“å®ç°</span><br><span class="hljs-comment">//æ”¯æŒSQL Server</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlConnection</span>:</span> <span class="hljs-keyword">public</span> IDBConnection&#123;<br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlCommand</span>:</span> <span class="hljs-keyword">public</span> IDBCommand&#123;<br>    <br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlDataReader</span>:</span> <span class="hljs-keyword">public</span> IDataReader&#123;<br>    <br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SqlDBFactory</span>:</span><span class="hljs-keyword">public</span> IDBFactory&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDBConnection* <span class="hljs-title">CreateDBConnection</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDBCommand* <span class="hljs-title">CreateDBCommand</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> IDataReader* <span class="hljs-title">CreateDataReader</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br> <br>&#125;;<br><br><span class="hljs-comment">//æ”¯æŒOracle</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OracleConnection</span>:</span> <span class="hljs-keyword">public</span> IDBConnection&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OracleCommand</span>:</span> <span class="hljs-keyword">public</span> IDBCommand&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OracleDataReader</span>:</span> <span class="hljs-keyword">public</span> IDataReader&#123;<br>    <br>&#125;;<br><br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EmployeeDAO</span>&#123;</span><br>    IDBFactory* dbFactory;<br>    <br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;EmployeeDO&gt; <span class="hljs-title">GetEmployees</span><span class="hljs-params">()</span></span>&#123;<br>        IDBConnection* connection =<br>            dbFactory-&gt;CreateDBConnection();<br>        connection-&gt;ConnectionString(<span class="hljs-string">&quot;...&quot;</span>);<br><br>        IDBCommand* command =<br>            dbFactory-&gt;CreateDBCommand();<br>        command-&gt;CommandText(<span class="hljs-string">&quot;...&quot;</span>);<br>        command-&gt;SetConnection(connection); <span class="hljs-comment">//å…³è”æ€§</span><br><br>        IDBDataReader* reader = command-&gt;ExecuteReader(); <span class="hljs-comment">//å…³è”æ€§</span><br>        <span class="hljs-keyword">while</span> (reader-&gt;Read())&#123;<br><br>        &#125;<br><br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h3 id="ç»“æ„-1"><a href="#ç»“æ„-1" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h3><p><img src=".\structrue2.png" alt=""></p><h3 id="è¦ç‚¹æ€»ç»“-1"><a href="#è¦ç‚¹æ€»ç»“-1" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>å¦‚æœ<strong>æ²¡æœ‰åº”å¯¹â€œå¤šç³»åˆ—å¯¹è±¡æ„å»ºâ€</strong>çš„éœ€æ±‚å˜åŒ–ï¼Œåˆ™æ²¡æœ‰å¿…è¦ä½¿ç”¨Abstract Factoryæ¨¡å¼ï¼Œè¿™æ—¶å€™ä½¿ç”¨ç®€å•çš„å·¥å‚å®Œå…¨å¯ä»¥ã€‚</li><li>â€œç³»åˆ—å¯¹è±¡â€æŒ‡çš„æ˜¯åœ¨æŸä¸€ç‰¹å®šç³»åˆ—ä¸‹çš„å¯¹è±¡ä¹‹é—´<strong>æœ‰ç›¸äº’ä¾èµ–ã€ æˆ–ä½œç”¨çš„å…³ç³»</strong>ã€‚ä¸åŒç³»åˆ—çš„å¯¹è±¡ä¹‹é—´ä¸èƒ½ç›¸äº’ä¾èµ–ã€‚ </li><li>Abstract Factoryæ¨¡å¼ä¸»è¦åœ¨äº<strong>åº”å¯¹â€œæ–°ç³»åˆ—â€</strong>çš„éœ€æ±‚å˜åŠ¨ã€‚å…¶ç¼º ç‚¹åœ¨äº<strong>éš¾ä»¥åº”å¯¹â€œæ–°å¯¹è±¡â€</strong>çš„éœ€æ±‚å˜åŠ¨ã€‚</li></ul><h2 id="ğŸŒ¿Prototypeï¼ˆåŸå‹æ¨¡å¼ï¼‰"><a href="#ğŸŒ¿Prototypeï¼ˆåŸå‹æ¨¡å¼ï¼‰" class="headerlink" title="ğŸŒ¿Prototypeï¼ˆåŸå‹æ¨¡å¼ï¼‰"></a>ğŸŒ¿Prototypeï¼ˆåŸå‹æ¨¡å¼ï¼‰</h2><h3 id="å®šä¹‰-2"><a href="#å®šä¹‰-2" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>ä½¿ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œç„¶åæ‹·è´è¿™äº›åŸå‹åˆ›å»ºæ–°å¯¹è±¡ã€‚ </p><h3 id="åŠ¨æœº-2"><a href="#åŠ¨æœº-2" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><ul><li>åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œç»å¸¸é¢ä¸´ç€â€œ<strong>æŸäº›ç»“æ„å¤æ‚çš„å¯¹è±¡</strong>â€çš„<strong>åˆ›å»ºå·¥ä½œ</strong>ï¼›ç”±äºéœ€æ±‚çš„å˜åŒ–ï¼Œè¿™äº›å¯¹è±¡ç»å¸¸é¢ä¸´ç€å‰§çƒˆçš„å˜åŒ–ï¼Œä½†æ˜¯å´æ‹¥æœ‰æ¯”è¾ƒç¨³å®šä¸€è‡´çš„æ¥å£</li><li>å¦‚ä½•åº”å¯¹è¿™ç§å˜åŒ–ï¼Ÿå¦‚ä½•å‘â€œå®¢æˆ·ç¨‹åºï¼ˆä½¿ç”¨è¿™äº›å¯¹è±¡çš„ç¨‹åºï¼‰â€éš”ç¦»å‡ºâ€œè¿™äº›æ˜“å˜å¯¹è±¡ï¼Œä»è€Œä½¿å¾—â€ä¾èµ–è¿™äº›æ˜“å˜å¯¹è±¡çš„å®¢æˆ·ç¨‹åºâ€œä¸éšç€éœ€æ±‚å‘ç”Ÿæ”¹å˜ï¼Ÿ</li></ul><h3 id="æ ·ä¾‹ï¼ˆå·¥å‚çš„é‚£ä¸ªæ–‡ä»¶åˆ†å‰²å™¨ï¼‰ğŸ‘‡"><a href="#æ ·ä¾‹ï¼ˆå·¥å‚çš„é‚£ä¸ªæ–‡ä»¶åˆ†å‰²å™¨ï¼‰ğŸ‘‡" class="headerlink" title="æ ·ä¾‹ï¼ˆå·¥å‚çš„é‚£ä¸ªæ–‡ä»¶åˆ†å‰²å™¨ï¼‰ğŸ‘‡"></a>æ ·ä¾‹ï¼ˆå·¥å‚çš„é‚£ä¸ªæ–‡ä»¶åˆ†å‰²å™¨ï¼‰ğŸ‘‡</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//ğŸ‘‡ä¸ºPrototype   ï¼ï¼æ³¨æ„è§‚å¯Ÿä¸å·¥å‚æ¨¡å¼çš„åŒºåˆ«</span><br><span class="hljs-comment">//æŠ½è±¡ç±» Prototype.cpp</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ISplitter</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">split</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ISplitter* <span class="hljs-title">clone</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>; <span class="hljs-comment">//é€šè¿‡å…‹éš†è‡ªå·±æ¥åˆ›å»ºå¯¹è±¡</span><br>    <br>    <span class="hljs-keyword">virtual</span> ~ISplitter()&#123;&#125;<br><br>&#125;;<br><br><br><span class="hljs-comment">//å…·ä½“ç±» ConcretePrototype.cpp</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BinarySplitter</span> :</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ISplitter* <span class="hljs-title">clone</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BinarySplitter(*<span class="hljs-keyword">this</span>);<br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TxtSplitter</span>:</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ISplitter* <span class="hljs-title">clone</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TxtSplitter(*<span class="hljs-keyword">this</span>);<br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PictureSplitter</span>:</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ISplitter* <span class="hljs-title">clone</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PictureSplitter(*<span class="hljs-keyword">this</span>);<br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VideoSplitter</span>:</span> <span class="hljs-keyword">public</span> ISplitter&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ISplitter* <span class="hljs-title">clone</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> VideoSplitter(*<span class="hljs-keyword">this</span>);<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">//Client.cpp</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainForm</span> :</span> <span class="hljs-keyword">public</span> Form<br>&#123;<br>    ISplitter*  prototype;<span class="hljs-comment">//åŸå‹å¯¹è±¡</span><br><br><span class="hljs-keyword">public</span>:<br>    <br>    MainForm(ISplitter*  prototype)&#123;<br>        <span class="hljs-keyword">this</span>-&gt;prototype=prototype;<br>    &#125;<br>    <br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Button1_Click</span><span class="hljs-params">()</span></span>&#123;<br><br>ISplitter * splitter=<br>            prototype-&gt;clone(); <span class="hljs-comment">//å…‹éš†åŸå‹</span><br>        <br>        splitter-&gt;split();<br>        <br>        <br><br>&#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h3 id="ç»“æ„-2"><a href="#ç»“æ„-2" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h3><p><img src=".\stuctrue3.png" alt=""></p><h3 id="è¦ç‚¹æ€»ç»“-2"><a href="#è¦ç‚¹æ€»ç»“-2" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>Prototypeæ¨¡å¼åŒæ ·ç”¨äº<strong>éš”ç¦»ç±»çš„ä½¿ç”¨è€…å’Œå…·ä½“ç±»å‹ï¼ˆæ˜“å˜ç±»ï¼‰ä¹‹é—´çš„è€¦åˆå…³ç³»</strong>ï¼Œå®ƒåŒæ ·è¦æ±‚è¿™äº›â€œæ˜“å˜ç±»â€æ‹¥æœ‰â€œç¨³å®šçš„æ¥å£â€ã€‚</li><li>Prototypeæ¨¡å¼å¯¹äºâ€œå¦‚ä½•åˆ›å»ºæ˜“å˜ç±»çš„å®ä½“å¯¹è±¡â€é‡‡ç”¨â€œ<strong>åŸå‹å…‹éš†</strong>â€çš„æ–¹æ³•æ¥åšï¼Œå®ƒä½¿å¾—æˆ‘ä»¬å¯ä»¥éå¸¸çµæ´»åœ°åˆ›å»ºâ€œ<strong>æ‹¥æœ‰æŸäº›ç¨³å®šæ¥å£</strong>â€çš„æ–°å¯¹è±¡â€”â€”æ‰€éœ€å·¥ä½œä»…ä»…æ˜¯æ³¨å†Œä¸€ä¸ªæ–°ç±»çš„å¯¹è±¡ï¼ˆåŸå‹ï¼‰ç„¶ååœ¨ä»»ä½•éœ€è¦çš„åœ°æ–¹Clone</li><li>Prototypeæ¨¡å¼ä¸­çš„Cloneæ–¹æ³•å¯ä»¥åˆ©ç”¨æŸäº›æ¡†æ¶ä¸­çš„åºåˆ—åŒ–ï¼ˆjava c#ï¼‰æ¥æ·±æ‹·è´ã€‚</li></ul><blockquote><p>åŸå‹å’Œå·¥å‚æ¨¡å¼çš„åŒºåˆ« â€œå¯¹è±¡åˆå§‹åŒ–æ˜¯å¦å¤æ‚â€</p></blockquote><h2 id="ğŸŒ¿Builder-æ„å»ºå™¨"><a href="#ğŸŒ¿Builder-æ„å»ºå™¨" class="headerlink" title="ğŸŒ¿Builder æ„å»ºå™¨"></a>ğŸŒ¿Builder æ„å»ºå™¨</h2><h3 id="å®šä¹‰-3"><a href="#å®šä¹‰-3" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„<strong>æ„å»ºä¸å…¶è¡¨ç¤ºç›¸åˆ†ç¦»</strong>ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹(ç¨³å®š)å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤º(å˜åŒ–)ã€‚</p><h3 id="åŠ¨æœº-3"><a href="#åŠ¨æœº-3" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><ul><li>åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œæœ‰æ—¶å€™é¢ä¸´ç€â€œä¸€ä¸ªå¤æ‚å¯¹è±¡â€çš„åˆ›å»ºå·¥ä½œï¼Œå…¶é€šå¸¸ç”±<strong>å„ä¸ªéƒ¨åˆ†çš„å­å¯¹è±¡ç”¨ä¸€å®šçš„ç®—æ³•</strong>æ„æˆï¼›ç”±äºéœ€æ±‚çš„å˜åŒ–ï¼Œè¿™ä¸ªå¤æ‚å¯¹è±¡çš„<strong>å„ä¸ªéƒ¨åˆ†ç»å¸¸é¢ä¸´ç€å‰§çƒˆçš„å˜åŒ–</strong>ï¼Œä½†æ˜¯å°†å®ƒä»¬<strong>ç»„åˆåœ¨ä¸€èµ·çš„ç®—æ³•å´ç›¸å¯¹ç¨³å®š</strong>ã€‚ </li><li>å¦‚ä½•åº”å¯¹è¿™ç§å˜åŒ–ï¼Ÿå¦‚ä½•æä¾›ä¸€ç§â€œå°è£…æœºåˆ¶â€æ¥éš”ç¦»å‡ºâ€œå¤æ‚å¯¹è±¡çš„å„ä¸ªéƒ¨åˆ†â€çš„å˜åŒ–ï¼Œä»è€Œä¿æŒç³»ç»Ÿä¸­çš„â€œç¨³å®šæ„å»ºç®—æ³•â€ä¸éšç€éœ€æ±‚æ”¹å˜è€Œæ”¹å˜ï¼Ÿ</li></ul><h3 id="æ ·ä¾‹ï¼ˆæ¸¸æˆä¸­åˆ›å»ºæˆ¿å­çš„æµç¨‹ï¼‰ğŸ‘‡"><a href="#æ ·ä¾‹ï¼ˆæ¸¸æˆä¸­åˆ›å»ºæˆ¿å­çš„æµç¨‹ï¼‰ğŸ‘‡" class="headerlink" title="æ ·ä¾‹ï¼ˆæ¸¸æˆä¸­åˆ›å»ºæˆ¿å­çš„æµç¨‹ï¼‰ğŸ‘‡"></a>æ ·ä¾‹ï¼ˆæ¸¸æˆä¸­åˆ›å»ºæˆ¿å­çš„æµç¨‹ï¼‰ğŸ‘‡</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs c++"><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">House</span>&#123;</span><br>    <span class="hljs-comment">//....</span><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HouseBuilder</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">House* <span class="hljs-title">GetResult</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> pHouse;<br>    &#125;<br>    <span class="hljs-keyword">virtual</span> ~HouseBuilder()&#123;&#125;<br><span class="hljs-keyword">protected</span>:<br>    <span class="hljs-comment">//å³å…ƒæˆ–å†…éƒ¨æŒ‡é’ˆ</span><br>    House* pHouse;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BuildPart1</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BuildPart2</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BuildPart3</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BuildPart4</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BuildPart5</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StoneHouse</span>:</span> <span class="hljs-keyword">public</span> House&#123;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StoneHouseBuilder</span>:</span> <span class="hljs-keyword">public</span> HouseBuilder&#123;<br><span class="hljs-keyword">protected</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BuildPart1</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//pHouse-&gt;Part1 = ...;</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BuildPart2</span><span class="hljs-params">()</span></span>&#123;<br>        <br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BuildPart3</span><span class="hljs-params">()</span></span>&#123;<br>        <br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BuildPart4</span><span class="hljs-params">()</span></span>&#123;<br>        <br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BuildPart5</span><span class="hljs-params">()</span></span>&#123;<br>        <br>    &#125;<br>    <br>&#125;;<span class="hljs-number">44</span><br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HouseDirector</span>&#123;</span><br>    <br><span class="hljs-keyword">public</span>:<br>    HouseBuilder* pHouseBuilder;<br>    <br>    HouseDirector(HouseBuilder* pHouseBuilder)&#123;<br>        <span class="hljs-keyword">this</span>-&gt;pHouseBuilder=pHouseBuilder;<br>    &#125;<br>    <br>    <span class="hljs-function">House* <span class="hljs-title">Construct</span><span class="hljs-params">()</span></span>&#123;<br>        <br>        pHouseBuilder-&gt;BuildPart1();<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)&#123;<br>            pHouseBuilder-&gt;BuildPart2();<br>        &#125;<br>        <br>        <span class="hljs-keyword">bool</span> flag=pHouseBuilder-&gt;BuildPart3();<br>        <br>        <span class="hljs-keyword">if</span>(flag)&#123;<br>            pHouseBuilder-&gt;BuildPart4();<br>        &#125;<br>        <br>        pHouseBuilder-&gt;BuildPart5();<br>        <br>        <span class="hljs-keyword">return</span> pHouseBuilder-&gt;GetResult();<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><blockquote><p>ä¸template method æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™</p></blockquote><h3 id="ç»“æ„-3"><a href="#ç»“æ„-3" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h3><p><img src=".\stuctrue4.png" alt=""></p><h3 id="è¦ç‚¹æ€»ç»“-3"><a href="#è¦ç‚¹æ€»ç»“-3" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>Builder æ¨¡å¼ä¸»è¦ç”¨äºâ€œåˆ†æ­¥éª¤æ„å»ºä¸€ä¸ªå¤æ‚çš„å¯¹è±¡â€ã€‚åœ¨è¿™å…¶ä¸­ <strong>â€œåˆ†æ­¥éª¤â€æ˜¯ä¸€ä¸ªç¨³å®šçš„ç®—æ³•</strong>ï¼Œè€Œå¤æ‚å¯¹è±¡çš„å„ä¸ªéƒ¨åˆ†åˆ™ç»å¸¸å˜åŒ–ã€‚ </li><li>å˜åŒ–ç‚¹åœ¨å“ªé‡Œï¼Œå°è£…å“ªé‡Œâ€”â€” Builderæ¨¡å¼ä¸»è¦åœ¨äºåº”å¯¹â€œå¤æ‚å¯¹ è±¡å„ä¸ªéƒ¨åˆ†â€çš„é¢‘ç¹éœ€æ±‚å˜åŠ¨ã€‚å…¶ç¼ºç‚¹åœ¨äºéš¾ä»¥åº”å¯¹â€œåˆ†æ­¥éª¤æ„å»º ç®—æ³•â€çš„éœ€æ±‚å˜åŠ¨ã€‚ </li><li>åœ¨Builderæ¨¡å¼ä¸­ï¼Œè¦æ³¨æ„ä¸åŒè¯­è¨€ä¸­æ„é€ å™¨å†…è°ƒç”¨è™šå‡½æ•°çš„å·®åˆ« ï¼ˆC++ vs. C#) ã€‚</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>-è®¾è®¡æ¨¡å¼ -cpp -æå»ºå¿ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GoF_å•ä¸€èŒè´£</title>
    <link href="/2021/01/24/GoF-%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3/"/>
    <url>/2021/01/24/GoF-%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3/</url>
    
    <content type="html"><![CDATA[<h1 id="â€œå•ä¸€èŒè´£â€æ¨¡å¼"><a href="#â€œå•ä¸€èŒè´£â€æ¨¡å¼" class="headerlink" title="â€œå•ä¸€èŒè´£â€æ¨¡å¼"></a>â€œå•ä¸€èŒè´£â€æ¨¡å¼</h1><p>åœ¨è½¯ä»¶ç»„ä»¶çš„è®¾è®¡ä¸­ï¼Œå¦‚æœè´£ä»»åˆ’åˆ†çš„ä¸æ¸…æ™°ï¼Œä½¿ç”¨ç»§æ‰¿å¾—åˆ°çš„ç»“æœå¾€å¾€æ˜¯éšç€éœ€æ±‚çš„å˜åŒ–ï¼Œå­ç±»æ€¥å‰§è†¨èƒ€ï¼ŒåŒæ—¶å……æ–¥ç€é‡å¤ä»£ç ï¼Œ è¿™æ—¶å€™çš„å…³é”®æ˜¯åˆ’æ¸…è´£ä»»ã€‚</p><p><strong>å…¸å‹æ¨¡å¼:</strong></p><ul><li>Decorator</li><li>Bridge</li></ul><h2 id="ğŸŒ¿Decorator"><a href="#ğŸŒ¿Decorator" class="headerlink" title="ğŸŒ¿Decorator"></a>ğŸŒ¿Decorator</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>åŠ¨æ€ï¼ˆç»„åˆï¼‰åœ°ç»™ä¸€ä¸ªå¯¹è±¡å¢åŠ ä¸€äº›é¢å¤–çš„èŒè´£ã€‚<strong>å°±å¢åŠ åŠŸèƒ½è€Œè¨€ï¼ŒDecoratoræ¨¡å¼æ¯”ç”Ÿæˆå­ç±»ï¼ˆç»§æ‰¿ï¼‰æ›´ä¸ºçµæ´»</strong>ï¼ˆæ¶ˆé™¤é‡å¤ä»£ç  &amp; å‡å°‘å­ç±»ä¸ªæ•°ï¼‰ã€‚</p><h3 id="åŠ¨æœºï¼ˆMotivationï¼‰"><a href="#åŠ¨æœºï¼ˆMotivationï¼‰" class="headerlink" title="åŠ¨æœºï¼ˆMotivationï¼‰"></a>åŠ¨æœºï¼ˆMotivationï¼‰</h3><ul><li>åœ¨æŸäº›æƒ…å†µä¸‹æˆ‘ä»¬å¯èƒ½ä¼šâ€œ<strong>è¿‡åº¦åœ°ä½¿ç”¨ç»§æ‰¿æ¥æ‰©å±•å¯¹è±¡çš„åŠŸèƒ½</strong>â€ ï¼Œ ç”±äºç»§æ‰¿ä¸ºç±»å‹å¼•å…¥çš„<strong>é™æ€ç‰¹è´¨</strong>ï¼ˆä¿®æ”¹æ¢æˆæŒ‡é’ˆå¤šæ€å®ç°ï¼‰ï¼Œä½¿å¾—è¿™ç§æ‰©å±•æ–¹å¼ç¼ºä¹çµæ´»æ€§ï¼› å¹¶ä¸”éšç€å­ç±»çš„å¢å¤šï¼ˆæ‰©å±•åŠŸèƒ½çš„å¢å¤šï¼‰ï¼Œå„ç§å­ç±»çš„ç»„åˆï¼ˆæ‰©å±•åŠŸèƒ½çš„ç»„åˆï¼‰ä¼šå¯¼è‡´æ›´å¤šå­ç±»çš„è†¨èƒ€ã€‚</li><li>å¦‚ä½•ä½¿â€œå¯¹è±¡åŠŸèƒ½çš„æ‰©å±•â€èƒ½å¤Ÿæ ¹æ®éœ€è¦æ¥åŠ¨æ€åœ°å®ç°ï¼ŸåŒæ—¶é¿ å…â€œæ‰©å±•åŠŸèƒ½çš„å¢å¤šâ€å¸¦æ¥çš„å­ç±»è†¨èƒ€é—®é¢˜ï¼Ÿä»è€Œä½¿å¾—ä»»ä½•â€œåŠŸèƒ½ æ‰©å±•å˜åŒ–â€æ‰€å¯¼è‡´çš„å½±å“å°†ä¸ºæœ€ä½ï¼Ÿ</li></ul><h3 id="æ ·ä¾‹ğŸ‘‡ï¼ˆstreamæ“ä½œï¼‰"><a href="#æ ·ä¾‹ğŸ‘‡ï¼ˆstreamæ“ä½œï¼‰" class="headerlink" title="æ ·ä¾‹ğŸ‘‡ï¼ˆstreamæ“ä½œï¼‰"></a>æ ·ä¾‹ğŸ‘‡ï¼ˆstreamæ“ä½œï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//ä¸šåŠ¡æ“ä½œ method 1</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Stream</span>&#123;</span><br><span class="hljs-keyword">public</span>ï¼š<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>=<span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">virtual</span> ~Stream()&#123;&#125;<br>&#125;;<br><br><span class="hljs-comment">//ä¸»ä½“ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileStream</span>:</span> <span class="hljs-keyword">public</span> Stream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <span class="hljs-comment">//è¯»æ–‡ä»¶æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//å®šä½æ–‡ä»¶æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>&#123;<br>        <span class="hljs-comment">//å†™æ–‡ä»¶æµ</span><br>    &#125;<br><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NetworkStream</span> :</span><span class="hljs-keyword">public</span> Stream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <span class="hljs-comment">//è¯»ç½‘ç»œæµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//å®šä½ç½‘ç»œæµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>&#123;<br>        <span class="hljs-comment">//å†™ç½‘ç»œæµ</span><br>    &#125;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MemoryStream</span> :</span><span class="hljs-keyword">public</span> Stream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <span class="hljs-comment">//è¯»å†…å­˜æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//å®šä½å†…å­˜æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>&#123;<br>        <span class="hljs-comment">//å†™å†…å­˜æµ</span><br>    &#125;<br>    <br>&#125;;<br><br><span class="hljs-comment">//æ‰©å±•æ“ä½œ</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CryptoFileStream</span> :</span><span class="hljs-keyword">public</span> FileStream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>       <br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        FileStream::Read(number);<span class="hljs-comment">//è¯»æ–‡ä»¶æµ</span><br>        <br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        FileStream::Seek(position);<span class="hljs-comment">//å®šä½æ–‡ä»¶æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(byte data)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        FileStream::Write(data);<span class="hljs-comment">//å†™æ–‡ä»¶æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CryptoNetworkStream</span> :</span> :<span class="hljs-keyword">public</span> NetworkStream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        NetworkStream::Read(number);<span class="hljs-comment">//è¯»ç½‘ç»œæµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        NetworkStream::Seek(position);<span class="hljs-comment">//å®šä½ç½‘ç»œæµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(byte data)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        NetworkStream::Write(data);<span class="hljs-comment">//å†™ç½‘ç»œæµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CryptoMemoryStream</span> :</span> <span class="hljs-keyword">public</span> MemoryStream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        MemoryStream::Read(number);<span class="hljs-comment">//è¯»å†…å­˜æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        MemoryStream::Seek(position);<span class="hljs-comment">//å®šä½å†…å­˜æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(byte data)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        MemoryStream::Write(data);<span class="hljs-comment">//å†™å†…å­˜æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BufferedFileStream</span> :</span> <span class="hljs-keyword">public</span> FileStream&#123;<br>    <span class="hljs-comment">//...</span><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BufferedNetworkStream</span> :</span> <span class="hljs-keyword">public</span> NetworkStream&#123;<br>    <span class="hljs-comment">//...</span><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BufferedMemoryStream</span> :</span> <span class="hljs-keyword">public</span> MemoryStream&#123;<br>    <span class="hljs-comment">//...</span><br>&#125;<br><br><br><br><span class="hljs-comment">//å³åŠ å¯†åˆç¼“å†²</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CryptoBufferedFileStream</span> :</span><span class="hljs-keyword">public</span> FileStream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        <span class="hljs-comment">//é¢å¤–çš„ç¼“å†²æ“ä½œ...</span><br>        FileStream::Read(number);<span class="hljs-comment">//è¯»æ–‡ä»¶æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        <span class="hljs-comment">//é¢å¤–çš„ç¼“å†²æ“ä½œ...</span><br>        FileStream::Seek(position);<span class="hljs-comment">//å®šä½æ–‡ä»¶æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        <span class="hljs-comment">//é¢å¤–çš„ç¼“å†²æ“ä½œ...</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(byte data)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        <span class="hljs-comment">//é¢å¤–çš„ç¼“å†²æ“ä½œ...</span><br>        FileStream::Write(data);<span class="hljs-comment">//å†™æ–‡ä»¶æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        <span class="hljs-comment">//é¢å¤–çš„ç¼“å†²æ“ä½œ...</span><br>    &#125;<br>&#125;;<br><br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Process</span><span class="hljs-params">()</span></span>&#123;<br><br>        <span class="hljs-comment">//ç¼–è¯‘æ—¶è£…é…</span><br>    CryptoFileStream *fs1 = <span class="hljs-keyword">new</span> CryptoFileStream();<br><br>    BufferedFileStream *fs2 = <span class="hljs-keyword">new</span> BufferedFileStream();<br><br>    CryptoBufferedFileStream *fs3 =<span class="hljs-keyword">new</span> CryptoBufferedFileStream();<br><br>&#125;<br></code></pre></td></tr></table></figure><p><img src=".\structure.png" alt="çœŸçš„æ˜¯ç»§æ‰¿å…³ç³»å˜›ï¼Ÿ"></p><blockquote><p>ç±»çš„æ•°é‡  1+n+n*ï¼ˆmï¼/2ï¼‰   mï¼/2ä¸ºå­ç±»ç›¸äº’ç»„åˆï¼Œreadï¼Œseekï¼Œwriteä»£ç è¢«å¤§é‡é‡å¤</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//ä¸šåŠ¡æ“ä½œ method2 ç¼–è¯‘æ—¶å¤ç”¨ï¼Œè¿è¡Œæ˜¯å¤šæ€å˜åŒ–</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Stream</span>&#123;</span><br><br><span class="hljs-keyword">public</span>ï¼š<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>=<span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">virtual</span> ~Stream()&#123;&#125;<br>&#125;;<br><br><span class="hljs-comment">//ä¸»ä½“ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileStream</span>:</span> <span class="hljs-keyword">public</span> Stream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <span class="hljs-comment">//è¯»æ–‡ä»¶æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//å®šä½æ–‡ä»¶æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>&#123;<br>        <span class="hljs-comment">//å†™æ–‡ä»¶æµ</span><br>    &#125;<br><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NetworkStream</span> :</span><span class="hljs-keyword">public</span> Stream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <span class="hljs-comment">//è¯»ç½‘ç»œæµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//å®šä½ç½‘ç»œæµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>&#123;<br>        <span class="hljs-comment">//å†™ç½‘ç»œæµ</span><br>    &#125;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MemoryStream</span> :</span><span class="hljs-keyword">public</span> Stream&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>        <span class="hljs-comment">//è¯»å†…å­˜æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//å®šä½å†…å­˜æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(<span class="hljs-keyword">char</span> data)</span></span>&#123;<br>        <span class="hljs-comment">//å†™å†…å­˜æµ</span><br>    &#125;<br>    <br>&#125;;<br><br><span class="hljs-comment">//æ‰©å±•æ“ä½œï¼Œï¼ï¼ç»„åˆä¼˜äºç»§æ‰¿ï¼Œç±»ä¸­å®šä¹‰æµæ˜¯ä¸ºäº†å®ç°ç»„åˆï¼Œç»§æ‰¿ä¸ºäº†å®ç°è™šå‡½æ•°æ¥å£è§„èŒƒï¼ŒDecoratorStreamä¸­é—´ç±»ã€‚</span><br><br>DecoratorStream: <span class="hljs-keyword">public</span> Stream&#123;<br><span class="hljs-keyword">protected</span>:<br>    Stream* stream;<span class="hljs-comment">//...</span><br>    <br>    DecoratorStream(Stream * stm):stream(stm)&#123;<br>    <br>    &#125;<br>    <br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CryptoStream</span>:</span> <span class="hljs-keyword">public</span> DecoratorStream &#123;<br> <br><br><span class="hljs-keyword">public</span>:<br>    CryptoStream(Stream* stm):DecoratorStream(stm)&#123;<br>    <br>    &#125;<br>    <br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">char</span> <span class="hljs-title">Read</span><span class="hljs-params">(<span class="hljs-keyword">int</span> number)</span></span>&#123;<br>       <br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        stream-&gt;Read(number);<span class="hljs-comment">//è¯»æ–‡ä»¶æµ</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Seek</span><span class="hljs-params">(<span class="hljs-keyword">int</span> position)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        stream::Seek(position);<span class="hljs-comment">//å®šä½æ–‡ä»¶æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Write</span><span class="hljs-params">(byte data)</span></span>&#123;<br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>        stream::Write(data);<span class="hljs-comment">//å†™æ–‡ä»¶æµ</span><br>        <span class="hljs-comment">//é¢å¤–çš„åŠ å¯†æ“ä½œ...</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BufferedStream</span> :</span> <span class="hljs-keyword">public</span> DecoratorStream&#123;<br>    <br>    Stream* stream;<span class="hljs-comment">//...</span><br>    <br><span class="hljs-keyword">public</span>:<br>    BufferedStream(Stream* stm):DecoratorStream(stm)&#123;<br>        <br>    &#125;<br>    <span class="hljs-comment">//...</span><br>&#125;;<br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Process</span><span class="hljs-params">()</span></span>&#123;<br><br>    <span class="hljs-comment">//è¿è¡Œæ—¶è£…é…</span><br>    FileStream* s1=<span class="hljs-keyword">new</span> FileStream();<br>    <br>    <span class="hljs-comment">//æ‰©å±•æ“ä½œï¼Œå¿…é¡»ä¼ ä¸€ä¸ªå¯¹è±¡ !!è£…é¥°çš„å«ä¹‰</span><br>    CryptoStream* s2=<span class="hljs-keyword">new</span> CryptoStream(s1);<br>    <br>    BufferedStream* s3=<span class="hljs-keyword">new</span> BufferedStream(s1);<br>    <br>    <span class="hljs-comment">//å¥—å¨ƒ</span><br>    BufferedStream* s4=<span class="hljs-keyword">new</span> BufferedStream(s2);<br>&#125;<br></code></pre></td></tr></table></figure><p><img src=".\structure2.png" alt=""></p><blockquote><p>ç±»çš„æ•°é‡  1+n+1+m</p></blockquote><p>æ ¹æœ¬åŸå› æ˜¯å¯¹ç»§æ‰¿çš„ä¸æ°å½“ä½¿ç”¨ï¼Œé€ æˆå¤§é‡é‡å¤ä»£ç </p><h3 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h3><p><img src=".\123.png" alt="å¯¹åº”å‰ä¸€ä¸ªå›¾çš„ç»“æ„"></p><h3 id="è¦ç‚¹æ€»ç»“"><a href="#è¦ç‚¹æ€»ç»“" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>é€šè¿‡é‡‡ç”¨ç»„åˆè€Œéç»§æ‰¿çš„æ‰‹æ³•ï¼Œ Decoratoræ¨¡å¼å®ç°äº†åœ¨<strong>è¿è¡Œæ—¶åŠ¨æ€æ‰©å±•å¯¹è±¡åŠŸèƒ½</strong>çš„èƒ½åŠ›ï¼Œè€Œä¸”å¯ä»¥æ ¹æ®éœ€è¦æ‰©å±•å¤šä¸ªåŠŸèƒ½ã€‚é¿å…äº†ä½¿ç”¨ç»§æ‰¿å¸¦æ¥çš„â€œçµæ´»æ€§å·®â€å’Œâ€œå¤šå­ç±»è¡ç”Ÿé—®é¢˜â€ ã€‚ </li><li>Decoratorç±»åœ¨æ¥å£ä¸Šè¡¨ç°ä¸º<strong>is-a Component</strong>çš„ç»§æ‰¿å…³ç³»ï¼Œå³ Decoratorç±»ç»§æ‰¿äº†Componentç±»æ‰€å…·æœ‰çš„æ¥å£ã€‚ä½†åœ¨å®ç°ä¸Šåˆ è¡¨ç°ä¸º<strong>has-a Component</strong>çš„ç»„åˆå…³ç³»ï¼Œå³Decoratorç±»åˆä½¿ç”¨äº† å¦å¤–ä¸€ä¸ªComponentç±»ï¼ˆå³ç»§æ‰¿Componentâ€”?ä¸ºäº†æ¥å£å®Œå–„çš„è§„èŒƒï¼ŒåŒæ—¶ä¹Ÿæœ‰Componentå­—æ®µâ€”&gt;ç»„åˆä¸ºäº†æ”¯æŒå°†æ¥å®ç°ï¼‰ã€‚ </li><li>Decoratoræ¨¡å¼çš„ç›®çš„å¹¶éè§£å†³â€œå¤šå­ç±»è¡ç”Ÿçš„å¤šç»§æ‰¿â€é—®é¢˜ï¼Œ Decoratoræ¨¡å¼åº”ç”¨çš„è¦ç‚¹åœ¨äºè§£å†³â€œ<strong>ä¸»ä½“ç±»åœ¨å¤šä¸ªæ–¹å‘ä¸Šçš„æ‰©å±•åŠŸèƒ½</strong>â€â€”â€”æ˜¯ä¸ºâ€œ<strong>è£…é¥°</strong>â€çš„å«ä¹‰ã€‚</li></ul><blockquote><p><a href="https://refactoring.guru/design-patterns/decorator"> ç½‘ç«™ç« èŠ‚å­¦ä¹ èµ„æ–™</a></p></blockquote><p><br></p><hr><p><br></p><h2 id="ğŸŒ¿Bridge"><a href="#ğŸŒ¿Bridge" class="headerlink" title="ğŸŒ¿Bridge"></a>ğŸŒ¿Bridge</h2><h3 id="å®šä¹‰-1"><a href="#å®šä¹‰-1" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>å°†<strong>æŠ½è±¡éƒ¨åˆ†(ä¸šåŠ¡åŠŸèƒ½)</strong>ä¸<strong>å®ç°éƒ¨åˆ†(å¹³å°å®ç°)</strong>åˆ†ç¦»ï¼Œä½¿å®ƒä»¬ éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚</p><h3 id="åŠ¨æœºï¼ˆMotivationï¼‰-1"><a href="#åŠ¨æœºï¼ˆMotivationï¼‰-1" class="headerlink" title="åŠ¨æœºï¼ˆMotivationï¼‰"></a>åŠ¨æœºï¼ˆMotivationï¼‰</h3><ul><li>ç”±äºæŸäº›ç±»å‹çš„å›ºæœ‰çš„å®ç°é€»è¾‘ï¼Œä½¿å¾—å®ƒä»¬å…·æœ‰ä¸¤ä¸ªå˜åŒ–çš„ç»´åº¦ï¼Œ ä¹ƒè‡³<strong>å¤šä¸ªçº¬åº¦çš„å˜åŒ–</strong>ã€‚ </li><li>å¦‚ä½•åº”å¯¹è¿™ç§â€œå¤šç»´åº¦çš„å˜åŒ–â€ï¼Ÿå¦‚ä½•åˆ©ç”¨é¢å‘å¯¹è±¡æŠ€æœ¯æ¥ä½¿å¾—ç±»å‹å¯ä»¥è½»æ¾åœ°æ²¿ç€ä¸¤ä¸ªä¹ƒè‡³å¤šä¸ªæ–¹å‘å˜åŒ–ï¼Œè€Œ<strong>ä¸å¼•å…¥é¢å¤–çš„å¤æ‚åº¦</strong>ï¼Ÿ</li></ul><h3 id="æ ·ä¾‹ğŸ‘‡ï¼ˆMessageé€šçŸ¥ï¼‰"><a href="#æ ·ä¾‹ğŸ‘‡ï¼ˆMessageé€šçŸ¥ï¼‰" class="headerlink" title="æ ·ä¾‹ğŸ‘‡ï¼ˆMessageé€šçŸ¥ï¼‰"></a>æ ·ä¾‹ğŸ‘‡ï¼ˆMessageé€šçŸ¥ï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Messager</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>=<span class="hljs-number">0</span>;<br><br>    <span class="hljs-comment">//åé¢å››ä¸ªæ“ä½œä¸åŒå¹³å°ä¸ä¸€æ ·</span><br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PlaySound</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DrawShape</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WriteText</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Connect</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">virtual</span> ~Messager()&#123;&#125;<br>&#125;;<br><br><br><span class="hljs-comment">//å¹³å°å®ç°</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PCMessagerBase</span> :</span> <span class="hljs-keyword">public</span> Messager&#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PlaySound</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DrawShape</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WriteText</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Connect</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MobileMessagerBase</span> :</span> <span class="hljs-keyword">public</span> Messager&#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PlaySound</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DrawShape</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WriteText</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Connect</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>&#125;;<br><br><br><br><span class="hljs-comment">//ä¸šåŠ¡æŠ½è±¡</span><br><span class="hljs-comment">//ä¸ºä»€ä¹ˆä¸æŠŠç»§æ‰¿å˜æˆç»„åˆå‘¢ï¼Ÿ</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PCMessagerLite</span> :</span> <span class="hljs-keyword">public</span> PCMessagerBase &#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>&#123;<br>        <br>        PCMessagerBase::Connect();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>&#123;<br>        <br>        PCMessagerBase::WriteText();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>&#123;<br>        <br>        PCMessagerBase::DrawShape();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>&#125;;<br><br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PCMessagerPerfect</span> :</span> <span class="hljs-keyword">public</span> PCMessagerBase &#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>&#123;<br>        <br>        PCMessagerBase::PlaySound();<br>        <span class="hljs-comment">//********</span><br>        PCMessagerBase::Connect();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>&#123;<br>        <br>        PCMessagerBase::PlaySound();<br>        <span class="hljs-comment">//********</span><br>        PCMessagerBase::WriteText();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>&#123;<br>        <br>        PCMessagerBase::PlaySound();<br>        <span class="hljs-comment">//********</span><br>        PCMessagerBase::DrawShape();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MobileMessagerLite</span> :</span> <span class="hljs-keyword">public</span> MobileMessagerBase &#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>&#123;<br>        <br>        MobileMessagerBase::Connect();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>&#123;<br>        <br>        MobileMessagerBase::WriteText();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>&#123;<br>        <br>        MobileMessagerBase::DrawShape();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MobileMessagerPerfect</span> :</span> <span class="hljs-keyword">public</span> MobileMessagerBase &#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>&#123;<br>        <br>        MobileMessagerBase::PlaySound();<br>        <span class="hljs-comment">//********</span><br>        MobileMessagerBase::Connect();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>&#123;<br>        <br>        MobileMessagerBase::PlaySound();<br>        <span class="hljs-comment">//********</span><br>        MobileMessagerBase::WriteText();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>&#123;<br>        <br>        MobileMessagerBase::PlaySound();<br>        <span class="hljs-comment">//********</span><br>        MobileMessagerBase::DrawShape();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>&#125;;<br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Process</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//ç¼–è¯‘æ—¶è£…é…</span><br>        Messager *m =<br>            <span class="hljs-keyword">new</span> MobileMessagerPerfect();<br>&#125;<br><br></code></pre></td></tr></table></figure><blockquote><p>å¹³å°å®ç°ä¸ºmï¼Œä¸šåŠ¡æŠ½è±¡ä¸ºm ï¼Œç±»çš„æ•°ç›®ä¸º1+n+n*m</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Messager</span>&#123;</span><br><span class="hljs-keyword">protected</span>:<br>     MessagerImp* messagerImp;<span class="hljs-comment">//...</span><br><span class="hljs-keyword">public</span>:<br>    Messager(MessagerImp * mi):messagerImp(mi)&#123;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>=<span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">virtual</span> ~Messager()&#123;&#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MessagerImp</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PlaySound</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DrawShape</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WriteText</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Connect</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-title">MessagerImp</span><span class="hljs-params">()</span></span>&#123;&#125;<br>&#125;;<br><br><br><span class="hljs-comment">//å¹³å°å®ç° n</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PCMessagerImp</span> :</span> <span class="hljs-keyword">public</span> MessagerImp&#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PlaySound</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DrawShape</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WriteText</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Connect</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//**********</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MobileMessagerImp</span> :</span> <span class="hljs-keyword">public</span> MessagerImp&#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PlaySound</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DrawShape</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">WriteText</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Connect</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//==========</span><br>    &#125;<br>&#125;;<br><br><br><br><span class="hljs-comment">//ä¸šåŠ¡æŠ½è±¡ m</span><br><br><span class="hljs-comment">//ç±»çš„æ•°ç›®ï¼š1+n+m</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MessagerLite</span> :</span><span class="hljs-keyword">public</span> Messager &#123;<br><br>    <br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>&#123;<br>        <br>        messagerImp-&gt;Connect();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>&#123;<br>        <br>        messagerImp-&gt;WriteText();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>&#123;<br>        <br>        messagerImp-&gt;DrawShape();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>&#125;;<br><br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MessagerPerfect</span>  :</span><span class="hljs-keyword">public</span> Messager &#123;<br>    <br>   <br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Login</span><span class="hljs-params">(<span class="hljs-built_in">string</span> username, <span class="hljs-built_in">string</span> password)</span></span>&#123;<br>        <br>        messagerImp-&gt;PlaySound();<br>        <span class="hljs-comment">//********</span><br>        messagerImp-&gt;Connect();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendMessage</span><span class="hljs-params">(<span class="hljs-built_in">string</span> message)</span></span>&#123;<br>        <br>        messagerImp-&gt;PlaySound();<br>        <span class="hljs-comment">//********</span><br>        messagerImp-&gt;WriteText();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SendPicture</span><span class="hljs-params">(Image image)</span></span>&#123;<br>        <br>        messagerImp-&gt;PlaySound();<br>        <span class="hljs-comment">//********</span><br>        messagerImp-&gt;DrawShape();<br>        <span class="hljs-comment">//........</span><br>    &#125;<br>&#125;;<br><br><br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Process</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-comment">//è¿è¡Œæ—¶è£…é…</span><br>    MessagerImp* mImp=<span class="hljs-keyword">new</span> PCMessagerImp();<br>    MessagerLite *m =<span class="hljs-keyword">new</span> MessagerLite(mImp);<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="ç»“æ„-1"><a href="#ç»“æ„-1" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h3><p><img src=".\456.png" alt=""></p><h3 id="è¦ç‚¹æ€»ç»“-1"><a href="#è¦ç‚¹æ€»ç»“-1" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>Bridgeæ¨¡å¼ä½¿ç”¨â€œå¯¹è±¡é—´çš„ç»„åˆå…³ç³»â€è§£è€¦äº†æŠ½è±¡å’Œå®ç°ä¹‹é—´å›º æœ‰çš„ç»‘å®šå…³ç³»ï¼Œä½¿å¾—æŠ½è±¡å’Œå®ç°å¯ä»¥æ²¿ç€å„è‡ªçš„ç»´åº¦æ¥å˜åŒ–ã€‚æ‰€è°“æŠ½è±¡å’Œå®ç°<strong>æ²¿ç€å„è‡ªçº¬åº¦</strong>çš„å˜åŒ–ï¼Œå³â€œ<strong>å­ç±»åŒ–</strong>â€å®ƒä»¬ã€‚ </li><li>Bridgeæ¨¡å¼æœ‰æ—¶å€™ç±»ä¼¼äºå¤šç»§æ‰¿æ–¹æ¡ˆï¼Œä½†æ˜¯å¤šç»§æ‰¿æ–¹æ¡ˆå¾€å¾€è¿èƒŒå•ä¸€èŒè´£åŸåˆ™ï¼ˆå³ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå˜åŒ–çš„åŸå› ï¼‰ï¼Œå¤ç”¨æ€§æ¯”è¾ƒå·®ã€‚ Bridgeæ¨¡å¼æ˜¯æ¯”å¤šç»§æ‰¿æ–¹æ¡ˆæ›´å¥½çš„è§£å†³æ–¹æ³•ã€‚ </li><li>Bridgeæ¨¡å¼çš„åº”ç”¨ä¸€èˆ¬åœ¨â€œä¸¤ä¸ªéå¸¸å¼ºçš„å˜åŒ–ç»´åº¦â€ï¼Œæœ‰æ—¶ä¸€ä¸ªç±»ä¹Ÿæœ‰å¤šäºä¸¤ä¸ªçš„å˜åŒ–ç»´åº¦ï¼ˆ<strong>æŠ½è±¡æŒ‡é’ˆ</strong>ï¼‰ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨Bridgeçš„æ‰©å±•æ¨¡å¼ã€‚</li></ul><blockquote><p><a href="https://refactoring.guru/design-patterns/bridge">ç½‘ç«™å­¦ä¹ èµ„æ–™</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>è®¾è®¡æ¨¡å¼</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-è®¾è®¡æ¨¡å¼ -cpp -æå»ºå¿ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GoF_ç»„ä»¶åä½œ</title>
    <link href="/2021/01/24/GoF-%E7%BB%84%E4%BB%B6%E5%8D%8F%E4%BD%9C/"/>
    <url>/2021/01/24/GoF-%E7%BB%84%E4%BB%B6%E5%8D%8F%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h1 id="â€œç»„ä»¶åä½œâ€æ¨¡å¼"><a href="#â€œç»„ä»¶åä½œâ€æ¨¡å¼" class="headerlink" title="â€œç»„ä»¶åä½œâ€æ¨¡å¼"></a>â€œç»„ä»¶åä½œâ€æ¨¡å¼</h1><p>â€‹            ç°ä»£è½¯ä»¶ä¸“ä¸šåˆ†å·¥ä¹‹åçš„ç¬¬ä¸€ä¸ªç»“æœæ˜¯â€œ<strong>æ¡†æ¶ä¸åº”ç”¨ç¨‹åº</strong>çš„åˆ’åˆ†â€ï¼Œâ€œç»„ä»¶åä½œâ€æ¨¡å¼é€šè¿‡æ™šæœŸç»‘å®šï¼Œæ¥å®ç°æ¡†æ¶ä¸åº”ç”¨ç¨‹åºä¹‹é—´çš„æ¾è€¦åˆæ˜¯äºŒè€…ä¹‹é—´åä½œæ—¶å¸¸ç”¨çš„æ¨¡å¼ã€‚</p><p><strong>å…¸å‹æ¨¡å¼ï¼š</strong></p><ul><li>Template Method  </li><li>Observer / Event </li><li>Strategy</li></ul><h2 id="ğŸŒ¿Template-Method"><a href="#ğŸŒ¿Template-Method" class="headerlink" title="ğŸŒ¿Template Method"></a>ğŸŒ¿Template Method</h2><p>â€‹            å®šä¹‰ä¸€<strong>ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶ (ç¨³å®š)</strong>ï¼Œè€Œå°†ä¸€äº›<strong>æ­¥éª¤å»¶è¿Ÿ (å˜åŒ–)åˆ°å­ç±»</strong>ä¸­ã€‚Template Methodä½¿å¾—å­ç±»å¯ä»¥<strong>ä¸æ”¹å˜ (å¤ç”¨)ä¸€ä¸ªç®—æ³•çš„ç»“æ„</strong>å³å¯é‡å®šä¹‰<strong>(override é‡å†™)</strong>è¯¥ç®—æ³•çš„ æŸäº›ç‰¹å®šæ­¥éª¤ã€‚                                                                                      â€”â€”ã€Šè®¾è®¡æ¨¡å¼ã€‹GoF</p><h3 id="åŠ¨æœºï¼ˆMotivationï¼‰"><a href="#åŠ¨æœºï¼ˆMotivationï¼‰" class="headerlink" title="åŠ¨æœºï¼ˆMotivationï¼‰"></a>åŠ¨æœºï¼ˆMotivationï¼‰</h3><ul><li>åœ¨è½¯ä»¶æ„å»ºè¿‡ç¨‹ä¸­ï¼Œå¯¹äºæŸä¸€é¡¹ä»»åŠ¡ï¼Œå®ƒå¸¸å¸¸æœ‰ç¨³å®šçš„æ•´ä½“æ“ä½œç»“æ„ï¼Œä½†å„ä¸ªå­æ­¥éª¤å´æœ‰å¾ˆå¤šæ”¹å˜çš„éœ€æ±‚ï¼Œæˆ–è€…ç”±äºå›ºæœ‰çš„åŸå›  ï¼ˆæ¯”å¦‚æ¡†æ¶ä¸åº”ç”¨ä¹‹é—´çš„å…³ç³»ï¼‰è€Œæ— æ³•å’Œä»»åŠ¡çš„æ•´ä½“ç»“æ„åŒæ—¶å®ç°ã€‚</li><li>å¦‚ä½•åœ¨ç¡®å®šç¨³å®šæ“ä½œç»“æ„çš„å‰æä¸‹ï¼Œæ¥çµæ´»åº”å¯¹å„ä¸ªå­æ­¥éª¤çš„å˜åŒ–æˆ–è€…æ™šæœŸå®ç°éœ€æ±‚ï¼Ÿ</li></ul><h3 id="æ ·ä¾‹ğŸ‘‡"><a href="#æ ·ä¾‹ğŸ‘‡" class="headerlink" title="æ ·ä¾‹ğŸ‘‡"></a>æ ·ä¾‹ğŸ‘‡</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//ä¾‹1</span><br><span class="hljs-comment">//ç¨‹åºåº“å¼€å‘äººå‘˜in template1_lib.cpp</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Library</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Step1</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-comment">//...</span><br>&#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Step3</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-comment">//...</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Step5</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-comment">//...</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">//åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜in template1_app.cpp</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Application</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">Step2</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-comment">//...</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Step4</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-comment">//...</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-function">Library <span class="hljs-title">lib</span><span class="hljs-params">()</span></span>;<br><span class="hljs-function">Application <span class="hljs-title">app</span><span class="hljs-params">()</span></span>;<br><br>lib.Step1();<br><br><span class="hljs-keyword">if</span> (app.Step2())&#123;<br>lib.Step3();<br>&#125;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)&#123;<br>app.Step4();<br>&#125;<br><br>lib.Step5();<br><br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//ç¨‹åºåº“å¼€å‘äººå‘˜ in template2_lib.cpp</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Library</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-comment">//ç¨³å®š template methodï¼Œ ï¼ï¼ç¨³å®šä¸­æœ‰å˜åŒ–</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Run</span><span class="hljs-params">()</span></span>&#123;<br>        <br>        Step1();<br><br>        <span class="hljs-keyword">if</span> (Step2()) &#123; <span class="hljs-comment">//æ”¯æŒå˜åŒ– ==&gt; è™šå‡½æ•°çš„å¤šæ€è°ƒç”¨</span><br>            Step3(); <br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)&#123;<br>            Step4(); <span class="hljs-comment">//æ”¯æŒå˜åŒ– ==&gt; è™šå‡½æ•°çš„å¤šæ€è°ƒç”¨</span><br>        &#125;<br><br>        Step5();<br><br>    &#125;<br>    <span class="hljs-comment">//  !!åŸºç±»è¦å®šä¹‰è™šææ„å‡½æ•°ï¼Œä¸å†™å¯èƒ½å­ç±»çš„ææ„å‡½æ•°è°ƒä¸åˆ°</span><br><span class="hljs-keyword">virtual</span> ~Library()&#123; &#125;<br><br><span class="hljs-keyword">protected</span>:<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Step1</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-comment">//ç¨³å®š</span><br>        <span class="hljs-comment">//.....</span><br>    &#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Step3</span><span class="hljs-params">()</span> </span>&#123;<span class="hljs-comment">//ç¨³å®š</span><br>        <span class="hljs-comment">//.....</span><br>    &#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Step5</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-comment">//ç¨³å®š</span><br><span class="hljs-comment">//.....</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">Step2</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;<span class="hljs-comment">//å˜åŒ–</span><br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Step4</span><span class="hljs-params">()</span> </span>=<span class="hljs-number">0</span>; <span class="hljs-comment">//å˜åŒ–</span><br>&#125;;<br><br><span class="hljs-comment">//åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜ in template2_app.cpp</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Application</span> :</span> <span class="hljs-keyword">public</span> Library &#123;<br><span class="hljs-keyword">protected</span>:<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">Step2</span><span class="hljs-params">()</span></span>&#123;<br><span class="hljs-comment">//... å­ç±»é‡å†™å®ç°</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Step4</span><span class="hljs-params">()</span> </span>&#123;<br><span class="hljs-comment">//... å­ç±»é‡å†™å®ç°</span><br>    &#125;<br>&#125;;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    Library* pLib=<span class="hljs-keyword">new</span> Application();<br>    lib-&gt;Run();<br><br><span class="hljs-keyword">delete</span> pLib;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src=".\bind.png" alt="ä¸¤æ®µä»£ç åŒºåˆ«"></p><blockquote><p>è®¾è®¡æ¨¡å¼ï¼šåœ¨å˜åŒ–å’Œç¨³å®šä¹‹é—´å¯»æ‰¾<strong>éš”ç¦»ç‚¹</strong>ï¼Œä»è€Œåˆ†ç¦»å®ƒä»¬ï¼Œç®¡ç†å˜åŒ–ï¼ˆæŠŠå…”å­å…³è¿›ç¬¼å­é‡Œï¼‰ã€‚å¦‚æœæ²¡æœ‰ç¨³å®šï¼Œæˆ–è€…æ²¡æœ‰å˜åŒ–ï¼Œè®¾è®¡æ¨¡å¼ä¹Ÿå°†ä¸èµ·ä½œç”¨ã€‚</p></blockquote><h3 id="ç»“æ„ï¼ˆStructureï¼‰"><a href="#ç»“æ„ï¼ˆStructureï¼‰" class="headerlink" title="ç»“æ„ï¼ˆStructureï¼‰"></a>ç»“æ„ï¼ˆStructureï¼‰</h3><p><img src=".\template.png" alt=""></p><h3 id="è¦ç‚¹æ€»ç»“"><a href="#è¦ç‚¹æ€»ç»“" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>Template Methodæ¨¡å¼æ˜¯ä¸€ç§éå¸¸åŸºç¡€æ€§çš„è®¾è®¡æ¨¡å¼ï¼Œåœ¨é¢å‘å¯¹è±¡ç³»ç»Ÿä¸­æœ‰ç€å¤§é‡çš„åº”ç”¨ã€‚å®ƒç”¨æœ€ç®€æ´çš„æœºåˆ¶ï¼ˆ<strong>è™šå‡½æ•°çš„å¤šæ€æ€§</strong>ï¼Œ<em>å‡½æ•°æŒ‡é’ˆä¹Ÿå¯ä»¥å®ç°</em>ï¼‰ ä¸ºå¾ˆå¤šåº”ç”¨ç¨‹åºæ¡†æ¶æä¾›äº†<strong>çµæ´»çš„æ‰©å±•ç‚¹</strong>ï¼Œæ˜¯ä»£ç å¤ç”¨æ–¹é¢çš„åŸºæœ¬å®ç°ç»“æ„ã€‚</li><li>é™¤äº†å¯ä»¥çµæ´»åº”å¯¹å­æ­¥éª¤çš„å˜åŒ–å¤–ï¼Œâ€œä¸è¦è°ƒç”¨æˆ‘ï¼Œè®©æˆ‘æ¥è°ƒç”¨ä½ â€çš„<strong>åå‘æ§åˆ¶ç»“æ„</strong>æ˜¯Template Methodçš„å…¸å‹åº”ç”¨ã€‚</li><li>åœ¨å…·ä½“å®ç°æ–¹é¢ï¼Œè¢«Template Methodè°ƒç”¨çš„è™šæ–¹æ³•å¯ä»¥å…·æœ‰å®ç°ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ä»»ä½•å®ç°ï¼ˆ<strong>æŠ½è±¡æ–¹æ³•ã€çº¯è™šæ–¹æ³•</strong>ï¼‰ï¼Œä½†ä¸€èˆ¬æ¨èå°†å®ƒä»¬è®¾ç½®ä¸º<strong>protected</strong>æ–¹æ³•ã€‚</li></ul><blockquote><p><a href="https://refactoring.guru/design-patterns/template-method"> ç½‘ç«™ç« èŠ‚å­¦ä¹ èµ„æ–™</a></p></blockquote><p><br></p><hr><p><br></p><h2 id="ğŸŒ¿Strategy"><a href="#ğŸŒ¿Strategy" class="headerlink" title="ğŸŒ¿Strategy"></a>ğŸŒ¿Strategy</h2><p>â€‹            å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯<strong>äº’ç›¸æ›¿æ¢ï¼ˆå˜åŒ–ï¼‰</strong>ã€‚è¯¥æ¨¡å¼ä½¿å¾—<strong>ç®—æ³•å¯ç‹¬ç«‹äºä½¿ç”¨å®ƒçš„å®¢æˆ·ç¨‹åº</strong>(ç¨³å®š)è€Œå˜ï¼ˆæ‰©å±•ï¼Œå­ç±»åŒ–ï¼‰ã€‚                                                                                                                                                    â€”â€”ã€Šè®¾è®¡æ¨¡å¼ã€‹GoF</p><h3 id="åŠ¨æœºï¼ˆMotivationï¼‰-1"><a href="#åŠ¨æœºï¼ˆMotivationï¼‰-1" class="headerlink" title="åŠ¨æœºï¼ˆMotivationï¼‰"></a>åŠ¨æœºï¼ˆMotivationï¼‰</h3><ul><li>åœ¨è½¯ä»¶æ„å»ºè¿‡ç¨‹ä¸­ï¼ŒæŸäº›<strong>å¯¹è±¡ä½¿ç”¨çš„ç®—æ³•å¯èƒ½å¤šç§å¤šæ ·</strong>ï¼Œç»å¸¸æ”¹å˜ï¼Œå¦‚æœå°†è¿™äº›ç®—æ³•éƒ½ç¼–ç åˆ°å¯¹è±¡ä¸­ï¼Œå°†ä¼šä½¿å¯¹è±¡å˜å¾—å¼‚å¸¸å¤æ‚ï¼› è€Œä¸”æœ‰æ—¶å€™æ”¯æŒä¸ä½¿ç”¨çš„ç®—æ³•ä¹Ÿæ˜¯ä¸€ä¸ª<strong>æ€§èƒ½</strong>è´Ÿæ‹…(å¤§é‡åˆ¤æ–­)ã€‚</li><li>å¦‚ä½•åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦é€æ˜åœ°æ›´æ”¹å¯¹è±¡çš„ç®—æ³•ï¼Ÿå°†ç®—æ³•ä¸å¯¹è±¡æœ¬ èº«è§£è€¦ï¼Œä»è€Œé¿å…ä¸Šè¿°é—®é¢˜ï¼Ÿ</li></ul><h3 id="æ ·ä¾‹ğŸ‘‡ï¼ˆç¨æ€»è®¡ç®—ï¼‰"><a href="#æ ·ä¾‹ğŸ‘‡ï¼ˆç¨æ€»è®¡ç®—ï¼‰" class="headerlink" title="æ ·ä¾‹ğŸ‘‡ï¼ˆç¨æ€»è®¡ç®—ï¼‰"></a>æ ·ä¾‹ğŸ‘‡ï¼ˆç¨æ€»è®¡ç®—ï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 1</span><br><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">TaxBase</span> &#123;</span><br>CN_Tax,<br>US_Tax,<br>DE_Tax,<br>FR_Tax       <span class="hljs-comment">//æ›´æ”¹</span><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SalesOrder</span>&#123;</span><br>    TaxBase tax;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">CalculateTax</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//...</span><br>        <br>        <span class="hljs-keyword">if</span> (tax == CN_Tax)&#123;<br>            <span class="hljs-comment">//CN***********</span><br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (tax == US_Tax)&#123;<br>            <span class="hljs-comment">//US***********</span><br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (tax == DE_Tax)&#123;<br>            <span class="hljs-comment">//DE***********</span><br>        &#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (tax == FR_Tax)&#123;  <span class="hljs-comment">//æ›´æ”¹</span><br><span class="hljs-comment">//...</span><br>&#125;<br><br>        <span class="hljs-comment">//...</span><br>     <span class="hljs-comment">//åŠ¨æ€åœ°å»çœ‹è¿™ä¸ªé—®é¢˜...</span><br>     &#125;<br>    <br>&#125;;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 2</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TaxStrategy</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">//çº¯è™šæ–¹æ³•</span><br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">double</span> <span class="hljs-title">Calculate</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Context&amp; context)</span></span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-comment">//åŸºç±»ä¸€å®šè¦å†™è™šææ„</span><br>    <span class="hljs-keyword">virtual</span> ~TaxStrategy()&#123;&#125;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CNTax</span> :</span> <span class="hljs-keyword">public</span> TaxStrategy&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">double</span> <span class="hljs-title">Calculate</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Context&amp; context)</span></span>&#123;<br>        <span class="hljs-comment">//***********</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">USTax</span> :</span> <span class="hljs-keyword">public</span> TaxStrategy&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">double</span> <span class="hljs-title">Calculate</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Context&amp; context)</span></span>&#123;<br>        <span class="hljs-comment">//***********</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DETax</span> :</span> <span class="hljs-keyword">public</span> TaxStrategy&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">double</span> <span class="hljs-title">Calculate</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Context&amp; context)</span></span>&#123;<br>        <span class="hljs-comment">//***********</span><br>    &#125;<br>&#125;;<br><br><br><br><span class="hljs-comment">//æ‰©å±•</span><br><span class="hljs-comment">//*********************************</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FRTax</span> :</span> <span class="hljs-keyword">public</span> TaxStrategy&#123;<br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">double</span> <span class="hljs-title">Calculate</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Context&amp; context)</span></span>&#123;<br><span class="hljs-comment">//.........</span><br>&#125;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SalesOrder</span>&#123;</span><br><span class="hljs-keyword">private</span>:<br>    TaxStrategy* strategy;<br><br><span class="hljs-keyword">public</span>:<br>    SalesOrder(StrategyFactory* strategyFactory)&#123;<br>        <span class="hljs-comment">//è¿™é‡Œä»¥åå¯ä»¥ç”¨å·¥å‚æ–¹æ³•</span><br>        <span class="hljs-keyword">this</span>-&gt;strategy = strategyFactory-&gt;NewStrategy();<br>    &#125;<br>    ~SalesOrder()&#123;<br>        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>-&gt;strategy;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">CalculateTax</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//...</span><br>        <span class="hljs-function">Context <span class="hljs-title">context</span><span class="hljs-params">()</span></span>;<br>        <br>        <span class="hljs-keyword">double</span> val = <br>            strategy-&gt;Calculate(context); <span class="hljs-comment">//å¤šæ€è°ƒç”¨</span><br>        <span class="hljs-comment">//...</span><br>    &#125;<br>    <br>&#125;;<br></code></pre></td></tr></table></figure><blockquote><p>method 1 è¿èƒŒå¼€æ”¾å°é—­åŸåˆ™ï¼Œåœ¨ç¼–è¯‘åçš„äºŒè¿›åˆ¶ä»£ç ä¿®æ”¹å¤§, method 2 SalesOrderç¨³å®šï¼Œç®—æ³•å¯å˜åŒ–ã€‚</p></blockquote><h3 id="ç»“æ„ï¼ˆStructureï¼‰-1"><a href="#ç»“æ„ï¼ˆStructureï¼‰-1" class="headerlink" title="ç»“æ„ï¼ˆStructureï¼‰"></a>ç»“æ„ï¼ˆStructureï¼‰</h3><p><img src=".\strategy.png" alt=""></p><h3 id="è¦ç‚¹æ€»ç»“-1"><a href="#è¦ç‚¹æ€»ç»“-1" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>StrategyåŠå…¶å­ç±»ä¸ºç»„ä»¶æä¾›äº†ä¸€ç³»åˆ—å¯é‡ç”¨çš„ç®—æ³•ï¼Œä»è€Œå¯ä»¥ä½¿ å¾—ç±»å‹åœ¨<strong>è¿è¡Œæ—¶</strong>æ–¹ä¾¿åœ°æ ¹æ®éœ€è¦åœ¨å„ä¸ªç®—æ³•ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼ˆå¤šæ€è°ƒç”¨ï¼‰ã€‚</li><li>Strategyæ¨¡å¼æä¾›äº†ç”¨æ¡ä»¶åˆ¤æ–­è¯­å¥ä»¥å¤–çš„å¦ä¸€ç§é€‰æ‹©ï¼Œæ¶ˆé™¤<strong>æ¡ä»¶åˆ¤æ–­è¯­å¥ï¼ˆbad smellï¼Œç»“æ„åŒ–æ€ç»´ï¼‰</strong>ï¼Œå°±æ˜¯åœ¨<strong>è§£è€¦åˆ</strong>ã€‚å«æœ‰è®¸å¤šæ¡ä»¶åˆ¤æ–­è¯­å¥çš„ä»£ç é€šå¸¸éƒ½éœ€è¦Strategyæ¨¡å¼ã€‚</li><li>å¦‚æœStrategyå¯¹è±¡<strong>æ²¡æœ‰å®ä¾‹å˜é‡</strong>(å•ä¾‹æ¨¡å¼å®ç°)ï¼Œé‚£ä¹ˆå„ä¸ªä¸Šä¸‹æ–‡å¯ä»¥å…±äº«åŒä¸€ä¸ªStrategyå¯¹è±¡ï¼Œä»è€ŒèŠ‚çœå¯¹è±¡å¼€é”€ã€‚</li></ul><p><a href="https://refactoring.guru/design-patterns/strategy"> ç½‘ç«™ç« èŠ‚å­¦ä¹ èµ„æ–™</a></p><p><br></p><hr><p><br></p><h2 id="ğŸŒ¿Observer-Event"><a href="#ğŸŒ¿Observer-Event" class="headerlink" title="ğŸŒ¿Observer/Event"></a>ğŸŒ¿Observer/Event</h2><p>â€‹            å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§<strong>ä¸€å¯¹å¤šï¼ˆå˜åŒ–ï¼‰çš„ä¾èµ–å…³ç³»</strong>ï¼Œä»¥ä¾¿å½“ä¸€ä¸ªå¯¹è±¡(Subject)çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰<strong>ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°</strong>ã€‚                                                                                                                                                                                â€”â€”ã€Šè®¾è®¡æ¨¡å¼ã€‹GoF</p><h3 id="åŠ¨æœºï¼ˆMotivationï¼‰-2"><a href="#åŠ¨æœºï¼ˆMotivationï¼‰-2" class="headerlink" title="åŠ¨æœºï¼ˆMotivationï¼‰"></a>åŠ¨æœºï¼ˆMotivationï¼‰</h3><ul><li>åœ¨è½¯ä»¶æ„å»ºè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæŸäº›å¯¹è±¡å»ºç«‹ä¸€ç§â€œé€šçŸ¥ä¾èµ–å…³ç³»â€ â€”â€” ä¸€ä¸ªå¯¹è±¡ï¼ˆç›®æ ‡å¯¹è±¡ï¼‰çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œæ‰€æœ‰çš„ä¾èµ–å¯¹è±¡ï¼ˆè§‚å¯Ÿè€…å¯¹è±¡ï¼‰éƒ½å°†å¾—åˆ°é€šçŸ¥ã€‚å¦‚æœè¿™æ ·çš„ä¾èµ–å…³ç³»è¿‡äºç´§å¯†ï¼Œ å°†ä½¿è½¯ä»¶ä¸èƒ½å¾ˆå¥½åœ°æŠµå¾¡å˜åŒ–ã€‚</li><li>ä½¿ç”¨é¢å‘å¯¹è±¡æŠ€æœ¯ï¼Œå¯ä»¥å°†è¿™ç§ä¾èµ–å…³ç³»å¼±åŒ–ï¼Œå¹¶å½¢æˆä¸€ç§ç¨³å®šçš„ä¾èµ–å…³ç³»ã€‚ä»è€Œå®ç°è½¯ä»¶ä½“ç³»ç»“æ„çš„æ¾è€¦åˆã€‚</li></ul><h3 id="ç¤ºä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰"><a href="#ç¤ºä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰" class="headerlink" title="ç¤ºä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰"></a>ç¤ºä¾‹ğŸ‘‡ï¼ˆæ–‡ä»¶åˆ†å‰²å™¨ï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 1</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileSplitter</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-built_in">string</span> m_filePath;<br><span class="hljs-keyword">int</span> m_fileNumber;<br>    <span class="hljs-comment">// ï¼ï¼è¿èƒŒä¾èµ–å€’ç½®åŸåˆ™ï¼ŒProgressBarï¼ˆå¤ªè¿‡ç»†èŠ‚ï¼‰ï¼Œå¯èƒ½æ˜¯labelï¼Œå¯èƒ½æ˜¯æ§åˆ¶å°çš„Â·Â·Â·</span><br>    <span class="hljs-comment">// ä¾èµ–å®ƒçš„æŠ½è±¡åŸºç±»ï¼Œå®ƒçš„åŠŸèƒ½-&gt;å®ç°é€šçŸ¥</span><br>ProgressBar* m_progressBar;<br><br><span class="hljs-keyword">public</span>:<br>FileSplitter(<span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; filePath, <span class="hljs-keyword">int</span> fileNumber, ProgressBar* progressBar) :<br>m_filePath(filePath), <br>m_fileNumber(fileNumber),<br>m_progressBar(progressBar)&#123;<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">split</span><span class="hljs-params">()</span></span>&#123;<br><br><span class="hljs-comment">//1.è¯»å–å¤§æ–‡ä»¶</span><br><br><span class="hljs-comment">//2.åˆ†æ‰¹æ¬¡å‘å°æ–‡ä»¶ä¸­å†™å…¥</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m_fileNumber; i++)&#123;<br><span class="hljs-comment">//...</span><br>            <span class="hljs-keyword">if</span>(m_progressBar!=<span class="hljs-literal">nullptr</span>)<br>            &#123;<br>                <span class="hljs-keyword">float</span> progressValue = m_fileNumber;<br>progressValue = (i + <span class="hljs-number">1</span>) / progressValue;<br>m_progressBar-&gt;setValue(progressValue);    <br>            &#125;<br>&#125;<br>&#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainForm</span> :</span> <span class="hljs-keyword">public</span> Form<br>&#123;<br>    <span class="hljs-comment">//æ–‡ä»¶è·¯å¾„</span><br>TextBox* txtFilePath;<br>    <span class="hljs-comment">//æ–‡ä»¶è¢«åˆ†å‰²çš„æ•°é‡</span><br>TextBox* txtFileNumber;<br>ProgressBar* progressBar;<br><br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Button1_Click</span><span class="hljs-params">()</span></span>&#123;<br><br><span class="hljs-built_in">string</span> filePath = txtFilePath-&gt;getText();<br><span class="hljs-keyword">int</span> number = atoi(txtFileNumber-&gt;getText().c_str());<br><br><span class="hljs-function">FileSplitter <span class="hljs-title">splitter</span><span class="hljs-params">(filePath, number, progressBar)</span></span>;<br><br>splitter.split();<br><br>&#125;<br>&#125;;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 2</span><br><span class="hljs-comment">//IProgress æŠ½è±¡æ¥å£</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IProgress</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DoProgress</span><span class="hljs-params">(<span class="hljs-keyword">float</span> value)</span></span>=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">virtual</span> ~IProgress()&#123;&#125;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileSplitter</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-built_in">string</span> m_filePath;<br><span class="hljs-keyword">int</span> m_fileNumber;<br><br>List&lt;IProgress*&gt;  m_iprogressList; <span class="hljs-comment">// æŠ½è±¡é€šçŸ¥æœºåˆ¶ï¼Œæ”¯æŒå¤šä¸ªè§‚å¯Ÿè€…</span><br><br><span class="hljs-keyword">public</span>:<br>FileSplitter(<span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; filePath, <span class="hljs-keyword">int</span> fileNumber) :<br>m_filePath(filePath), <br>m_fileNumber(fileNumber)&#123;<br><br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">split</span><span class="hljs-params">()</span></span>&#123;<br><br><span class="hljs-comment">//1.è¯»å–å¤§æ–‡ä»¶</span><br><br><span class="hljs-comment">//2.åˆ†æ‰¹æ¬¡å‘å°æ–‡ä»¶ä¸­å†™å…¥</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m_fileNumber; i++)&#123;<br><span class="hljs-comment">//...</span><br><br><span class="hljs-keyword">float</span> progressValue = m_fileNumber;<br>progressValue = (i + <span class="hljs-number">1</span>) / progressValue;<br>onProgress(progressValue);<span class="hljs-comment">//å‘é€é€šçŸ¥</span><br>&#125;<br><br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addIProgress</span><span class="hljs-params">(IProgress* iprogress)</span></span>&#123;<br>m_iprogressList.push_back(iprogress);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">removeIProgress</span><span class="hljs-params">(IProgress* iprogress)</span></span>&#123;<br>m_iprogressList.remove(iprogress);<br>&#125;<br><br><br><span class="hljs-keyword">protected</span>:<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onProgress</span><span class="hljs-params">(<span class="hljs-keyword">float</span> value)</span></span>&#123;<br><br>List&lt;IProgress*&gt;::iterator itor=m_iprogressList.begin();<br><br><span class="hljs-keyword">while</span> (itor != m_iprogressList.end() )<br>(*itor)-&gt;DoProgress(value); <span class="hljs-comment">//æ›´æ–°è¿›åº¦æ¡</span><br>itor++;<br>&#125;<br>&#125;<br>&#125;;<br><br><span class="hljs-comment">// å¤šç»§æ‰¿ä½¿ç”¨çš„åœºæ™¯ï¼šä¸»ç»§æ‰¿ç±»+æ¥å£ï¼ˆæŠ½è±¡ç±»ï¼‰</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainForm</span> :</span> <span class="hljs-keyword">public</span> Form, <span class="hljs-keyword">public</span> IProgress<br>&#123;<br>TextBox* txtFilePath;<br>TextBox* txtFileNumber;<br><br>ProgressBar* progressBar;<br><br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Button1_Click</span><span class="hljs-params">()</span></span>&#123;<br><br><span class="hljs-built_in">string</span> filePath = txtFilePath-&gt;getText();<br><span class="hljs-keyword">int</span> number = atoi(txtFileNumber-&gt;getText().c_str());<br><br>ConsoleNotifier cn;<br><br><span class="hljs-function">FileSplitter <span class="hljs-title">splitter</span><span class="hljs-params">(filePath, number)</span></span>;<br><br>splitter.addIProgress(<span class="hljs-keyword">this</span>); <span class="hljs-comment">//è®¢é˜…é€šçŸ¥</span><br>splitter.addIProgress(&amp;cn)ï¼› <span class="hljs-comment">//è®¢é˜…é€šçŸ¥</span><br><br>splitter.split();<br><br>splitter.removeIProgress(<span class="hljs-keyword">this</span>);<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DoProgress</span><span class="hljs-params">(<span class="hljs-keyword">float</span> value)</span></span>&#123;<br>progressBar-&gt;setValue(value);<br>&#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConsoleNotifier</span> :</span> <span class="hljs-keyword">public</span> IProgress &#123;<br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DoProgress</span><span class="hljs-params">(<span class="hljs-keyword">float</span> value)</span></span>&#123;<br><span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;.&quot;</span>;<br>&#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="ç»“æ„ï¼ˆStructureï¼‰-2"><a href="#ç»“æ„ï¼ˆStructureï¼‰-2" class="headerlink" title="ç»“æ„ï¼ˆStructureï¼‰"></a>ç»“æ„ï¼ˆStructureï¼‰</h3><p><img src=".\observer.png" alt=""></p><ul><li>æ ·ä¾‹ä¸­ Observeræ˜¯IProgressï¼Œè€ŒMainFormã€ConsoleNotifieræ˜¯ConcreteObserver</li><li>æ ·ä¾‹ä¸­ Subjectæ˜¯FileSplitterï¼ˆå…¶å®FileSplitterå¯ä»¥æå–addIProgressï¼ŒremoveIProgresså’ŒonProgressï¼‰</li></ul><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li>ä½¿ç”¨é¢å‘å¯¹è±¡çš„æŠ½è±¡ï¼ŒObserveræ¨¡å¼ä½¿å¾—æˆ‘ä»¬å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜ç›®æ ‡ä¸è§‚å¯Ÿè€…ï¼Œä»è€Œä½¿<strong>äºŒè€…ä¹‹é—´çš„ä¾èµ–å…³ç³»è¾¾è‡´æ¾è€¦åˆ</strong>ã€‚</li></ul><blockquote><p>IProgressä¸ç®¡å¤šå°‘ä¸ªï¼ŒFileSplitteréƒ½ä¸å˜ï¼Œä¿æŒå¤ç”¨æ€§</p></blockquote><ul><li>ç›®æ ‡å‘é€é€šçŸ¥æ—¶ï¼Œ<strong>æ— éœ€æŒ‡å®šè§‚å¯Ÿè€…</strong>ï¼Œé€šçŸ¥ï¼ˆå¯ä»¥æºå¸¦é€šçŸ¥ä¿¡æ¯ä½œä¸ºå‚æ•°ï¼‰ä¼šè‡ªåŠ¨ä¼ æ’­ã€‚</li></ul><blockquote><p>FileSplitteræ‰§è¡ŒDoProgressä¸å…³å¿ƒæ˜¯é‚£ä¸ªè§‚å¯Ÿè€…ï¼ŒæŠ½è±¡åœ°è¿›è¡Œé€šçŸ¥ï¼Œè‡ªåŠ¨ä¼ æ’­</p></blockquote><ul><li>è§‚å¯Ÿè€…è‡ªå·±å†³å®šæ˜¯å¦éœ€è¦è®¢é˜…é€šçŸ¥ï¼Œç›®æ ‡å¯¹è±¡å¯¹æ­¤ä¸€æ— æ‰€çŸ¥ã€‚ </li></ul><blockquote><p>MainFormæ‰§è¡ŒaddIProgress</p></blockquote><ul><li>Observeræ¨¡å¼æ˜¯<strong>åŸºäºäº‹ä»¶çš„UIæ¡†æ¶</strong>ä¸­éå¸¸å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œä¹Ÿæ˜¯<strong>MVCæ¨¡å¼</strong>çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ã€‚</li></ul><p><a href="https://refactoring.guru/design-patterns/observer"> ç½‘ç«™ç« èŠ‚å­¦ä¹ èµ„æ–™ï¼Œæ ¸å¿ƒï¼šæŠ½è±¡çš„é€šçŸ¥ä¾èµ–å…³ç³»</a></p>]]></content>
    
    
    <categories>
      
      <category>è®¾è®¡æ¨¡å¼</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-è®¾è®¡æ¨¡å¼ -cpp -æå»ºå¿ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç‹é“æ•°æ®ç»“æ„_ç¬¬ä¸€ç« ç»ªè®º</title>
    <link href="/2021/01/23/%E7%8E%8B%E9%81%93%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AC%AC%E4%B8%80%E7%AB%A0%E7%BB%AA%E8%AE%BA/"/>
    <url>/2021/01/23/%E7%8E%8B%E9%81%93%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%AC%AC%E4%B8%80%E7%AB%A0%E7%BB%AA%E8%AE%BA/</url>
    
    <content type="html"><![CDATA[<p>â€‹    å­¦ä¹ èµ„æ–™ï¼šã€Šæ•°æ®ç»“æ„ã€‹ï¼ˆä¸¥è”šæ•ï¼‰   ã€Šç‹é“2022æ•°æ®ç»“æ„è€ƒç ”å¤ä¹ æŒ‡å¯¼ã€‹</p><p>â€‹    è§†é¢‘ç½‘ç«™ï¼š<a href="https://www.bilibili.com/video/BV1b7411N798?p=6">ç‹é“2021/2020ç‰ˆå…è´¹è§†é¢‘</a></p><p>â€‹    leetcodeé¢˜åº“ï¼š<a href="https://github.com/CyC2018/CS-Notes/blob/master/notes/Leetcode%20%E9%A2%98%E8%A7%A3%20-%20%E7%9B%AE%E5%BD%95.md">ç®—æ³•+æ•°æ®ç»“æ„</a></p><h1 id="ç¬¬ä¸€ç« -ç»ªè®º"><a href="#ç¬¬ä¸€ç« -ç»ªè®º" class="headerlink" title="ç¬¬ä¸€ç«  ç»ªè®º"></a>ç¬¬ä¸€ç«  ç»ªè®º</h1><p><strong>è€ƒçº²å†…å®¹ï¼š</strong></p><ul><li>æ•°æ®ç»“æ„çš„ç›¸å…³<strong>æ¦‚å¿µå’Œæœ¯è¯­</strong>ã€‚</li><li>æ•°æ®ç»“æ„çš„<strong>ä¸‰è¦ç´ </strong>: é€»è¾‘ç»“æ„ã€ç‰©ç†ç»“æ„å’Œæ•°æ®ç»“æ„ã€‚</li><li>ç®—æ³•<strong>æ—¶é—´å¤æ‚åº¦</strong>å’Œ<strong>ç©ºé—´å¤æ‚åº¦</strong>çš„<strong>åˆ†æå’Œè®¡ç®—</strong>ã€‚</li></ul><h2 id="æ•°æ®ç»“æ„çš„åŸºæœ¬æ¦‚å¿µ"><a href="#æ•°æ®ç»“æ„çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="æ•°æ®ç»“æ„çš„åŸºæœ¬æ¦‚å¿µ"></a>æ•°æ®ç»“æ„çš„åŸºæœ¬æ¦‚å¿µ</h2><p><img src=".\data_structe.png" alt="data_structe" style="zoom:67%;" /></p><h3 id="åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­"><a href="#åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­" class="headerlink" title="åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­"></a>åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­</h3><h4 id="ğŸŒ¿æ•°æ®"><a href="#ğŸŒ¿æ•°æ®" class="headerlink" title="ğŸŒ¿æ•°æ®"></a>ğŸŒ¿æ•°æ®</h4><p>â€‹        <strong>æ•°æ®ï¼ˆdataï¼‰</strong>æ˜¯<strong>ä¿¡æ¯çš„è½½ä½“</strong>ï¼Œæ˜¯æè¿°å®¢è§‚äº‹ç‰©å±æ€§çš„æ•°ã€å­—ç¬¦åŠæ‰€æœ‰èƒ½<strong>è¾“å…¥åˆ°è®¡ç®—æœºä¸­å¹¶èƒ½è¢«è®¡ç®—æœºç¨‹åºè¯†åˆ«å’Œå¤„ç†çš„ç¬¦å·çš„æ€»ç§°</strong>ã€‚æ•°æ®æ˜¯è®¡ç®—æœºç¨‹åºåŠ å·¥çš„åŸæ–™ã€‚</p><h4 id="ğŸŒ¿æ•°æ®å…ƒç´ ã€æ•°æ®é¡¹"><a href="#ğŸŒ¿æ•°æ®å…ƒç´ ã€æ•°æ®é¡¹" class="headerlink" title="ğŸŒ¿æ•°æ®å…ƒç´ ã€æ•°æ®é¡¹"></a>ğŸŒ¿æ•°æ®å…ƒç´ ã€æ•°æ®é¡¹</h4><p>â€‹        <strong>æ•°æ®å…ƒç´ ï¼ˆdata elementï¼‰</strong>æ˜¯æ•°æ®çš„åŸºæœ¬å•ä½ï¼Œé€šå¸¸ä½œä¸ºä¸€ä¸ªæ•´ä½“è¿›è¡Œè€ƒè™‘å’Œå¤„ç†ã€‚ä¸€ä¸ªæ•°æ®å…ƒç´ å¯ç”±è‹¥å¹²ä¸ª<strong>æ•°æ®é¡¹ï¼ˆdata itemï¼‰</strong>ç»„æˆï¼Œ<strong>æ•°æ®é¡¹æ˜¯æ„æˆæ•°æ®å…ƒç´ çš„ä¸å¯åˆ†å‰²çš„æœ€å°å•ä½</strong>ã€‚</p><blockquote><p>ä¾‹ï¼šå­¦ç”Ÿè®°å½•å°±æ˜¯ä¸€ä¸ªæ•°æ®å…ƒç´ ï¼Œå®ƒç”±å­¦å·ã€å§“åã€æ€§åˆ«ç­‰æ•°æ®ç»„æˆã€‚</p></blockquote><h4 id="ğŸŒ¿æ•°æ®ç»“æ„ã€æ•°æ®å¯¹è±¡"><a href="#ğŸŒ¿æ•°æ®ç»“æ„ã€æ•°æ®å¯¹è±¡" class="headerlink" title="ğŸŒ¿æ•°æ®ç»“æ„ã€æ•°æ®å¯¹è±¡"></a>ğŸŒ¿æ•°æ®ç»“æ„ã€æ•°æ®å¯¹è±¡</h4><p>â€‹        <strong>æ•°æ®ç»“æ„ï¼ˆdata structureï¼‰</strong>æ˜¯<strong>ç›¸äº’ä¹‹é—´</strong>å­˜åœ¨ä¸€ç§æˆ–å¤šç§ç‰¹å®šå…³ç³»çš„<strong>æ•°æ®å…ƒç´ çš„é›†åˆ</strong>ã€‚</p><p>â€‹        <strong>æ•°æ®å¯¹è±¡ï¼ˆdata objectï¼‰</strong>æ˜¯å…·æœ‰<strong>ç›¸åŒæ€§è´¨çš„æ•°æ®å…ƒç´ </strong>çš„é›†åˆï¼Œæ˜¯æ•°æ®çš„ä¸€ä¸ªå­é›†ã€‚</p><h3 id="æ•°æ®ç»“æ„çš„ä¸‰è¦ç´ "><a href="#æ•°æ®ç»“æ„çš„ä¸‰è¦ç´ " class="headerlink" title="æ•°æ®ç»“æ„çš„ä¸‰è¦ç´ "></a>æ•°æ®ç»“æ„çš„ä¸‰è¦ç´ </h3><h4 id="âœ¨é€»è¾‘ç»“æ„"><a href="#âœ¨é€»è¾‘ç»“æ„" class="headerlink" title="âœ¨é€»è¾‘ç»“æ„"></a>âœ¨é€»è¾‘ç»“æ„</h4><ol><li><strong>é›†åˆ</strong>ï¼šç»“æ„ä¸­çš„æ•°æ®å…ƒç´ <strong>åŒå±ä¸€ä¸ªé›†åˆ</strong>ï¼Œé™¤æ­¤ä¹‹å¤–æ²¡æœ‰å…¶ä»–å…³ç³»ã€‚</li><li><strong>çº¿æ€§ç»“æ„</strong>ï¼šç»“æ„ä¸­çš„æ•°æ®å…ƒç´ ä¹‹é—´<strong>å­˜åœ¨ç€ä¸€ä¸ªå¯¹ä¸€ä¸ª</strong>çš„å…³ç³»ï¼Œé™¤ç¬¬ä¸€ä¸ªå…ƒç´ å¤–ï¼Œæ¯ä¸€ä¸ªå…ƒç´ éƒ½æœ‰å‰é©±ï¼Œé™¤æœ€åä¸€ä¸ªå¤–æ¯ä¸€ä¸ªéƒ½æœ‰åç»§</li><li><strong>æ ‘å‹ç»“æ„</strong>ï¼šç»“æ„ä¸­æ•°æ®å…ƒç´ ä¹‹é—´<strong>å­˜åœ¨ä¸€ä¸ªå¯¹å¤šä¸ªçš„å…³ç³»</strong>ã€‚</li><li><strong>å›¾çŠ¶ç»“æ„ï¼ˆç½‘çŠ¶ç»“æ„ï¼‰</strong>ï¼šç»“æ„ä¸­æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨<strong>å¤šå¯¹å¤šçš„å…³ç³»</strong>ã€‚</li></ol><p><img src=".\structure.png" alt="å››ç§ç»“æ„"></p><p><img src=".\linear.webp" alt="linear" style="zoom: 67%;" /></p><p><img src=".\none_linear.webp" alt="none_linear" style="zoom:67%;" /></p><h4 id="âœ¨ç‰©ç†ç»“æ„ï¼ˆå­˜å‚¨ç»“æ„ï¼‰"><a href="#âœ¨ç‰©ç†ç»“æ„ï¼ˆå­˜å‚¨ç»“æ„ï¼‰" class="headerlink" title="âœ¨ç‰©ç†ç»“æ„ï¼ˆå­˜å‚¨ç»“æ„ï¼‰"></a>âœ¨ç‰©ç†ç»“æ„ï¼ˆå­˜å‚¨ç»“æ„ï¼‰</h4><ol><li><p><strong>é¡ºåºå­˜å‚¨</strong>ï¼šæŠŠ<strong>é€»è¾‘ç›¸é‚»çš„å…ƒç´ å­˜å‚¨åœ¨ç‰©ç†ä½ç½®ä¸Šä¹Ÿç›¸é‚»çš„å­˜å‚¨å•å…ƒä¸­</strong>ï¼Œå…ƒç´ ä¹‹é—´çš„å…³ç³»ç”±å­˜å‚¨å•å…ƒçš„ç›¸é‚»å…³ç³»æ¥ä½“ç°ã€‚</p></li><li><p><strong>é“¾å¼å­˜å‚¨</strong>ï¼š<strong>é€»è¾‘ä¸Šé¡¹é‚»çš„å…ƒç´ åœ¨ç‰©ç†ä½ç½®ä¸Šå¯ä»¥ä¸ç›¸é‚»</strong>ï¼Œå€ŸåŠ©æŒ‡ç¤ºå…ƒç´ å­˜å‚¨åœ°å€çš„<strong>æŒ‡é’ˆ</strong>æ¥è¡¨ç¤ºå…ƒç´ ä¹‹é—´çš„ä½ç½®å…³ç³»ã€‚</p></li><li><p><strong>ç´¢å¼•å­˜å‚¨</strong>ï¼šåœ¨<strong>å­˜å‚¨ä¿¡æ¯çš„åŒæ—¶ï¼Œè¿˜å»ºç«‹é™„åŠ çš„ç´¢å¼•è¡¨</strong>ã€‚ç´¢å¼•è¡¨çš„æ¯é¡¹ç§°ä¸ºç´¢å¼•é¡¹ï¼ˆå½¢å¼æ˜¯<code>å…³é”®å­—ï¼Œåœ°å€</code>ï¼‰</p></li><li><p><strong>æ•£åˆ—å­˜å‚¨</strong>ï¼šæ ¹æ®<strong>å…ƒç´ çš„å…³é”®å­—ç›´æ¥è®¡ç®—å‡ºè¯¥å…ƒç´ çš„å­˜å‚¨åœ°å€</strong>ï¼Œæœ‰ç§°ä¸ºå“ˆå¸Œï¼ˆHashï¼‰å­˜å‚¨ã€‚</p><p><img src=".\store_sum.png" alt=""></p></li></ol><p><img src=".\hash.jpg" alt="hash"></p><blockquote><p>é¡ºåºå­˜å‚¨æ”¯æŒéšæœºè®¿é—®ï¼ˆå³æŒ‰ä¸‹æ ‡è®¿é—®ï¼‰ï¼Œä½†å¯¹å…¶æ•°æ®æ“ä½œè¾ƒä¸ºå¤æ‚ã€‚</p></blockquote><p>æ•°æ®çš„<strong>å­˜å‚¨ç»“æ„</strong>ä¼šå½±å“<strong>å­˜å‚¨ç©ºé—´åˆ†é…çš„æ–¹ä¾¿ç¨‹åº¦</strong>å’Œ<strong>å¯¹æ•°æ®è¿ç®—çš„é€Ÿåº¦</strong></p><h4 id="âœ¨æ•°æ®çš„è¿ç®—"><a href="#âœ¨æ•°æ®çš„è¿ç®—" class="headerlink" title="âœ¨æ•°æ®çš„è¿ç®—"></a>âœ¨æ•°æ®çš„è¿ç®—</h4><p>æ–½åŠ åœ¨æ•°æ®ä¸Šçš„è¿ç®—åŒ…æ‹¬è¿ç®—çš„å®šä¹‰å’Œå®ç°ã€‚</p><ul><li><strong>è¿ç®—çš„å®šä¹‰</strong>ï¼š<strong>é’ˆå¯¹é€»è¾‘ç»“æ„</strong>ï¼ŒæŒ‡å‡ºè¿ç®—çš„<strong>åŠŸèƒ½</strong>ã€‚</li></ul><blockquote><p>å…¥é˜Ÿ/æ ˆï¼Œå‡ºé˜Ÿ/æ ˆï¼Œæ’é˜Ÿï¼Œæ’ç»“ç‚¹â€¦</p></blockquote><ul><li><strong>è¿ç®—çš„å®ç°</strong>ï¼š <strong>äº‰å¯¹å­˜å‚¨ç»“æ„</strong>ï¼ŒæŒ‡å‡ºè¿ç®—çš„å…·ä½“æ­¥éª¤ã€‚</li></ul><blockquote><p>ä¸åŒå­˜å‚¨ç»“æ„å®ç°ä¸Šé¢çš„æ–¹æ³•ä¸ä¸€æ ·ï¼Œå¦‚çº¿æ€§/éçº¿æ€§</p></blockquote><h3 id="æ•°æ®ç±»å‹ã€æŠ½è±¡æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹ã€æŠ½è±¡æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹ã€æŠ½è±¡æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹ã€æŠ½è±¡æ•°æ®ç±»å‹</h3><h4 id="ğŸˆæ•°æ®ç±»å‹"><a href="#ğŸˆæ•°æ®ç±»å‹" class="headerlink" title="ğŸˆæ•°æ®ç±»å‹"></a>ğŸˆæ•°æ®ç±»å‹</h4><p>æ•°æ®ç±»å‹æ˜¯<strong>ä¸€ä¸ªå€¼çš„é›†åˆ</strong>å’Œç¬¬ä¸€åœ¨æ­¤é›†åˆä¸Šçš„<strong>ä¸€ç»„æ“ä½œ</strong>æ€»ç§°ã€‚</p><ol><li><strong>åŸå­ç±»å‹</strong>ã€‚å…¶å€¼ä¸å¯å†åˆ†ï¼ˆboolï¼Œintï¼‰</li><li><strong>ç»“æ„ç±»å‹</strong>ã€‚å…¶å€¼å¯ä»¥å†åˆ†è§£ä¸ºè‹¥å¹²æˆåˆ†ï¼ˆåˆ†é‡ï¼‰çš„æ•°æ®ç±»å‹ï¼ˆå¦‚<code>struct  Ã—Ã—Ã—&#123;   &#125;;</code> ç»“æ„ä½“ï¼‰ã€‚</li></ol><h4 id="ğŸˆæŠ½è±¡æ•°æ®ç±»å‹ï¼ˆADT-Abstract-Data-Typeï¼‰"><a href="#ğŸˆæŠ½è±¡æ•°æ®ç±»å‹ï¼ˆADT-Abstract-Data-Typeï¼‰" class="headerlink" title="ğŸˆæŠ½è±¡æ•°æ®ç±»å‹ï¼ˆADT,Abstract Data Typeï¼‰"></a>ğŸˆæŠ½è±¡æ•°æ®ç±»å‹ï¼ˆADT,Abstract Data Typeï¼‰</h4><p><strong>æŠ½è±¡æ•°æ®ç±»å‹</strong>æ˜¯æŠ½è±¡ç»„ç»‡ä¸ä¹‹ç›¸å…³çš„æ“ä½œ,ADTç”¨æ•°å­¦åŒ–çš„è¯­è¨€å®šä¹‰æ•°æ®çš„é€»è¾‘ç»“æ„ã€è¿ç®—ï¼Œä¸<strong>å…·ä½“å®ç°</strong>æ— å…³ã€‚</p><p>å¸¸ç”¨<strong>ä¸‰å…ƒç»„æ¥è¡¨ç¤º</strong> ï¼ˆD,S,Pï¼‰</p><p>Dæ˜¯æ•°æ®å¯¹è±¡ï¼ŒSæ˜¯Dä¸Šçš„å…³ç³»é›†ï¼ŒPæ˜¯å¯¹Dçš„åŸºæœ¬æ“ä½œé›†ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c">ADT æŠ½è±¡æ•°æ®ç±»å‹å&#123;<br>æ•°æ®å¯¹è±¡: &lt;æ•°æ®å¯¹è±¡çš„å®šä¹‰&gt;<br>æ•°æ®å…³ç³»: &lt;æ•°æ®å…³ç³»çš„å®šä¹‰&gt;<br>åŸºæœ¬æ“ä½œ: &lt;åŸºæœ¬æ“ä½œçš„å®šä¹‰&gt;<br>&#125;ADT æŠ½è±¡æ•°æ®ç±»å‹å<br></code></pre></td></tr></table></figure><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>å½“æˆ‘ä»¬æ¢è®¨æŸä¸€ç§æ•°æ®ç»“æ„æ—¶ï¼Œä¸€èˆ¬æŒ‰ä»¥ä¸‹æ­¥éª¤æ¥å­¦ä¹ </p><p>â‘ å®šä¹‰<strong>é€»è¾‘ç»“æ„</strong>ï¼ˆæ•°æ®å…ƒç´ ä¹‹é—´çš„å…³ç³»ï¼‰</p><p>â‘¡å®šä¹‰<strong>æ•°æ®è¿ç®—</strong>ï¼ˆå®ç°ä»€ä¹ˆæ ·çš„éœ€æ±‚ï¼Œå¯¹è¿™ç§é€»è¾‘ç»“æ„è¿›è¡Œä»€ä¹ˆæ ·çš„è¿ç®—ï¼‰</p><p>â‘¢<strong>ç¡®å®šå­˜å‚¨ç»“æ„</strong>ï¼Œå®ç°æ•°æ®ç»“æ„ï¼Œå¹¶å®ç°ä¸€äº›å¯¹æ•°æ®ç»“æ„çš„åŸºæœ¬è¿ç®—ã€‚</p><p>â‘£å»äº†è§£è¯¥<strong>æ•°æ®ç»“æ„çš„åº”ç”¨</strong>ã€‚</p><p><br></p><p><br></p><hr><p><br></p><p><br></p><h2 id="ç®—æ³•å’Œç®—æ³•è¯„ä»·"><a href="#ç®—æ³•å’Œç®—æ³•è¯„ä»·" class="headerlink" title="ç®—æ³•å’Œç®—æ³•è¯„ä»·"></a>ç®—æ³•å’Œç®—æ³•è¯„ä»·</h2><p><img src=".\algorithm.png" alt="algorithm" style="zoom:67%;" /></p><h2 id="ä»€ä¹ˆæ˜¯ç®—æ³•"><a href="#ä»€ä¹ˆæ˜¯ç®—æ³•" class="headerlink" title="ä»€ä¹ˆæ˜¯ç®—æ³•"></a>ä»€ä¹ˆæ˜¯ç®—æ³•</h2><blockquote><p><strong>ç¨‹åº = æ•°æ®ç»“æ„ + ç®—æ³•</strong></p></blockquote><p><strong>æ•°æ®ç»“æ„</strong>ï¼šå¦‚ä½•æŠŠç°å®ä¸–ç•Œçš„é—®é¢˜ä¿¡æ¯åŒ–ï¼Œå°†ä¿¡æ¯å­˜å…¥è®¡ç®—æœºã€‚åŒæ—¶è¿˜è¦å®ç°å¯¹æ•°æ®ç»“æ„çš„åŸºæœ¬æ“ä½œã€‚</p><p><strong>ç®—æ³•</strong>ï¼šå¦‚ä½•å¤„ç†è¿™äº›ä¿¡æ¯ï¼Œå»è§£å†³å®é™…é—®é¢˜ã€‚</p><blockquote><p>ä¸»è¦å­¦ä¹ <code>æ•°æ®ç»“æ„çš„åº”ç”¨</code>ã€æŸ¥æ‰¾å’Œæ’åºç®—æ³•ã€‚</p></blockquote><h3 id="ç®—æ³•çš„ç‰¹æ€§"><a href="#ç®—æ³•çš„ç‰¹æ€§" class="headerlink" title="ç®—æ³•çš„ç‰¹æ€§"></a>ç®—æ³•çš„ç‰¹æ€§</h3><h4 id="ğŸ‰æœ‰ç©·æ€§"><a href="#ğŸ‰æœ‰ç©·æ€§" class="headerlink" title="ğŸ‰æœ‰ç©·æ€§"></a>ğŸ‰æœ‰ç©·æ€§</h4><p><strong>æœ‰ç©·æ€§</strong>ï¼šä¸€ä¸ª<strong>ç®—æ³•å¿…é¡»æ€»å†æ‰§è¡Œæœ‰ç©·æ­¥ä¹‹åç»“æŸ</strong>ï¼Œä¸”<strong>æ¯ä¸€æ­¥</strong>éƒ½å¯åœ¨<strong>åˆç©·æ—¶é—´</strong>å†…å®Œæˆ(ä½†<strong>ç¨‹åºå¯ä»¥æ˜¯æ— ç©·</strong>çš„)ã€‚</p><h4 id="ğŸ‰ç¡®å®šæ€§"><a href="#ğŸ‰ç¡®å®šæ€§" class="headerlink" title="ğŸ‰ç¡®å®šæ€§"></a>ğŸ‰ç¡®å®šæ€§</h4><p><strong>ç¡®å®šæ€§</strong>ï¼šç®—æ³•ä¸­<strong>æ¯æ¡æŒ‡ä»¤å¿…é¡»æœ‰ç¡®åˆ‡</strong>çš„å«ä¹‰ï¼Œå¯¹äº<strong>ç›¸åŒçš„è¾“å…¥</strong>åªèƒ½å¾—åˆ°<strong>ç›¸åŒçš„è¾“å‡º</strong>ã€‚</p><h4 id="ğŸ‰å¯è¡Œæ€§"><a href="#ğŸ‰å¯è¡Œæ€§" class="headerlink" title="ğŸ‰å¯è¡Œæ€§"></a>ğŸ‰å¯è¡Œæ€§</h4><p><strong>å¯è¡Œæ€§</strong>ï¼šç®—æ³•ä¸­æè¿°çš„æ“ä½œéƒ½å¯ä»¥é€šè¿‡å·²ç»å®ç°çš„<strong>åŸºæœ¬è¿ç®—æ‰§è¡Œæœ‰é™æ¬¡</strong>æ¥å®ç°ã€‚</p><h4 id="ğŸ‰è¾“å…¥"><a href="#ğŸ‰è¾“å…¥" class="headerlink" title="ğŸ‰è¾“å…¥"></a>ğŸ‰è¾“å…¥</h4><p>ä¸€ä¸ªç®—æ³•æœ‰<strong>é›¶ä¸ªæˆ–å¤šä¸ªè¾“å…¥</strong>ï¼Œè¿™äº›è¾“å…¥å–è‡ªäºæŸä¸ªç‰¹å®šçš„å¯¹è±¡é›†åˆ</p><h4 id="ğŸ‰è¾“å‡º"><a href="#ğŸ‰è¾“å‡º" class="headerlink" title="ğŸ‰è¾“å‡º"></a>ğŸ‰è¾“å‡º</h4><p>ä¸€ä¸ªç®—æ³•æœ‰<strong>ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å‡º</strong>ï¼Œè¿™äº›è¾“å‡ºæ˜¯ä¸è¾“å…¥æœ‰ç€æŸäº›ç‰¹å®šå…³ç³»çš„é‡ã€‚</p><blockquote><p>y = fï¼ˆxï¼‰ xæ˜¯è¾“å…¥ï¼Œyæ˜¯è¾“å‡º fï¼ˆï¼‰ä¸ºç®—æ³•ã€‚</p></blockquote><h3 id="ç®—æ³•çš„è¯„ä»·æŒ‡æ ‡"><a href="#ç®—æ³•çš„è¯„ä»·æŒ‡æ ‡" class="headerlink" title="ç®—æ³•çš„è¯„ä»·æŒ‡æ ‡"></a>ç®—æ³•çš„è¯„ä»·æŒ‡æ ‡</h3><h4 id="ğŸŒ¹æ­£ç¡®æ€§"><a href="#ğŸŒ¹æ­£ç¡®æ€§" class="headerlink" title="ğŸŒ¹æ­£ç¡®æ€§"></a>ğŸŒ¹æ­£ç¡®æ€§</h4><p>ç®—æ³•åº”èƒ½å¤Ÿæ­£ç¡®åœ°è§£å†³é—®é¢˜</p><h4 id="ğŸŒ¹å¯è¯»æ€§"><a href="#ğŸŒ¹å¯è¯»æ€§" class="headerlink" title="ğŸŒ¹å¯è¯»æ€§"></a>ğŸŒ¹å¯è¯»æ€§</h4><p>ç®—æ³•åº”è¯¥æœ‰è‰¯å¥½åœ°å¯è¯»æ€§ï¼Œä»¥å¸®åŠ©äººä»¬ç†è§£ï¼ˆè¦æ— æ­§ä¹‰åœ°æè¿°è§£å†³é—®é¢˜çš„æ­¥éª¤ï¼‰</p><h4 id="ğŸŒ¹å¥å£®æ€§"><a href="#ğŸŒ¹å¥å£®æ€§" class="headerlink" title="ğŸŒ¹å¥å£®æ€§"></a>ğŸŒ¹å¥å£®æ€§</h4><p>è¾“å…¥éæ³•æ•°æ®æ—¶ï¼Œç®—æ³•èƒ½é€‚å½“åœ°åšå‡ºååº”æˆ–è¿›è¡Œå¤„ç†ï¼Œè€Œä¸ä¼šäº§ç”Ÿè«åå…¶å¦™çš„è¾“å‡ºç»“æœ</p><h4 id="ğŸŒ¹æ•ˆç‡ä¸ä½å­˜å‚¨é‡éœ€æ±‚"><a href="#ğŸŒ¹æ•ˆç‡ä¸ä½å­˜å‚¨é‡éœ€æ±‚" class="headerlink" title="ğŸŒ¹æ•ˆç‡ä¸ä½å­˜å‚¨é‡éœ€æ±‚"></a>ğŸŒ¹æ•ˆç‡ä¸ä½å­˜å‚¨é‡éœ€æ±‚</h4><p>ç®—æ³•çš„<strong>æ‰§è¡Œæ—¶é—´</strong>å’Œç®—æ³•<strong>æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€éœ€è¦çš„æœ€å¤§å­˜å‚¨ç©ºé—´</strong></p><p>ç®—æ³•æ‰§è¡Œ<strong>çœæ—¶ï¼ˆæ—¶é—´å¤æ‚åº¦ä½ï¼‰</strong>ã€<strong>çœå†…å­˜ï¼ˆç©ºé—´å¤æ‚åº¦ä½ï¼‰</strong></p><h3 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><blockquote><p>ç®—æ³•çš„æ•ˆç‡å¦‚ä½•åº¦é‡ï¼Ÿ <code>æ—¶é—´å¤æ‚åº¦</code>+<code>ç©ºé—´å¤æ‚æ®µ</code></p></blockquote><p><strong>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦</strong>ä¸èƒ½åœ¨äº‹å<strong>ç»Ÿè®¡è¿è¡Œæ—¶é—´çš„æ–¹å¼</strong>è¿›è¡Œç»Ÿè®¡ï¼Œå› ä¸ºç®—æ³•å’Œæœºå™¨æ€§èƒ½ã€ç¼–ç¨‹è¯­è¨€ï¼ˆç¼–è¯‘å™¨ï¼‰â€¦å› ç´ æœ‰å…³ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦é‡‡ç”¨äº‹å‰<strong>é¢„ä¼°ç®—æ³•æ—¶é—´å¼€é”€Tï¼ˆnï¼‰ä¸é—®é¢˜è§„æ¨¡n</strong>çš„å…³ç³» T=T(n)ã€‚</p><h4 id="ğŸ¦ŠOæ¸è¿‘ä¸Šç•Œ"><a href="#ğŸ¦ŠOæ¸è¿‘ä¸Šç•Œ" class="headerlink" title="ğŸ¦ŠOæ¸è¿‘ä¸Šç•Œ"></a>ğŸ¦ŠOæ¸è¿‘ä¸Šç•Œ</h4><p><img src=".\O.png" alt=""></p><h4 id="ğŸ¦ŠÎ©æ¸è¿‘ä¸‹ç•Œ"><a href="#ğŸ¦ŠÎ©æ¸è¿‘ä¸‹ç•Œ" class="headerlink" title="ğŸ¦ŠÎ©æ¸è¿‘ä¸‹ç•Œ"></a>ğŸ¦ŠÎ©æ¸è¿‘ä¸‹ç•Œ</h4><p><img src=".\omiga.png" alt=""></p><h4 id="ğŸ¦ŠÎ¸å‡†ç¡®çš„ç•Œ"><a href="#ğŸ¦ŠÎ¸å‡†ç¡®çš„ç•Œ" class="headerlink" title="ğŸ¦ŠÎ¸å‡†ç¡®çš„ç•Œ"></a>ğŸ¦ŠÎ¸å‡†ç¡®çš„ç•Œ</h4><p><img src=".\sita.png" alt=""></p><p><img src=".\sita2.png" alt=""></p><p>æˆ‘ä»¬åªå…³æ³¨<code>æœ€åæƒ…å†µ</code>å’Œ<code>å¹³å‡æƒ…å†µ</code> æ‰€ä»¥æˆ‘ä»¬è®¡ç®—å‡ºçš„Oé€šå¸¸æ˜¯æŒ‡Î¸å‡†ç¡®ç•Œã€‚</p><h4 id="ä¹˜æ³•å’ŒåŠ æ³•å®šç†"><a href="#ä¹˜æ³•å’ŒåŠ æ³•å®šç†" class="headerlink" title="ä¹˜æ³•å’ŒåŠ æ³•å®šç†"></a>ä¹˜æ³•å’ŒåŠ æ³•å®šç†</h4><p>T(n,m) = T1(n) + T2(n) = O (max ( f(n),g(m) )</p><p>T(n,m) = T1(n) <em> T2(m) = O (f(n) </em> g(m))</p><h4 id="å¸¸è§çš„æ—¶é—´å¤æ‚åº¦"><a href="#å¸¸è§çš„æ—¶é—´å¤æ‚åº¦" class="headerlink" title="å¸¸è§çš„æ—¶é—´å¤æ‚åº¦"></a>å¸¸è§çš„æ—¶é—´å¤æ‚åº¦</h4><p><img src=".\time.png" alt="" style="zoom:60%;" /></p><blockquote><p><strong>O(1) &lt; O(logn) &lt; O(n) &lt; O(nlogn) &lt; O(n2) &lt; O(n3) &lt; O(2n) &lt; O(n!) &lt; O(n<sup>n</sup>) </strong> å¸¸å¯¹å¹‚æŒ‡é˜¶</p></blockquote><p>æˆ‘ä»¬æ ¹æ®åŠ æ³•è§„åˆ™åªéœ€è¦å…³æ³¨<code>å†…å­˜å¾ªç¯</code>ä¸­çš„<code>é˜¶æ•°æœ€é«˜</code>éƒ¨åˆ†ï¼Œæ‰€ä»¥æ‰¾æ±‚æ—¶é—´å¤æ‚åº¦ï¼Œæˆ‘å°±çš„æ–¹æ³•</p><ol><li>æ‰¾å†…å­˜å¾ªç¯</li><li>æ‰¾å¾ªç¯ç»“æŸæ¡ä»¶</li><li>æ ¹æ®ç»“æŸæ¡ä»¶è®¡ç®—å†…å±‚å¾ªç¯å¤§æ¦‚åœ¨é‚£ä¸ªæ•°é‡çº§</li></ol><h3 id="ç©ºé—´å¤æ‚åº¦"><a href="#ç©ºé—´å¤æ‚åº¦" class="headerlink" title="ç©ºé—´å¤æ‚åº¦"></a>ç©ºé—´å¤æ‚åº¦</h3><p><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼š<strong>å†…å­˜å¼€é”€ä¸é—®é¢˜è§„æ¨¡nä¹‹é—´çš„å…³ç³»</strong>    <strong>S(n)=O (g(n))</strong></p><h4 id="å¤æ‚åº¦å¸¸é‡å‹-S-n-Oï¼ˆ1ï¼‰"><a href="#å¤æ‚åº¦å¸¸é‡å‹-S-n-Oï¼ˆ1ï¼‰" class="headerlink" title="å¤æ‚åº¦å¸¸é‡å‹ S(n)=Oï¼ˆ1ï¼‰"></a>å¤æ‚åº¦å¸¸é‡å‹ S(n)=Oï¼ˆ1ï¼‰</h4><p><img src=".\store33.png" alt="ç®—æ³•å¯åŸåœ°å·¥ä½œ"></p><h4 id="éå¸¸é‡å‹ï¼š"><a href="#éå¸¸é‡å‹ï¼š" class="headerlink" title="éå¸¸é‡å‹ï¼š"></a>éå¸¸é‡å‹ï¼š</h4><ol><li>ä¸€ç»´æ•°ç»„ï¼šint flag[n]ï¼Œnè¶Šå¤§ï¼Œå çš„ç©ºé—´è¶Šå¤š</li><li>äºŒç»´æ•°ç»„:  int flag[n][n] , åŒä¸Šï¼Œä¸ºn<sup>2</sup></li><li><strong>å‡½æ•°é€’å½’è°ƒç”¨</strong></li></ol><p><img src=".\DIGUI1.png" alt="é€’å½’1ï¼Œå˜é‡æ— æ•°ç»„"></p><p><img src=".\DIGUI2.png" alt="é€’å½’2ï¼Œå‡½æ•°ä¸­æœ‰æ•°ç»„"></p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-è€ƒç ” -ç‹é“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GoF_åˆ†ç±»</title>
    <link href="/2021/01/23/GoF-%E5%88%86%E7%B1%BB/"/>
    <url>/2021/01/23/GoF-%E5%88%86%E7%B1%BB/</url>
    
    <content type="html"><![CDATA[<h1 id="GOF-23-æ¨¡å¼åˆ†ç±»"><a href="#GOF-23-æ¨¡å¼åˆ†ç±»" class="headerlink" title="GOF-23 æ¨¡å¼åˆ†ç±»"></a>GOF-23 æ¨¡å¼åˆ†ç±»</h1><h2 id="ä»ç›®çš„æ¥çœ‹ï¼š"><a href="#ä»ç›®çš„æ¥çœ‹ï¼š" class="headerlink" title="ä»ç›®çš„æ¥çœ‹ï¼š"></a><a href="ttps://refactoring.guru/design-patterns/catalog">ä»ç›®çš„æ¥çœ‹</a>ï¼š</h2><ul><li><strong>åˆ›å»ºå‹(Creational)æ¨¡å¼</strong> ï¼šå°†<strong>å¯¹è±¡çš„éƒ¨åˆ†åˆ›å»ºå·¥ä½œå»¶è¿Ÿåˆ°å­ç±»æˆ–è€…å…¶ä»–å¯¹è±¡</strong>ï¼Œä»è€Œåº”å¯¹éœ€æ±‚å˜åŒ–ä¸ºå¯¹è±¡åˆ›å»ºæ—¶å…·ä½“ç±»å‹å®ç°å¼•æ¥çš„å†²å‡»ã€‚</li><li><strong>ç»“æ„å‹(Structural) æ¨¡å¼</strong>ï¼š é€šè¿‡<strong>ç±»ç»§æ‰¿æˆ–è€…å¯¹è±¡ç»„åˆè·å¾—æ›´çµæ´»çš„ç»“æ„</strong>ï¼Œä»è€Œåº”å¯¹éœ€æ±‚å˜åŒ–ä¸ºå¯¹è±¡çš„ç»“æ„å¸¦æ¥çš„å†²å‡»ã€‚</li><li><strong>è¡Œä¸ºï¼ˆBehavioral)æ¨¡å¼</strong> ï¼šé€šè¿‡<strong>ç±»ç»§æ‰¿æˆ–è€…å¯¹è±¡ç»„åˆæ¥åˆ’åˆ†ç±»ä¸å¯¹è±¡é—´çš„èŒè´£</strong>ï¼Œä»è€Œåº”å¯¹éœ€æ±‚å˜åŒ–ä¸ºå¤šä¸ªäº¤äº’çš„å¯¹è±¡å¸¦æ¥ çš„å†²å‡»ã€‚</li></ul><p><img src=".\GoF_classify.png" alt=""></p><h2 id="ä»èŒƒå›´æ¥çœ‹"><a href="#ä»èŒƒå›´æ¥çœ‹" class="headerlink" title="ä»èŒƒå›´æ¥çœ‹"></a>ä»èŒƒå›´æ¥çœ‹</h2><ul><li>ç±»æ¨¡å¼å¤„ç†ç±»ä¸å­ç±»çš„é™æ€å…³ç³»ã€‚ </li><li>å¯¹è±¡æ¨¡å¼å¤„ç†å¯¹è±¡é—´çš„åŠ¨æ€å…³ç³»ã€‚</li></ul><h2 id="ä»å°è£…å˜åŒ–è§’åº¦åˆ†ç±»"><a href="#ä»å°è£…å˜åŒ–è§’åº¦åˆ†ç±»" class="headerlink" title="ä»å°è£…å˜åŒ–è§’åº¦åˆ†ç±»"></a>ä»å°è£…å˜åŒ–è§’åº¦åˆ†ç±»</h2><p><img src=".\classify.png" alt="æè€å¸ˆçš„åˆ†ç±»æ–¹æ³•"></p><h2 id="é‡æ„è·å¾—æ¨¡å¼-Refactoring-to-Patterns"><a href="#é‡æ„è·å¾—æ¨¡å¼-Refactoring-to-Patterns" class="headerlink" title="é‡æ„è·å¾—æ¨¡å¼ Refactoring to Patterns"></a>é‡æ„è·å¾—æ¨¡å¼ Refactoring to Patterns</h2><ul><li>é¢å‘å¯¹è±¡è®¾è®¡æ¨¡å¼æ˜¯â€œå¥½çš„é¢å‘å¯¹è±¡è®¾è®¡â€ï¼Œæ‰€è°“â€œå¥½çš„é¢å‘å¯¹è±¡è®¾è®¡â€æŒ‡æ˜¯é‚£äº›å¯ä»¥æ»¡è¶³ â€œ<strong>åº”å¯¹å˜åŒ–ï¼Œæé«˜å¤ç”¨</strong>â€çš„è®¾è®¡ ã€‚</li><li>ç°ä»£è½¯ä»¶è®¾è®¡çš„ç‰¹å¾æ˜¯â€œéœ€æ±‚çš„é¢‘ç¹å˜åŒ–â€ã€‚è®¾è®¡æ¨¡å¼çš„è¦ç‚¹æ˜¯ â€œ<strong>å¯»æ‰¾å˜åŒ–ç‚¹</strong>ï¼Œç„¶ååœ¨å˜åŒ–ç‚¹å¤„åº”ç”¨è®¾è®¡æ¨¡å¼ï¼Œä»è€Œæ¥æ›´å¥½åœ°åº”å¯¹éœ€æ±‚çš„å˜åŒ–â€.â€œ<strong>ä»€ä¹ˆæ—¶å€™ã€ä»€ä¹ˆåœ°ç‚¹åº”ç”¨è®¾è®¡æ¨¡å¼</strong>â€æ¯”â€œç†è§£è®¾è®¡æ¨¡å¼ç»“æ„æœ¬èº«â€æ›´ä¸ºé‡è¦ã€‚</li><li>è®¾è®¡æ¨¡å¼çš„åº”ç”¨<strong>ä¸å®œå…ˆå…¥ä¸ºä¸»</strong>ï¼Œä¸€ä¸Šæ¥å°±ä½¿ç”¨è®¾è®¡æ¨¡å¼æ˜¯å¯¹è®¾è®¡æ¨¡å¼çš„æœ€å¤§è¯¯ç”¨ã€‚æ²¡æœ‰ä¸€æ­¥åˆ°ä½çš„è®¾è®¡æ¨¡å¼ã€‚æ•æ·è½¯ä»¶å¼€å‘å®è·µæå€¡çš„â€œ<strong>Refactoring to Patterns</strong>â€æ˜¯ç›®å‰æ™®éå…¬è®¤çš„æœ€å¥½çš„ä½¿ç”¨è®¾è®¡æ¨¡å¼çš„æ–¹æ³•ã€‚</li></ul><p><img src=".\refactoring.png" alt="æè€å¸ˆæ¨èå›¾ä¹¦"></p><h2 id="é‡æ„å…³é”®æŠ€æ³•"><a href="#é‡æ„å…³é”®æŠ€æ³•" class="headerlink" title="é‡æ„å…³é”®æŠ€æ³•"></a>é‡æ„å…³é”®æŠ€æ³•</h2><h3 id="ğŸŒ¿é™æ€-gt-åŠ¨æ€"><a href="#ğŸŒ¿é™æ€-gt-åŠ¨æ€" class="headerlink" title="ğŸŒ¿é™æ€ -&gt; åŠ¨æ€"></a>ğŸŒ¿é™æ€ -&gt; åŠ¨æ€</h3><h3 id="ğŸŒ¿æ—©ç»‘å®š-gt-æ™šç»‘å®š"><a href="#ğŸŒ¿æ—©ç»‘å®š-gt-æ™šç»‘å®š" class="headerlink" title="ğŸŒ¿æ—©ç»‘å®š -&gt; æ™šç»‘å®š"></a>ğŸŒ¿æ—©ç»‘å®š -&gt; æ™šç»‘å®š</h3><h3 id="ğŸŒ¿ç»§æ‰¿-gt-ç»„åˆ"><a href="#ğŸŒ¿ç»§æ‰¿-gt-ç»„åˆ" class="headerlink" title="ğŸŒ¿ç»§æ‰¿ -&gt; ç»„åˆ"></a>ğŸŒ¿ç»§æ‰¿ -&gt; ç»„åˆ</h3><h3 id="ğŸŒ¿ç¼–è¯‘æ—¶ä¾èµ–-gt-è¿è¡Œæ—¶ä¾èµ–"><a href="#ğŸŒ¿ç¼–è¯‘æ—¶ä¾èµ–-gt-è¿è¡Œæ—¶ä¾èµ–" class="headerlink" title="ğŸŒ¿ç¼–è¯‘æ—¶ä¾èµ– -&gt; è¿è¡Œæ—¶ä¾èµ–"></a>ğŸŒ¿ç¼–è¯‘æ—¶ä¾èµ– -&gt; è¿è¡Œæ—¶ä¾èµ–</h3><h3 id="ğŸŒ¿ç´§è€¦åˆ-gt-æ¾è€¦åˆ"><a href="#ğŸŒ¿ç´§è€¦åˆ-gt-æ¾è€¦åˆ" class="headerlink" title="ğŸŒ¿ç´§è€¦åˆ -&gt; æ¾è€¦åˆ"></a>ğŸŒ¿ç´§è€¦åˆ -&gt; æ¾è€¦åˆ</h3>]]></content>
    
    
    <categories>
      
      <category>è®¾è®¡æ¨¡å¼</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-è®¾è®¡æ¨¡å¼ -cpp -æå»ºå¿ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é€’å½’:Fibonacciï¼ˆğŸ‡ğŸ¸ï¼‰ä¸ğŸ—¼</title>
    <link href="/2021/01/23/Fibonacci%E5%85%94%E4%B8%8E%E9%9D%92%E8%9B%99/"/>
    <url>/2021/01/23/Fibonacci%E5%85%94%E4%B8%8E%E9%9D%92%E8%9B%99/</url>
    
    <content type="html"><![CDATA[<h1 id="Fibonacci"><a href="#Fibonacci" class="headerlink" title="Fibonacci"></a>Fibonacci</h1><h2 id="é—®é¢˜å¼•å…¥"><a href="#é—®é¢˜å¼•å…¥" class="headerlink" title="é—®é¢˜å¼•å…¥"></a>é—®é¢˜å¼•å…¥</h2><p>è¥¿å…ƒ1202å¹´ï¼Œä¸€ä½åå«æ–æ³¢é‚£å¥‘æ„å¤§åˆ©é’å¹´åœ¨ä»–çš„ä¸€éƒ¨è‘—ä½œä¸­æå‡ºäº†ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜:   å‡è®¾ä¸€å¯¹åˆšå‡ºç”Ÿçš„å°å…”<strong>ä¸€ä¸ªæœˆå</strong>å°±èƒ½é•¿æˆå¤§å…”ï¼Œå†è¿‡ä¸€ä¸ªæœˆå°±èƒ½ç”Ÿä¸‹ä¸€å¯¹å°å…”ï¼Œå¹¶ä¸”æ­¤åæ¯ä¸ªæœˆéƒ½ç”Ÿä¸€å¯¹å°å…”ï¼Œä¸€å¹´å†…æ²¡æœ‰å‘ç”Ÿæ­»äº¡ï¼Œé—®ï¼šä¸€å¯¹åˆšå‡ºç”Ÿçš„å…”å­ï¼Œä¸€å¹´å†…ç¹æ®–æˆå¤šå°‘å¯¹å…”å­?</p><p><img src=".\tuzi.jpg" alt="" style="zoom:67%;" /></p><blockquote><p>é»‘ç‚¹è¡¨ç¤ºçš„æ˜¯æˆç†Ÿå…”å­ï¼Œç™½ç‚¹è¡¨ç¤ºçš„æ˜¯å°å…”å­</p></blockquote><p>ç”±å›¾æˆ‘ä»¬å¯ä»¥å‘ç°è¿™ä¸ªæ•°å­—æ˜¯ç”±è§„å¾‹çš„ï¼Œ<code>è¯¥æœˆçš„å…”å­æ•°=å‰ä¸¤ä¸ªæœˆä¹‹å’Œ</code>ï¼ˆå¦‚æœæœˆä»½&gt;2çš„è¯ï¼‰ï¼Œè¿™å¾ˆå¥½ç†è§£ï¼Œä¸Šä¸Šä¸ªæœˆçš„å…”å­åˆ°ä¸Šä¸ªæœˆæ—¶éƒ½æ˜¯æˆç†Ÿçš„å…”å­ğŸ‡ï¼Œæ‰€ä»¥ <code>è¯¥æœˆçš„å…”å­æ•°=å‰ä¸€ä¸ªæœˆçš„å…”å­+å‰ä¸€ä¸ªæœˆå·²ç»æˆç†Ÿçš„å…”å­ï¼ˆå³æˆç†Ÿçš„å…”å­ï¼‰</code>å…¬å¼ğŸ‘‡</p><script type="math/tex; mode=display">F[n]=\begin{cases}    0,n=0\\    1,n=1\\    F[n-1]+F[n-2],n>=2\\\end{cases}</script><p><img src=".\number.jpg" alt="å¢é•¿ç‡0.618" style="zoom:67%;" /></p><p>è¿™å°±å¼•å…¥äº†æ–æ³¢é‚£å¥‘æ•°åˆ—çš„é—®é¢˜ï¼Œæ›´å¤šè¯¦æƒ…è¯·çœ‹ğŸ‘‰ <a href="https://zhuanlan.zhihu.com/p/26752744">ä¸æ­»ç¥å…”çš„ç¹è¡ç”Ÿæ¯â€”â€”ç¥å¥‡çš„æ–æ³¢é‚£å¥‘æ•°åˆ—</a> </p><h2 id="é€šé¡¹å…¬å¼"><a href="#é€šé¡¹å…¬å¼" class="headerlink" title="é€šé¡¹å…¬å¼"></a>é€šé¡¹å…¬å¼</h2><script type="math/tex; mode=display">é€’æ¨å…¬å¼ï¼šan=anâˆ’1+anâˆ’2(nâ‰¥3)</script><script type="math/tex; mode=display">è£‚é¡¹ç›¸æ¶ˆï¼šanâˆ’Î»anâˆ’1=Î¼(anâˆ’1âˆ’Î»anâˆ’2)</script><script type="math/tex; mode=display">\begin{cases}    Î»+Î¼=1\\    âˆ’Î»Ã—Î¼=1\end{cases}</script><p>æ±‚å‡ºÎ»å’ŒÎ¼ä¸¤ç»„è§£æ”¾å…¥è£‚é¡¹ç›¸æ¶ˆçš„åŸå¼ä¸­</p><p><img src=".\formula1.png" alt=""></p><p><img src=".\formula4.png" alt=""></p><p><img src=".\formula3.png" alt=""></p><script type="math/tex; mode=display">æœ€åæ±‚å¾—é€šé¡¹å…¬å¼:F(N)={5\over\sqrt5}(({1+\sqrt5\over2})^n-({1-\sqrt5\over2})^n)</script><h2 id="ç®—æ³•æ±‚è§£ï¼š"><a href="#ç®—æ³•æ±‚è§£ï¼š" class="headerlink" title="ç®—æ³•æ±‚è§£ï¼š"></a>ç®—æ³•æ±‚è§£ï¼š</h2><p>ä¸å±•å¼€Fibonacciçš„è¯é¢˜æ¢è®¨äº†ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç”¨ä»£ç æ¥è§£å†³ä¸Šé¢è¿™ä¸ªå…”å­é—®é¢˜      ï¼ˆğŸ”—ğŸ‘‰ <a href="https://leetcode-cn.com/problems/fei-bo-na-qi-shu-lie-lcof/">Fibonacci Leetcode</a>ï¼‰</p><h3 id="é€’å½’æ±‚æ³•"><a href="#é€’å½’æ±‚æ³•" class="headerlink" title="é€’å½’æ±‚æ³•"></a>é€’å½’æ±‚æ³•</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//method 1  é€’å½’ç®—æ³•æ±‚è§£</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">fib</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(n&lt;=<span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(n==<span class="hljs-number">1</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> fib(n<span class="hljs-number">-1</span>)+fib(n<span class="hljs-number">-2</span>);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><img src=".\recursion.png" alt="é€’å½’ç®—æ³•n=4çš„è¿‡ç¨‹"></p><p>æ˜¾ç„¶æˆ‘ä»¬çœ‹åˆ°é€’å½’ç®—æ³•è®¡ç®—n=4æ—¶ï¼Œf(1)è¢«è®¡ç®—äº†ä¸‰æ¬¡ï¼Œf(2)è¢«è®¡ç®—äº†ä¸¤æ¬¡â€¦  è®¡ç®—æ•ˆç‡åº•ä¸‹ã€‚</p><script type="math/tex; mode=display">é€šé¡¹å…¬å¼:F(N)={5\over\sqrt5}(({1+\sqrt5\over2})^n-({1-\sqrt5\over2})^n)</script><p>å¤æ‚åº¦çš„è®¡ç®—ï¼šæ¯ä¸ªç»“ç‚¹éƒ½æœ‰ä¸€æ¬¡è®¡ç®—ï¼Œæˆ‘ä»¬è®¡ç®—æ€»ç»“ç‚¹æ•°å³å¯ã€‚</p><ul><li>ç¬¬Nè½®çš„å¶å­ç»“ç‚¹æ€»æ•°:      F[N]=F[n-1]+F[n-2]</li><li>è€Œéå¶å­ç»“ç‚¹åŠ ä¸€ç­‰äºå¶å­ç»“ç‚¹    <ul><li>æ€»ç»“ç‚¹=F[n-1]+F[n-2]+F[n-1]+F[n-2]-1=2F[n-1]+2F[N-2]-1&lt;4F[N-1]</li></ul></li><li>æ˜¾ç„¶ï¼Œnè¶‹äºâˆæ—¶ï¼ŒOï¼ˆ2F[n-1]+2F[N-2]-1ï¼‰ =  Oï¼ˆ4F[N-1]ï¼‰= Oï¼ˆF[N]ï¼‰</li></ul><p>æ•…æ—¶é—´å¤æ‚åº¦ï¼Œç­‰äºé€šé¡¹å…¬å¼ï¼Œå»æ‰å°äº1çš„æŒ‡æ•°é¡¹ï¼Œå¾—ï¼š  <code>(è¿™é‡ŒOæ˜¯æ¸è¿›ä¸Šå±Š)</code></p><script type="math/tex; mode=display">O({1+\sqrt5\over2})^n</script><h3 id="è¿­ä»£"><a href="#è¿­ä»£" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>   <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">fib</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> m = <span class="hljs-number">2</span>; m &lt;= n; m++) &#123;<br>        k = i + j;<br>        i = j;<br>        j = k;<br>    &#125;<br>        <span class="hljs-keyword">return</span> k;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><blockquote><p>LeetCodeæ³¨æ„ç‚¹ï¼šç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚k = i + jè¿™å¥åé¢åŠ ä¸€ä¸ª%1000000007å³å¯ï¼Œå°½é‡ä¸è¦åœ¨åé¢returnå†å–ä½™ï¼Œå…ˆå–åå–ç»“æœæ˜¯ä¸€æ ·çš„,åå–è¿˜å¯èƒ½æº¢å‡ºã€‚</p></blockquote><p>è¿­ä»£çš„<code>å¤æ‚åº¦å°±æ˜¯n</code>   </p><h2 id="æ‹“å±•ï¼šé’è›™è·³å°é˜¶"><a href="#æ‹“å±•ï¼šé’è›™è·³å°é˜¶" class="headerlink" title="æ‹“å±•ï¼šé’è›™è·³å°é˜¶"></a><a href="https://leetcode-cn.com/problems/qing-wa-tiao-tai-jie-wen-ti-lcof/">æ‹“å±•ï¼šé’è›™è·³å°é˜¶</a></h2><p>ä¸€åªé’è›™ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§å°é˜¶ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ª <code>n</code> çº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ã€‚</p><blockquote><p>ç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚</p></blockquote><ul><li>ç¬¬ä¸€çº§å°é˜¶æœ‰1ç§è·³æ³•è·³ä¸Šå»</li><li>ç¬¬äºŒçº§å°é˜¶æœ‰2ç§è·³æ³•è·³ä¸Šå»ï¼Œä¸€ç§æ˜¯ç›´æ¥è·³ä¸¤çº§å°é˜¶ï¼Œä¸€ç§æ˜¯ä¸¤æ¬¡è·³1çº§å°é˜¶</li><li>ç¬¬nçº§æœ‰<code>ä¸¤ç§æ–¹å¼</code>ç¬¬ä¸€ç§æ˜¯ä»<code>n-1çº§è·³1çº§å°é˜¶ä¸Šå»</code>ï¼Œç¬¬äºŒç§æ˜¯ä»<code>n-2çº§è·³ä¸¤çº§å°é˜¶ä¸Šå»</code>ï¼Œæ‰€ä»¥<code>è·³ä¸Šnçº§å°é˜¶çš„ç§æ•°æœ‰f(n-1)+f(n-2)</code></li></ul><script type="math/tex; mode=display">F[n]=\begin{cases}    1,n=1\\    2,n=2\\    F[n-1]+F[n-2],n>=3\\\end{cases}</script><p>Fibonacciå…¬å¼åŒæ ·é€‚ç”¨äºè¿™é‡Œã€‚ <code>//æ³¨æ„åŠ›æ‰£é¢˜ç›®æ ·ä¾‹ä¸­0çº§å°é˜¶ä¹Ÿæœ‰ä¸€ç§è·³æ³•</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">numWays</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span> || n == <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> m = <span class="hljs-number">2</span>; m &lt;= n; m++) &#123;<br>            k = (i + j) % <span class="hljs-number">1000000007</span>;<br>            i = j;<br>            j = k;<br>        &#125;<br>        <span class="hljs-keyword">return</span> k;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="æ±‰è¯ºå¡”"><a href="#æ±‰è¯ºå¡”" class="headerlink" title="æ±‰è¯ºå¡”"></a><a href="https://leetcode-cn.com/problems/hanota-lcci/">æ±‰è¯ºå¡”</a></h1><h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>åœ¨ç»å…¸æ±‰è¯ºå¡”é—®é¢˜ä¸­ï¼Œæœ‰ 3 æ ¹æŸ±å­åŠ N ä¸ªä¸åŒå¤§å°çš„ç©¿å­”åœ†ç›˜ï¼Œç›˜å­å¯ä»¥æ»‘å…¥ä»»æ„ä¸€æ ¹æŸ±å­ã€‚ä¸€å¼€å§‹ï¼Œæ‰€æœ‰ç›˜å­è‡ªä¸Šè€Œä¸‹æŒ‰å‡åºä¾æ¬¡å¥—åœ¨ç¬¬ä¸€æ ¹æŸ±å­ä¸Š(å³<strong>æ¯ä¸€ä¸ªç›˜å­åªèƒ½æ”¾åœ¨æ›´å¤§çš„ç›˜å­ä¸Šé¢</strong>)ã€‚ç§»åŠ¨åœ†ç›˜æ—¶å—åˆ°ä»¥ä¸‹é™åˆ¶:<br>(1) æ¯æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªç›˜å­;<br>(2) ç›˜å­åªèƒ½ä»æŸ±å­é¡¶ç«¯æ»‘å‡ºç§»åˆ°ä¸‹ä¸€æ ¹æŸ±å­;<br>(3) ç›˜å­åªèƒ½å åœ¨æ¯”å®ƒå¤§çš„ç›˜å­ä¸Šã€‚</p><p>è¯·ç¼–å†™ç¨‹åºï¼Œç”¨æ ˆå°†æ‰€æœ‰ç›˜å­ä»ç¬¬ä¸€æ ¹æŸ±å­ç§»åˆ°æœ€åä¸€æ ¹æŸ±å­ï¼Œä½ éœ€è¦åŸåœ°ä¿®æ”¹æ ˆã€‚</p><blockquote><p>åæ§½ï¼šç›´æ¥æŠŠç¬¬ä¸€æ ¹æŸ±å­å’Œæœ€åä¸€æ ¹æ¢ä¸€ä¸‹ä¸å°±å¾—äº†å˜›ğŸ˜‚</p></blockquote><ul><li><p><strong>æƒ…å†µ1</strong>ï¼šn=1åªæœ‰ä¸€ä¸ªç›˜å­ï¼Œç›´æ¥æŠŠAç§»åŠ¨åˆ°Cå°±å¯ä»¥äº†</p></li><li><p><strong>æƒ…å†µ2ï¼š</strong>n=2æœ‰ä¸¤ä¸ªç›˜å­ğŸ‘‡</p></li></ul><p><img src=".\tower1.gif" alt=""></p><ul><li><p><strong>æƒ…å†µ3</strong>ï¼šn&gt;2 ,æŠŠ n ä¸ªç›˜å­ä¹Ÿçœ‹æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æœ‰ 1 ä¸ªç›˜å­ï¼Œå¦ä¸€éƒ¨åˆ†æœ‰ n - 1ä¸ªç›˜å­ã€‚</p><p><img src=".\tower2.gif" alt=""></p></li></ul><blockquote><p>ä½ å¯èƒ½ä¼šé—®ï¼šâ€œé‚£ n - 1 ä¸ªç›˜å­æ˜¯æ€ä¹ˆä» A ç§»åˆ° C çš„å‘¢ï¼Ÿâ€</p><p>æ³¨æ„ï¼Œå½“ä½ åœ¨æ€è€ƒè¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œå°±å°†<strong>æœ€åˆçš„ n ä¸ªç›˜å­ä» A ç§»åˆ° C çš„é—®é¢˜ï¼Œè½¬åŒ–æˆäº†å°† n - 1 ä¸ªç›˜å­ä» A ç§»åˆ° C çš„é—®é¢˜ï¼Œ ä¾æ¬¡ç±»æ¨ï¼Œç›´è‡³è½¬åŒ–æˆ 1 ä¸ªç›˜å­çš„é—®é¢˜æ—¶ï¼Œé—®é¢˜ä¹Ÿå°±è§£å†³äº†</strong>ã€‚è¿™å°±æ˜¯åˆ†æ²»çš„æ€æƒ³ã€‚ï¼ˆå¼•ç”¨åŠ›æ‰£ä½œè€…<a href="https://leetcode-cn.com/problems/hanota-lcci/solution/tu-jie-yi-nuo-ta-de-gu-shi-ju-shuo-dang-64ge-pan-z/">z1mğŸ”—</a>ï¼‰</p></blockquote><h2 id="ç®—æ³•æ±‚è§£"><a href="#ç®—æ³•æ±‚è§£" class="headerlink" title="ç®—æ³•æ±‚è§£"></a>ç®—æ³•æ±‚è§£</h2><ul><li>n = 1 æ—¶ï¼Œç›´æ¥æŠŠç›˜å­ä» A ç§»åˆ° Cï¼›</li><li>n &gt; 1 æ—¶ï¼Œ<ul><li>å…ˆæŠŠä¸Šé¢ n - 1 ä¸ªç›˜å­ä» A ç§»åˆ° Bï¼ˆå­é—®é¢˜ï¼Œé€’å½’ï¼‰ï¼›</li><li>å†å°†æœ€å¤§çš„ç›˜å­ä» A ç§»åˆ° Cï¼›</li><li>å†å°† B ä¸Š n - 1 ä¸ªç›˜å­ä» B ç§»åˆ° Cï¼ˆå­é—®é¢˜ï¼Œé€’å½’ï¼‰ã€‚</li></ul></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">hanota</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; A, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; B, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; C)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> n=A.size();<br>        move(n,A,B,C);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">move</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n,<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; A, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; B, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; C)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(n==<span class="hljs-number">1</span>)&#123;<br>            C.push_back(A.back());<br>            A.pop_back();<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-comment">//å…ˆæŠŠä¸Šé¢n-1ä¸ªç›˜å­ä»Aç§»åˆ°Bï¼ˆå­é—®é¢˜ï¼Œé€’å½’ï¼‰</span><br>            move(n<span class="hljs-number">-1</span>,A,C,B);<br>            <span class="hljs-comment">//å†å°†æœ€å¤§çš„ç›˜å­ä» A ç§»åˆ° C</span><br>            C.push_back(A.back());<br>            A.pop_back();<br>            <span class="hljs-comment">//å†å°†Bä¸Šn-1ä¸ªç›˜å­ä»Bç§»åˆ°Cï¼ˆå­é—®é¢˜ï¼Œé€’å½’ï¼‰</span><br>            move(n<span class="hljs-number">-1</span>,B,A,C);<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-ç®—æ³•æ€»ç»“</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å›æ–‡ä¸è¿›åˆ¶è½¬åŒ–</title>
    <link href="/2021/01/23/%E5%9B%9E%E6%96%87%E4%B8%8E%E8%BF%9B%E5%88%B6%E8%BD%AC%E5%8C%96/"/>
    <url>/2021/01/23/%E5%9B%9E%E6%96%87%E4%B8%8E%E8%BF%9B%E5%88%B6%E8%BD%AC%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h1 id="å›æ–‡æ•°"><a href="#å›æ–‡æ•°" class="headerlink" title="å›æ–‡æ•°"></a>å›æ–‡æ•°</h1><p>å…ˆæ¥çœ‹è¿™ä¸€ä¸ªé¢˜ç›®ğŸ‘‡</p><h2 id="9-å›æ–‡æ•°"><a href="#9-å›æ–‡æ•°" class="headerlink" title="9. å›æ–‡æ•°"></a><a href="https://leetcode-cn.com/problems/palindrome-number/">9. å›æ–‡æ•°</a></h2><p>â€‹        åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦æ˜¯å›æ–‡æ•°ã€‚å›æ–‡æ•°æ˜¯æŒ‡æ­£åºï¼ˆä»å·¦å‘å³ï¼‰å’Œå€’åºï¼ˆä»å³å‘å·¦ï¼‰è¯»éƒ½æ˜¯ä¸€æ ·çš„æ•´æ•°ã€‚</p><p><strong>ç¤ºä¾‹1ï¼š</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">è¾“å…¥: 121</span><br><span class="hljs-section">è¾“å‡º: true</span><br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹2ï¼š</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">è¾“å…¥: -121</span><br><span class="hljs-section">è¾“å‡º: false</span><br><span class="hljs-section">è§£é‡Š: ä»å·¦å‘å³è¯», ä¸º -121 ã€‚ ä»å³å‘å·¦è¯», ä¸º 121- ã€‚å› æ­¤å®ƒä¸æ˜¯ä¸€ä¸ªå›æ–‡æ•°ã€‚</span><br></code></pre></td></tr></table></figure><p>â€‹        å›æ–‡æ•°ä¸€èˆ¬éƒ½å¾ˆå¥½æƒ³ï¼Œè´Ÿæ•°å°±è‚¯å®šä¸æ˜¯å›æ–‡äº†ï¼Œç›´æ¥falseï¼Œç„¶åæˆ‘çš„ä¸¤ç§æ€è·¯ã€‚</p><ol><li><strong>æ•´æ•°è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</strong>ï¼Œç”¨å¾ªç¯åˆ¤æ–­ï¼Œæ¯”è¾ƒç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªï¼Œç¬¬äºŒä¸ªå’Œå€’æ•°ç¬¬äºŒä¸ªâ€¦</li><li>å°†è¿™ä¸ª<strong>æ•´æ•°è¿›è¡Œç¿»è½¬</strong>ï¼Œç„¶åå†å’ŒåŸæ•´æ•°å¯¹æ¯”ã€‚</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//æ€è·¯ä¸€å®ç°: ç”¨stringåº“ä¸­çš„to_string()å‡½æ•°(å› ä¸ºæµ®ç‚¹æ•°æœ¬èº«è¡¨ç¤ºåŸå› ï¼Œè¿™ä¸ªå‡½æ•°å¯¹æµ®ç‚¹æ•°è½¬åŒ–ä¸€èˆ¬ä¸ä¼šå¾—åˆ°æƒ³è¦çš„ç»“æœ)</span><br><span class="hljs-built_in">string</span> s= to_string(number);<br><span class="hljs-keyword">int</span> lens=s.length();<br><span class="hljs-keyword">for</span>();<br><span class="hljs-comment">//æ€è·¯äºŒå®ç°:</span><br><span class="hljs-comment">//å‰”é™¤ä¸èƒ½ç¿»è½¬çš„æ•´æ•°</span><br><span class="hljs-keyword">if</span>(x % <span class="hljs-number">10</span> == <span class="hljs-number">0</span> &amp;&amp; x != <span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;&#125;<br><span class="hljs-comment">//ç¿»è½¬</span><br><span class="hljs-keyword">int</span> reverteNumber = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> tmp = number;<br>    <span class="hljs-keyword">while</span> (tmp != <span class="hljs-number">0</span>) &#123;<br>        reverteNumber = reverteNumber * <span class="hljs-number">10</span> + tmp % <span class="hljs-number">10</span>;<br>        tmp /= <span class="hljs-number">10</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (reverteNumber == number) &#123; <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; &#125;<br>    <span class="hljs-keyword">else</span> &#123; <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; &#125;<br></code></pre></td></tr></table></figure><p>ç„¶åå†æ¥çœ‹ä¸€ä¸‹ä¸¤é“è“æ¡¥çš„é¢˜ç›®</p><h2 id="BASIC-8-å›æ–‡æ•°"><a href="#BASIC-8-å›æ–‡æ•°" class="headerlink" title="BASIC-8 å›æ–‡æ•°"></a>BASIC-8 <a href="http://lx.lanqiao.cn/problem.page?gpid=T47">å›æ–‡æ•°</a></h2><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><p>â€‹        1221æ˜¯ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„æ•°ï¼Œå®ƒä»å·¦è¾¹è¯»å’Œä»å³è¾¹è¯»æ˜¯ä¸€æ ·çš„ï¼Œç¼–ç¨‹æ±‚æ‰€æœ‰è¿™æ ·çš„å››ä½åè¿›åˆ¶æ•°ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼ï¼š</strong></p><p>â€‹        æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºè¾“å‡ºæ»¡è¶³æ¡ä»¶çš„å››ä½åè¿›åˆ¶æ•°ã€‚</p><blockquote><p>â€‹        ä¸€æ¨¡ä¸€æ ·çš„é¢˜ç›®é¢˜ç›®å¯¹ä¸å¯¹ï¼Œç›´æ¥å†™ä¸ªå¾ªç¯ä»1000å¼€å§‹åˆ¤æ–­ï¼ŒæŒ‰ä¸Šé¢çš„ä¸¤ç§æ€è·¯çœ‹è¿™ä¸ªæ•°æ˜¯ä¸æ˜¯å›æ–‡ï¼Œæ˜¯å›æ–‡åˆ™è¾“å‡ºï¼Œä¸æ˜¯åˆ™continueä¸‹ä¸€ä¸ªç›´åˆ°9999ä¸ºæ­¢ï¼Œç„¶åæˆ‘æ¡†æ¡†æ¡†ï¼Œå•ªå•ªå•ªå†™ä¸‹æ¥äº†ï¼Œ40+è¡Œï¼Œç„¶åæˆ‘çœ‹åˆ°åˆ«äºº(æŸ³è¯º)çš„é¢˜è§£ğŸ‘‡ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">9</span>; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= <span class="hljs-number">9</span>; j++) &#123;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; i &lt;&lt; j &lt;&lt; j &lt;&lt; i &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹        é¢˜ç›®åªæ˜¯è®©ä½ è¾“å‡ºæ•°å­—ï¼Œæ²¡è®©ä½ åˆ¤æ–­æ˜¯ä¸æ˜¯å›æ–‡æ•°ï¼ŒæŠ“ä½æœ¬è´¨é—®é¢˜ï¼Œåšçš„å·¥ä½œæœç„¶è¿˜æ˜¯è¦å°‘ä¸€äº›ğŸ˜¥</p><h2 id="BASIC-7-amp-9-ç‰¹æ®Šçš„æ•°å­—-amp-ç‰¹æ®Šå›æ–‡æ•°"><a href="#BASIC-7-amp-9-ç‰¹æ®Šçš„æ•°å­—-amp-ç‰¹æ®Šå›æ–‡æ•°" class="headerlink" title="BASIC-7&amp;9  ç‰¹æ®Šçš„æ•°å­— &amp;ç‰¹æ®Šå›æ–‡æ•°"></a>BASIC-7&amp;9 <a href="http://lx.lanqiao.cn/problem.page?gpid=T46"> ç‰¹æ®Šçš„æ•°å­—</a> &amp;<a href="http://lx.lanqiao.cn/problem.page?gpid=T48">ç‰¹æ®Šå›æ–‡æ•°</a></h2><h3 id="ç‰¹æ®Šæ•°å­—ï¼š"><a href="#ç‰¹æ®Šæ•°å­—ï¼š" class="headerlink" title="ç‰¹æ®Šæ•°å­—ï¼š"></a>ç‰¹æ®Šæ•°å­—ï¼š</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><p>â€‹        153æ˜¯ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„æ•°ï¼Œå®ƒç­‰äºå®ƒçš„æ¯ä½æ•°å­—çš„ç«‹æ–¹å’Œï¼Œå³153=1Ã—1Ã—1+5Ã—5Ã—5+3Ã—3Ã—3ã€‚ç¼–ç¨‹æ±‚æ‰€æœ‰æ»¡è¶³è¿™ç§æ¡ä»¶çš„ä¸‰ä½åè¿›åˆ¶æ•°ã€‚</p><blockquote><p>â€‹        æˆ‘ä¹‹å‰è¿™ä¸ªé¢˜ä¹Ÿæ˜¯æŠŠä¸ªä½ï¼Œåä½ï¼Œç™¾ä½å…¨éƒ¨å–å‡ºæ¥ï¼Œå†åˆ¤æ–­ï¼Œä½†æ˜¯æŒ‰ç…§ç¬¬å…«é¢˜çš„æ€è·¯ï¼Œå®Œå…¨ä¸ç”¨è¿™æ ·å¹²ï¼Œä¸‰é‡å¾ªç¯ï¼ˆi,j,kåˆ†åˆ«ä»£è¡¨ä¸ªä½ã€åä½ã€ç™¾ä½ï¼‰,å†å†™åˆ¤æ–­1Ã—1Ã—1+5Ã—5Ã—5+3Ã—3Ã—3  ï¼Ÿ=153ï¼Œå¦‚æœç­‰äºcout&lt;&lt;i&lt;&lt;j&lt;&lt;k å³å¯ã€‚</p></blockquote><h3 id="ç‰¹æ®Šå›æ–‡æ•°"><a href="#ç‰¹æ®Šå›æ–‡æ•°" class="headerlink" title="ç‰¹æ®Šå›æ–‡æ•°"></a>ç‰¹æ®Šå›æ–‡æ•°</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><p>â€‹        123321æ˜¯ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„æ•°ï¼Œå®ƒä»å·¦è¾¹è¯»å’Œä»å³è¾¹è¯»æ˜¯ä¸€æ ·çš„ã€‚è¾“å…¥ä¸€ä¸ªæ­£æ•´æ•°nï¼Œ ç¼–ç¨‹æ±‚æ‰€æœ‰è¿™æ ·çš„äº”ä½å’Œå…­ä½åè¿›åˆ¶æ•°ï¼Œæ»¡è¶³å„ä½æ•°å­—ä¹‹å’Œç­‰äºn ã€‚</p><blockquote><p>ä¹Ÿæ˜¯ä¸Šé¢ç¬¬å…«é¢˜çš„æ€è·¯ï¼Œä¸è¿‡äº”ä½å’Œå…­ä½åˆ†åˆ«å†™ä¸¤ä¸ªå¾ªç¯ã€‚</p></blockquote><hr><h1 id="è¿›åˆ¶è½¬æ¢"><a href="#è¿›åˆ¶è½¬æ¢" class="headerlink" title="è¿›åˆ¶è½¬æ¢"></a>è¿›åˆ¶è½¬æ¢</h1><h2 id="BASIC-10-åè¿›åˆ¶è½¬åå…­è¿›åˆ¶"><a href="#BASIC-10-åè¿›åˆ¶è½¬åå…­è¿›åˆ¶" class="headerlink" title="BASIC-10 åè¿›åˆ¶è½¬åå…­è¿›åˆ¶"></a>BASIC-10 <a href="http://lx.lanqiao.cn/problem.page?gpid=T49">åè¿›åˆ¶è½¬åå…­è¿›åˆ¶</a></h2><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><p>â€‹        åå…­è¿›åˆ¶æ•°æ˜¯åœ¨ç¨‹åºè®¾è®¡æ—¶ç»å¸¸è¦ä½¿ç”¨åˆ°çš„ä¸€ç§æ•´æ•°çš„è¡¨ç¤ºæ–¹å¼ã€‚å®ƒæœ‰0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,Få…±16ä¸ªç¬¦å·ï¼Œåˆ†åˆ«è¡¨ç¤ºåè¿›åˆ¶æ•°çš„0è‡³15ã€‚åå…­è¿›åˆ¶çš„è®¡æ•°æ–¹æ³•æ˜¯æ»¡16è¿›1ï¼Œæ‰€ä»¥åè¿›åˆ¶æ•°16åœ¨åå…­è¿›åˆ¶ä¸­æ˜¯10ï¼Œè€Œåè¿›åˆ¶çš„17åœ¨åå…­è¿›åˆ¶ä¸­æ˜¯11ï¼Œä»¥æ­¤ç±»æ¨ï¼Œåè¿›åˆ¶çš„30åœ¨åå…­è¿›åˆ¶ä¸­æ˜¯1Eã€‚<br>â€‹        ç»™å‡ºä¸€ä¸ªéè´Ÿæ•´æ•°ï¼Œå°†å®ƒè¡¨ç¤ºæˆåå…­è¿›åˆ¶çš„å½¢å¼ã€‚</p><ul><li>è¾“å…¥æ ¼å¼ï¼šè¾“å…¥åŒ…å«ä¸€ä¸ªéè´Ÿæ•´æ•°aï¼Œè¡¨ç¤ºè¦è½¬æ¢çš„æ•°ã€‚0&lt;=a&lt;=2147483647ã€‚  å¦‚ï¼š30</li><li>è¾“å‡ºæ ¼å¼ï¼šè¾“å‡ºè¿™ä¸ªæ•´æ•°çš„16è¿›åˆ¶è¡¨ç¤ºã€‚å¦‚: 1E</li></ul><p>ç¬¬ä¸€çœ¼çœ‹åˆ°è¿™ä¸ªé¢˜çš„æ—¶å€™æˆ‘éƒ½æ²¡å¾—çŠ¹è±«ï¼Œç›´æ¥è¾“å‡ºæµä¸­è°ƒæ•´<code>cout&lt;&lt;hex&lt;&lt;number;</code>ï¼Œå½“ç„¶è¿™ä¹Ÿæ˜¯ä¸€ç§è€èµ–çš„åšæ³•ï¼Œé»˜è®¤<code>cout&lt;&lt;hex&lt;&lt;number;</code>è¾“å‡ºçš„æ˜¯1eï¼Œé¢˜ç›®è¦æ±‚é‚£ä¸ªå­—æ¯å¤§å†™ï¼Œå¼•å…¥<code>iomanip</code>ä¸­çš„<code>setiosflags(ios::uppercase)</code>è°ƒæ•´å³å¯ã€‚è®°ä½hexï¼Œdecï¼Œoctï¼Œbinå’Œè¿™ä¸ª<code>iomanip</code>å’Œå‡½æ•°ï¼ˆå‰ææ˜¯ojç³»ç»Ÿä¸­å¸¦è¿™ä¸ªåº“ï¼‰ï¼Œå°±å¯ä»¥å¿«é€Ÿå¤„ç†<strong>éå¤§æ•°é—®é¢˜</strong>çš„è¿›åˆ¶è½¬åŒ–é—®é¢˜äº†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iomanip&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-built_in">cin</span> &gt;&gt; n;<br><span class="hljs-built_in">cout</span> &lt;&lt; setiosflags(ios::uppercase)&lt;&lt; hex &lt;&lt; n;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="BASIC-11-åå…­è¿›åˆ¶è½¬åè¿›åˆ¶"><a href="#BASIC-11-åå…­è¿›åˆ¶è½¬åè¿›åˆ¶" class="headerlink" title="BASIC-11 åå…­è¿›åˆ¶è½¬åè¿›åˆ¶"></a>BASIC-11 <a href="http://lx.lanqiao.cn/problem.page?gpid=T50">åå…­è¿›åˆ¶è½¬åè¿›åˆ¶</a></h2><p><strong>é—®é¢˜æè¿°</strong>ï¼š</p><p>â€‹        ä»é”®ç›˜è¾“å…¥ä¸€ä¸ª<strong>ä¸è¶…è¿‡8ä½çš„æ­£çš„åå…­è¿›åˆ¶æ•°</strong>å­—ç¬¦ä¸²ï¼Œå°†å®ƒè½¬æ¢ä¸ºæ­£çš„åè¿›åˆ¶æ•°åè¾“å‡ºã€‚</p><ul><li>æ ·ä¾‹è¾“å…¥: FFFF</li><li>æ ·ä¾‹è¾“å‡º: 65535</li></ul><blockquote><p>è™½ç„¶ä¹Ÿå¯ä»¥ç”¨cin &gt;&gt; hex &gt;&gt; number;  cout &lt;&lt; number; è¿™æ ·çš„è¯­å¥å·æ‡’ï¼Œä½†æ˜¯è¿˜æ˜¯ç”¨å¸¸è§„æ–¹æ³•åšä¸€ä¸‹</p></blockquote><p>â€‹        è¿™é‡Œ<strong>ä¸è¶…è¿‡8ä½çš„åå…­è¿›åˆ¶æ•°å­—ç¬¦ä¸²</strong>ï¼Œæ¯ä¸ª16è¿›åˆ¶4ä½å˜›ï¼Œ4*8=32ï¼Œé¢˜ç›®è¾“å…¥çš„éƒ½æ˜¯æ— ç¬¦å·ï¼ˆæ­£ï¼‰æ•°ã€‚<code>int</code>æ˜¯32ä½ï¼ˆå¸¦ä¸€ä½ç¬¦å·ä½ï¼Œæ‰€ä»¥åªæœ‰31ä½å¯è¡¨ç¤ºï¼‰ï¼Œæ‰€æœ‰è¦æŠŠè½¬åŒ–åçš„sizeå®šä¹‰ä¸º<code>long long</code>ï¼ˆ64ä½ï¼‰ï¼Œæˆ–è€…<code>unsigned int</code>ä¹Ÿè¡Œã€‚ç„¶åè¿™è¾¹è¿˜è¦æ³¨æ„çš„ä¸€ç‚¹å°±æ˜¯ASCIIç åŠ å‡è¿ç®—å‡ºæ•°å­—çš„æ“ä½œã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><span class="hljs-built_in">string</span> number;<br><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> size=<span class="hljs-number">0</span>;<br><span class="hljs-built_in">cin</span> &gt;&gt; number;<br><span class="hljs-keyword">int</span> len = number.size();<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++)<br>&#123;<br><span class="hljs-keyword">if</span> (number[i] &gt;= <span class="hljs-string">&#x27;A&#x27;</span>)<br>&#123;<br>size = size*<span class="hljs-number">16</span> + (number[i] - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">10</span>);<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>size = size*<span class="hljs-number">16</span> + (number[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>&#125;<br>&#125;<br><span class="hljs-built_in">cout</span> &lt;&lt; size;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="BASIC-12-åå…­è¿›åˆ¶è½¬å…«è¿›åˆ¶"><a href="#BASIC-12-åå…­è¿›åˆ¶è½¬å…«è¿›åˆ¶" class="headerlink" title="BASIC-12 åå…­è¿›åˆ¶è½¬å…«è¿›åˆ¶"></a>BASIC-12 <a href="http://lx.lanqiao.cn/problem.page?gpid=T51">åå…­è¿›åˆ¶è½¬å…«è¿›åˆ¶</a></h2><p><strong>é—®é¢˜æè¿°</strong></p><p>â€‹        ç»™å®šnä¸ªåå…­è¿›åˆ¶æ­£æ•´æ•°ï¼Œè¾“å‡ºå®ƒä»¬å¯¹åº”çš„å…«è¿›åˆ¶æ•°ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong><br>ã€€ã€€è¾“å…¥çš„ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ­£æ•´æ•°n ï¼ˆ1&lt;=n&lt;=10ï¼‰ã€‚<br>ã€€ã€€æ¥ä¸‹æ¥nè¡Œï¼Œæ¯è¡Œä¸€ä¸ªç”±0~9ã€å¤§å†™å­—æ¯A~Fç»„æˆçš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè¦è½¬æ¢çš„åå…­è¿›åˆ¶æ­£æ•´æ•°ï¼Œæ¯ä¸ª<strong>åå…­è¿›åˆ¶æ•°é•¿åº¦ä¸è¶…è¿‡100000</strong>ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong><br>ã€€ã€€è¾“å‡ºnè¡Œï¼Œæ¯è¡Œä¸ºè¾“å…¥å¯¹åº”çš„å…«è¿›åˆ¶æ­£æ•´æ•°ã€‚</p><p>ã€€ã€€<strong>ã€æ³¨æ„</strong>ã€‘<br>ã€€ã€€è¾“å…¥çš„åå…­è¿›åˆ¶æ•°ä¸ä¼šæœ‰å‰å¯¼0ï¼Œæ¯”å¦‚012Aã€‚<br>ã€€ã€€è¾“å‡ºçš„å…«è¿›åˆ¶æ•°ä¹Ÿä¸èƒ½æœ‰å‰å¯¼0ã€‚</p><ul><li><p><strong>æ ·ä¾‹è¾“å…¥</strong>   </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plain">2<br>39<br>123ABC<br></code></pre></td></tr></table></figure></li><li><p><strong>æ ·ä¾‹è¾“å‡º</strong></p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dns"><span class="hljs-number">71</span><br><span class="hljs-number">4435274</span><br></code></pre></td></tr></table></figure><blockquote><p>tipï¼šå…ˆå°†åå…­è¿›åˆ¶æ•°è½¬æ¢æˆæŸè¿›åˆ¶æ•°ï¼Œå†ç”±æŸè¿›åˆ¶æ•°è½¬æ¢æˆå…«è¿›åˆ¶ã€‚</p></blockquote></li></ul><p>æˆ‘å…ˆæƒ³çš„æ˜¯ï¼Œ16è¿›åˆ¶è½¬10è¿›åˆ¶å‘—ï¼Œåè¿›åˆ¶å†è½¬8è¿›åˆ¶ã€‚å†™å°±å®Œäº†ï¼Œç„¶åå°±æœ‰äº†ğŸ‘‡é¢ä»£ç ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> N 10</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> <span class="hljs-title">hex_to_dec</span><span class="hljs-params">(<span class="hljs-built_in">string</span> str)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> len = str.size();<br><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> sum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++)<br>&#123;<br><span class="hljs-keyword">if</span> (str[i]&gt;=<span class="hljs-string">&#x27;A&#x27;</span>)<br>&#123;<br>sum = sum * <span class="hljs-number">16</span> + (str[i] - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">10</span>);<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>sum = sum * <span class="hljs-number">16</span> + (str[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> sum;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dec_to_oct</span><span class="hljs-params">(<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> oct)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">int</span> a[<span class="hljs-number">10000</span>];<br><span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> (oct!=<span class="hljs-number">0</span>)<br>&#123;<br>a[i++]= oct % <span class="hljs-number">8</span>;<br>oct /= <span class="hljs-number">8</span>;<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i<span class="hljs-number">-1</span>; j &gt;= <span class="hljs-number">0</span>; j--)<br>&#123;<br><span class="hljs-built_in">cout</span> &lt;&lt; a[j];<br>&#125;<br><span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-built_in">string</span> a[N];<br><span class="hljs-built_in">cin</span> &gt;&gt; n;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br><span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> oct = hex_to_dec(a[i]);<br>dec_to_oct(oct);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹        ç„¶åå°±æ˜¯æ— æƒ…çš„æœªé€šè¿‡ï¼Œæ£€æŸ¥äº†å¥½å¤„æ—¶é—´å‘ç°é¢˜ç›®è¿™ä¹ˆä¸€å¥è¯<strong>åå…­è¿›åˆ¶æ•°é•¿åº¦ä¸è¶…è¿‡100000</strong>ï¼Œå¤§æ•°é—®é¢˜äº†ï¼Œlong longéƒ½ä¸é¡¶ç”¨ã€‚æ”¹å‘—æ²¡åŠæ³•ğŸ˜¶</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">string</span> b, s, a;<br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-comment">//ç”¨2è¿›åˆ¶åšè½¬åŒ–</span><br>    <span class="hljs-built_in">string</span> arr[<span class="hljs-number">16</span>] = &#123; <span class="hljs-string">&quot;0000&quot;</span>, <span class="hljs-string">&quot;0001&quot;</span>, <span class="hljs-string">&quot;0010&quot;</span>, <span class="hljs-string">&quot;0011&quot;</span>, <span class="hljs-string">&quot;0100&quot;</span>, <span class="hljs-string">&quot;0101&quot;</span>, <span class="hljs-string">&quot;0110&quot;</span>, <span class="hljs-string">&quot;0111&quot;</span>, <span class="hljs-string">&quot;1000&quot;</span>,<br>        <span class="hljs-string">&quot;1001&quot;</span>, <span class="hljs-string">&quot;1010&quot;</span>, <span class="hljs-string">&quot;1011&quot;</span>, <span class="hljs-string">&quot;1100&quot;</span>, <span class="hljs-string">&quot;1101&quot;</span>, <span class="hljs-string">&quot;1110&quot;</span>, <span class="hljs-string">&quot;1111&quot;</span> &#125;;<br>    <span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt;m;<br>    m[<span class="hljs-string">&quot;000&quot;</span>] = <span class="hljs-string">&quot;0&quot;</span>; m[<span class="hljs-string">&quot;001&quot;</span>] = <span class="hljs-string">&quot;1&quot;</span>; m[<span class="hljs-string">&quot;010&quot;</span>] = <span class="hljs-string">&quot;2&quot;</span>; m[<span class="hljs-string">&quot;011&quot;</span>] = <span class="hljs-string">&quot;3&quot;</span>; m[<span class="hljs-string">&quot;100&quot;</span>] = <span class="hljs-string">&quot;4&quot;</span>;<br>    m[<span class="hljs-string">&quot;101&quot;</span>] = <span class="hljs-string">&quot;5&quot;</span>; m[<span class="hljs-string">&quot;110&quot;</span>] = <span class="hljs-string">&quot;6&quot;</span>; m[<span class="hljs-string">&quot;111&quot;</span>] = <span class="hljs-string">&quot;7&quot;</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; s;<br>        <span class="hljs-keyword">int</span> lens = s.length();<br>        <span class="hljs-comment">// å˜æˆ2è¿›åˆ¶å­˜å‚¨</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; lens; j++)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (s[j]&gt;<span class="hljs-string">&#x27;9&#x27;</span>)<br>            &#123;<br>                b += arr[s[j] - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">10</span>];<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                b += arr[s[j] - <span class="hljs-string">&#x27;0&#x27;</span>];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">int</span> lenb = b.length();<br>        <span class="hljs-comment">//lenbä¸æ˜¯3çš„æ•´æ•°å€å°±åœ¨å‰é¢è¡¥0</span><br>        <span class="hljs-keyword">if</span> (lenb%<span class="hljs-number">3</span>==<span class="hljs-number">1</span>)<br>        &#123;<br>            b = <span class="hljs-string">&quot;00&quot;</span> + b;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (lenb%<span class="hljs-number">3</span>==<span class="hljs-number">2</span>)<br>        &#123;<br>            b = <span class="hljs-string">&quot;0&quot;</span> + b;<br>        &#125;<br>        <span class="hljs-comment">//è¿™æ—¶bå°±å˜æˆåˆæ ¼çš„äºŒè¿›åˆ¶æ•°äº†</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; lenb; j+=<span class="hljs-number">3</span>)<br>        &#123;<br>            <span class="hljs-comment">//å–å­ä¸²ï¼Œæ¯ä¸‰ä½å–ä¸€æ¬¡</span><br>            <span class="hljs-built_in">string</span> temp = b.substr(j, <span class="hljs-number">3</span>);<br>            <span class="hljs-built_in">string</span> t = m[temp];<br>            <span class="hljs-comment">//å¦‚æœ16è¿›åˆ¶ç¬¬ä¸€ä½æ˜¯0001ï¼Œå¡«ä¸Š0,1,2ä¸ª0ï¼Œå‰ä¸‰ä¸ªæ•°å­—ç»„æˆçš„å­ä¸²ä¸º000</span><br>            <span class="hljs-keyword">if</span> (j==<span class="hljs-number">0</span> &amp;&amp; t==<span class="hljs-string">&quot;0&quot;</span>)<br>            &#123;<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; t;<br>        &#125;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        b = <span class="hljs-string">&quot;&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ”¹çš„æ–¹æ³•ä¹Ÿæ˜¯å€Ÿé‰´äº†<a href="https://github.com/liuchuo/Lanqiao/blob/master/%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0/C%2B%2B/BASIC-12%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0%20%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E8%BD%AC%E5%85%AB%E8%BF%9B%E5%88%B6.cpp">æŸ³è¯ºçš„é¢˜è§£</a>ä½†æ˜¯å¥¹æœ‰ä¸€æ®µä»£ç æˆ‘è§‰å¾—æ²¡æœ‰å¿…è¦ï¼Œæˆ‘åˆ æ‰äº†ä¹Ÿæ˜¯è¿‡äº†ojçš„ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">if</span> (j == <span class="hljs-number">0</span> &amp;&amp; t == <span class="hljs-string">&quot;0&quot;</span>) &#123;<br>             flag = <span class="hljs-number">1</span>;<br>             <span class="hljs-keyword">continue</span>;<br>         &#125;<br><span class="hljs-comment">//è¿™é‡Œè¿˜åšäº†ç¬¬äºŒæ¬¡åˆ¤æ–­ï¼Œå¦‚æœç¬¬ä¸€ä¸ªä¸‰ä½ä¸º0ä¸”ç¬¬äºŒä¸ªä¸‰ä½ä¸º0ï¼Œåˆ™ä¹Ÿå¿½ç•¥ã€‚</span><br>         <span class="hljs-keyword">if</span> (flag == <span class="hljs-number">1</span> &amp;&amp; j == <span class="hljs-number">3</span> &amp;&amp; t == <span class="hljs-string">&quot;0&quot;</span>) &#123;<br>             <span class="hljs-keyword">continue</span>;<br>         &#125;<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯é¢˜ç›®æ˜¯ä¸ä¼šå‡ºç°è¿ç»­å…­ä¸ª0çš„æƒ…å†µçš„ï¼Œå‡ºç°è¿™ç§æƒ…å†µæ˜¯0000ä¸ºç¬¬ä¸€ä¸ªåå…­è¿›åˆ¶æ•°ï¼Œå†å¡«ä¸Š2ä¸ªé›¶ï¼Œä½†æ˜¯é¢˜ç›®æ ‡æ³¨äº†</p><ul><li>è¾“å…¥çš„<strong>åå…­è¿›åˆ¶æ•°ä¸ä¼šæœ‰å‰å¯¼0</strong>ï¼Œæ¯”å¦‚012Aã€‚</li><li>è¾“å‡ºçš„å…«è¿›åˆ¶æ•°ä¹Ÿä¸èƒ½æœ‰å‰å¯¼0ã€‚</li></ul><p>æ„Ÿè§‰è‡ªå·±æ•°ç”µå’Œè®¡ç®—æœºç»„æˆåŸç†ç™½å­¦äº†ğŸ˜¥ï¼Œçº¸ä¸Šåšé¢˜æ—¶ï¼Œ16è¿›åˆ¶å±•å¼€ï¼Œç„¶åä¸‰ä¸ªä¸‰ä¸ªåˆ’ä¸€ç»„å˜æˆ8è¿›åˆ¶ï¼Œåˆ°codeæ—¶å´æ²¡æƒ³åˆ°è¿™ä¸ªè¿‡ç¨‹ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-lanqiao -åˆ·é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼æ¦‚è¿°ä¸åŸåˆ™</title>
    <link href="/2021/01/22/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%A6%82%E8%BF%B0%E4%B8%8E%E5%8E%9F%E5%88%99/"/>
    <url>/2021/01/22/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%A6%82%E8%BF%B0%E4%B8%8E%E5%8E%9F%E5%88%99/</url>
    
    <content type="html"><![CDATA[<h1 id="Design-Patterns-Introduce"><a href="#Design-Patterns-Introduce" class="headerlink" title="Design Patterns Introduce"></a>Design Patterns Introduce</h1><p>C++è®¾è®¡æ¨¡å¼é…å¥—èµ„æºï¼š</p><ol><li>åœ¨çº¿ç½‘ç«™ï¼š<a href="https://refactoring.guru/">https://refactoring.guru/</a> </li><li>è¯¾æœ¬ï¼š<strong>å¯å¤ç”¨é¢å‘å¯¹è±¡</strong>è½¯ä»¶çš„åŸºç¡€</li></ol><p><img src="./book.png" alt="è®¾è®¡æ¨¡å¼"></p><h2 id="ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼"><a href="#ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼" class="headerlink" title="ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼"></a>ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼</h2><p>â€œæ¯ä¸€ä¸ªæ¨¡å¼æè¿°äº†ä¸€ä¸ªåœ¨æˆ‘ä»¬å‘¨å›´<strong>ä¸æ–­é‡å¤å‘ç”Ÿçš„é—®é¢˜</strong>ï¼Œ ä»¥åŠè¯¥é—®é¢˜çš„<strong>è§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒ</strong>ã€‚è¿™æ ·ï¼Œä½ å°±èƒ½<strong>ä¸€æ¬¡åˆä¸€æ¬¡åœ°ä½¿ç”¨è¯¥æ–¹æ¡ˆè€Œä¸å¿…åšé‡å¤åŠ³åŠ¨</strong>â€ã€‚                              â€”â€”â€”â€”Christopher Alexander</p><h2 id="è¯¾ç¨‹ç›®æ ‡"><a href="#è¯¾ç¨‹ç›®æ ‡" class="headerlink" title="è¯¾ç¨‹ç›®æ ‡"></a>è¯¾ç¨‹ç›®æ ‡</h2><ul><li>ç†è§£æ¾è€¦åˆè®¾è®¡æ€æƒ³</li><li>æŒæ¡é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™</li><li>æŒæ¡é‡æ„æŠ€æ³•æ”¹å–„è®¾è®¡</li><li>æŒæ¡GOFæ ¸å¿ƒè®¾è®¡æ¨¡å¼</li></ul><h2 id="é¢å¯¹å¯¹è±¡"><a href="#é¢å¯¹å¯¹è±¡" class="headerlink" title="é¢å¯¹å¯¹è±¡"></a>é¢å¯¹å¯¹è±¡</h2><p><img src="./oop.png" alt=""></p><h3 id="å‘ä¸‹ï¼šä¸‰å¤§é¢å¯¹å¯¹è±¡æœºåˆ¶"><a href="#å‘ä¸‹ï¼šä¸‰å¤§é¢å¯¹å¯¹è±¡æœºåˆ¶" class="headerlink" title="å‘ä¸‹ï¼šä¸‰å¤§é¢å¯¹å¯¹è±¡æœºåˆ¶"></a>å‘ä¸‹ï¼šä¸‰å¤§é¢å¯¹å¯¹è±¡æœºåˆ¶</h3><ul><li><strong>å°è£…</strong>ï¼Œéšè—å†…éƒ¨å®ç°</li><li><strong>ç»§æ‰¿</strong>ï¼Œå¤ç”¨ç°æœ‰ä»£ç </li><li><strong>å¤šæ€</strong>ï¼Œæ”¹å†™å¯¹è±¡è¡Œä¸º</li></ul><h3 id="å‘ä¸Šï¼šæŠ½è±¡æ„ä¹‰"><a href="#å‘ä¸Šï¼šæŠ½è±¡æ„ä¹‰" class="headerlink" title="å‘ä¸Šï¼šæŠ½è±¡æ„ä¹‰"></a>å‘ä¸Šï¼šæŠ½è±¡æ„ä¹‰</h3><p>æ·±åˆ»æŠŠæ¡é¢å‘å¯¹è±¡æœºåˆ¶æ‰€<strong>å¸¦æ¥çš„æŠ½è±¡æ„ä¹‰</strong>ï¼Œç†è§£å¦‚ä½•ä½¿ç”¨ è¿™äº›æœºåˆ¶æ¥è¡¨è¾¾ç°å®ä¸–ç•Œï¼ŒæŒæ¡ä»€ä¹ˆæ˜¯â€œ<strong>å¥½çš„é¢å‘å¯¹è±¡è®¾è®¡</strong>â€</p><h2 id="è½¯ä»¶çš„å¤æ‚æ€§"><a href="#è½¯ä»¶çš„å¤æ‚æ€§" class="headerlink" title="è½¯ä»¶çš„å¤æ‚æ€§"></a>è½¯ä»¶çš„å¤æ‚æ€§</h2><p>å»ºç­‘å•†ä»æ¥ä¸ä¼šå»æƒ³ç»™ä¸€æ ‹å·²å»ºå¥½çš„100å±‚é«˜çš„ æ¥¼æˆ¿åº•ä¸‹å†æ–°ä¿®ä¸€ä¸ªå°åœ°ä¸‹å®¤â€”â€”è¿™æ ·åšèŠ±è´¹ æå¤§è€Œä¸”æ³¨å®šè¦å¤±è´¥ã€‚ç„¶è€Œä»¤äººæƒŠå¥‡çš„æ˜¯ï¼Œè½¯ä»¶ ç³»ç»Ÿçš„ç”¨æˆ·åœ¨è¦æ±‚ä½œå‡ºç±»ä¼¼æ”¹å˜æ—¶å´ä¸ä¼šä»”ç»†è€ƒ è™‘ï¼Œè€Œä¸”ä»–ä»¬è®¤ä¸ºè¿™åªæ˜¯éœ€è¦ç®€å•ç¼–ç¨‹çš„äº‹ã€‚       </p><p>â€‹                                                                                                                            â€”â€”Object-Oriented Analysis and Design with Applications</p><h3 id="å¤æ‚æ€§çš„åŸå› "><a href="#å¤æ‚æ€§çš„åŸå› " class="headerlink" title="å¤æ‚æ€§çš„åŸå› "></a>å¤æ‚æ€§çš„åŸå› </h3><ul><li>å®¢æˆ·éœ€æ±‚çš„å˜åŒ–</li><li>æŠ€æœ¯å¹³å°çš„å˜åŒ–</li><li>å¼€å‘å›¢é˜Ÿçš„å˜åŒ–</li><li>å¸‚åœºç¯å¢ƒçš„å˜åŒ–  â€¦</li></ul><h3 id="å¤æ‚æ€§çš„è§£å†³"><a href="#å¤æ‚æ€§çš„è§£å†³" class="headerlink" title="å¤æ‚æ€§çš„è§£å†³"></a>å¤æ‚æ€§çš„è§£å†³</h3><h4 id="åˆ†è§£"><a href="#åˆ†è§£" class="headerlink" title="åˆ†è§£"></a>åˆ†è§£</h4><p>äººä»¬é¢å¯¹å¤æ‚æ€§æœ‰ä¸€ä¸ªå¸¸è§çš„åšæ³•ï¼šå³åˆ†è€Œæ²»ä¹‹ï¼Œå°†<strong>å¤§é—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªå°é—®é¢˜</strong>ï¼Œå°†<strong>å¤æ‚é—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªç®€å•é—®é¢˜</strong>ã€‚</p><h4 id="æŠ½è±¡"><a href="#æŠ½è±¡" class="headerlink" title="æŠ½è±¡"></a>æŠ½è±¡</h4><p>æ›´é«˜å±‚æ¬¡æ¥è®²ï¼Œäººä»¬å¤„ç†å¤æ‚æ€§æœ‰ä¸€ä¸ªé€šç”¨çš„æŠ€æœ¯ï¼Œå³æŠ½è±¡ã€‚ ç”±äºä¸èƒ½æŒæ¡å…¨éƒ¨çš„å¤æ‚å¯¹è±¡ï¼Œæˆ‘ä»¬<strong>é€‰æ‹©å¿½è§†å®ƒçš„éæœ¬è´¨ç»†èŠ‚</strong>ï¼Œ è€Œå»å¤„ç†æ³›åŒ–å’Œç†æƒ³åŒ–äº†çš„å¯¹è±¡æ¨¡å‹ã€‚</p><h2 id="ç¤ºä¾‹ï¼šç»“æ„åŒ–VSé¢å¯¹å¯¹è±¡"><a href="#ç¤ºä¾‹ï¼šç»“æ„åŒ–VSé¢å¯¹å¯¹è±¡" class="headerlink" title="ç¤ºä¾‹ï¼šç»“æ„åŒ–VSé¢å¯¹å¯¹è±¡"></a>ç¤ºä¾‹ï¼šç»“æ„åŒ–VSé¢å¯¹å¯¹è±¡</h2><p>å®ç°ç”»å›¾ä»»åŠ¡çš„ä¸¤ä¸ªä»£ç å®ç°(ä¼ªç )ï¼Œå¦‚æœæˆ‘ä»¬å¢åŠ ä¸åŒçš„ç”»å›¾åŠŸèƒ½ï¼Œå¯¹æ¯”ä¸¤ä¸ªä»£ç ä¼šæ€ä¹ˆæ ·æ”¹å˜ã€‚</p><h3 id="ç¤ºä¾‹1"><a href="#ç¤ºä¾‹1" class="headerlink" title="ç¤ºä¾‹1"></a>ç¤ºä¾‹1</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//Shape1.h</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Point</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-keyword">int</span> x;<br><span class="hljs-keyword">int</span> y;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Line</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>Point start;<br>    Point end;<br><br>Line(<span class="hljs-keyword">const</span> Point&amp; start, <span class="hljs-keyword">const</span> Point&amp; end)&#123;<br>        <span class="hljs-keyword">this</span>-&gt;start = start;<br>        <span class="hljs-keyword">this</span>-&gt;end = end;<br>    &#125;<br><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rect</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br>Point leftUp;<br>    <span class="hljs-keyword">int</span> width;<br><span class="hljs-keyword">int</span> height;<br><br>Rect(<span class="hljs-keyword">const</span> Point&amp; leftUp, <span class="hljs-keyword">int</span> width, <span class="hljs-keyword">int</span> height)&#123;<br>        <span class="hljs-keyword">this</span>-&gt;leftUp = leftUp;<br>        <span class="hljs-keyword">this</span>-&gt;width = width;<br><span class="hljs-keyword">this</span>-&gt;height = height;<br>    &#125;<br><br>&#125;;<br><br><span class="hljs-comment">//å¢åŠ </span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Circle</span>&#123;</span><br><br><br>&#125;;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//MainForm1.cpp</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainForm</span> :</span> <span class="hljs-keyword">public</span> Form &#123;<br><span class="hljs-keyword">private</span>:<br>Point p1;<br>Point p2;<br><br><span class="hljs-built_in">vector</span>&lt;Line&gt; lineVector;<br><span class="hljs-built_in">vector</span>&lt;Rect&gt; rectVector;<br><span class="hljs-comment">//æ”¹å˜</span><br><span class="hljs-built_in">vector</span>&lt;Circle&gt; circleVector;<br><br><span class="hljs-keyword">public</span>:<br>MainForm()&#123;<br><span class="hljs-comment">//...</span><br>&#125;<br><span class="hljs-keyword">protected</span>:<br><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnMouseDown</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnMouseUp</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnPaint</span><span class="hljs-params">(<span class="hljs-keyword">const</span> PaintEventArgs&amp; e)</span></span>;<br>&#125;;<br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainForm::OnMouseDown</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>&#123;<br>p1.x = e.X;<br>p1.y = e.Y;<br><br><span class="hljs-comment">//...</span><br>Form::OnMouseDown(e);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainForm::OnMouseUp</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>&#123;<br>p2.x = e.X;<br>p2.y = e.Y;<br><br><span class="hljs-keyword">if</span> (rdoLine.Checked)&#123;<br><span class="hljs-function">Line <span class="hljs-title">line</span><span class="hljs-params">(p1, p2)</span></span>;<br>lineVector.push_back(line);<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (rdoRect.Checked)&#123;<br><span class="hljs-keyword">int</span> width = <span class="hljs-built_in">abs</span>(p2.x - p1.x);<br><span class="hljs-keyword">int</span> height = <span class="hljs-built_in">abs</span>(p2.y - p1.y);<br><span class="hljs-function">Rect <span class="hljs-title">rect</span><span class="hljs-params">(p1, width, height)</span></span>;<br>rectVector.push_back(rect);<br>&#125;<br><span class="hljs-comment">//æ”¹å˜</span><br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (...)&#123;<br><span class="hljs-comment">//...</span><br>circleVector.push_back(circle);<br>&#125;<br><br><span class="hljs-comment">//...</span><br><span class="hljs-keyword">this</span>-&gt;Refresh();<br><br>Form::OnMouseUp(e);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainForm::OnPaint</span><span class="hljs-params">(<span class="hljs-keyword">const</span> PaintEventArgs&amp; e)</span></span>&#123;<br><br><span class="hljs-comment">//é’ˆå¯¹ç›´çº¿</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; lineVector.size(); i++)&#123;<br>e.Graphics.DrawLine(Pens.Red,<br>lineVector[i].start.x, <br>lineVector[i].start.y,<br>lineVector[i].end.x,<br>lineVector[i].end.y);<br>&#125;<br><br><span class="hljs-comment">//é’ˆå¯¹çŸ©å½¢</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; rectVector.size(); i++)&#123;<br>e.Graphics.DrawRectangle(Pens.Red,<br>rectVector[i].leftUp,<br>rectVector[i].width,<br>rectVector[i].height);<br>&#125;<br><br><span class="hljs-comment">//æ”¹å˜</span><br><span class="hljs-comment">//é’ˆå¯¹åœ†å½¢</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; circleVector.size(); i++)&#123;<br>e.Graphics.DrawCircle(Pens.Red,<br>circleVector[i]);<br>&#125;<br><br><span class="hljs-comment">//...</span><br>Form::OnPaint(e);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç¤ºä¾‹2"><a href="#ç¤ºä¾‹2" class="headerlink" title="ç¤ºä¾‹2"></a>ç¤ºä¾‹2</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//Shape2.h</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Shape</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Draw</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Graphics&amp; g)</span></span>=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">virtual</span> ~Shape() &#123; &#125;<br>&#125;;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Point</span>&#123;</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-keyword">int</span> x;<br><span class="hljs-keyword">int</span> y;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Line</span>:</span> <span class="hljs-keyword">public</span> Shape&#123;<br><span class="hljs-keyword">public</span>:<br>Point start;<br>Point end;<br><br>Line(<span class="hljs-keyword">const</span> Point&amp; start, <span class="hljs-keyword">const</span> Point&amp; end)&#123;<br><span class="hljs-keyword">this</span>-&gt;start = start;<br><span class="hljs-keyword">this</span>-&gt;end = end;<br>&#125;<br><br><span class="hljs-comment">//å®ç°è‡ªå·±çš„Drawï¼Œè´Ÿè´£ç”»è‡ªå·±</span><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Draw</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Graphics&amp; g)</span></span>&#123;<br>g.DrawLine(Pens.Red, <br>start.x, start.y,end.x, end.y);<br>&#125;<br><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rect</span>:</span> <span class="hljs-keyword">public</span> Shape&#123;<br><span class="hljs-keyword">public</span>:<br>Point leftUp;<br><span class="hljs-keyword">int</span> width;<br><span class="hljs-keyword">int</span> height;<br><br>Rect(<span class="hljs-keyword">const</span> Point&amp; leftUp, <span class="hljs-keyword">int</span> width, <span class="hljs-keyword">int</span> height)&#123;<br><span class="hljs-keyword">this</span>-&gt;leftUp = leftUp;<br><span class="hljs-keyword">this</span>-&gt;width = width;<br><span class="hljs-keyword">this</span>-&gt;height = height;<br>&#125;<br><br><span class="hljs-comment">//å®ç°è‡ªå·±çš„Drawï¼Œè´Ÿè´£ç”»è‡ªå·±</span><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Draw</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Graphics&amp; g)</span></span>&#123;<br>g.DrawRectangle(Pens.Red,<br>leftUp,width,height);<br>&#125;<br><br>&#125;;<br><br><span class="hljs-comment">//å¢åŠ </span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Circle</span> :</span> <span class="hljs-keyword">public</span> Shape&#123;<br><span class="hljs-keyword">public</span>:<br><span class="hljs-comment">//å®ç°è‡ªå·±çš„Drawï¼Œè´Ÿè´£ç”»è‡ªå·±</span><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Draw</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Graphics&amp; g)</span></span>&#123;<br>g.DrawCircle(Pens.Red,<br>...);<br>&#125;<br><br>&#125;;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//MainForm.cpp</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainForm</span> :</span> <span class="hljs-keyword">public</span> Form &#123;<br><span class="hljs-keyword">private</span>:<br>Point p1;<br>Point p2;<br><br><span class="hljs-comment">//é’ˆå¯¹æ‰€æœ‰å½¢çŠ¶</span><br><span class="hljs-built_in">vector</span>&lt;Shape*&gt; shapeVector;<br><br><span class="hljs-keyword">public</span>:<br>MainForm()&#123;<br><span class="hljs-comment">//...</span><br>&#125;<br><span class="hljs-keyword">protected</span>:<br><br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnMouseDown</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnMouseUp</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnPaint</span><span class="hljs-params">(<span class="hljs-keyword">const</span> PaintEventArgs&amp; e)</span></span>;<br>&#125;;<br><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainForm::OnMouseDown</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>&#123;<br>p1.x = e.X;<br>p1.y = e.Y;<br><br><span class="hljs-comment">//...</span><br>Form::OnMouseDown(e);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainForm::OnMouseUp</span><span class="hljs-params">(<span class="hljs-keyword">const</span> MouseEventArgs&amp; e)</span></span>&#123;<br>p2.x = e.X;<br>p2.y = e.Y;<br><br><span class="hljs-keyword">if</span> (rdoLine.Checked)&#123;<br>shapeVector.push_back(<span class="hljs-keyword">new</span> Line(p1,p2));<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (rdoRect.Checked)&#123;<br><span class="hljs-keyword">int</span> width = <span class="hljs-built_in">abs</span>(p2.x - p1.x);<br><span class="hljs-keyword">int</span> height = <span class="hljs-built_in">abs</span>(p2.y - p1.y);<br>shapeVector.push_back(<span class="hljs-keyword">new</span> Rect(p1, width, height));<br>&#125;<br><span class="hljs-comment">//æ”¹å˜</span><br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (...)&#123;<br><span class="hljs-comment">//...</span><br>shapeVector.push_back(circle);<br>&#125;<br><br><span class="hljs-comment">//...</span><br><span class="hljs-keyword">this</span>-&gt;Refresh();<br><br>Form::OnMouseUp(e);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainForm::OnPaint</span><span class="hljs-params">(<span class="hljs-keyword">const</span> PaintEventArgs&amp; e)</span></span>&#123;<br><br><span class="hljs-comment">//é’ˆå¯¹æ‰€æœ‰å½¢çŠ¶</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; shapeVector.size(); i++)&#123;<br><br>shapeVector[i]-&gt;Draw(e.Graphics); <span class="hljs-comment">//å¤šæ€è°ƒç”¨ï¼Œå„è´Ÿå…¶è´£</span><br>&#125;<br><br><span class="hljs-comment">//...</span><br>Form::OnPaint(e);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="è½¯ä»¶è®¾è®¡çš„é‡‘ç§‘ç‰å¾‹ï¼šå¤ç”¨"><a href="#è½¯ä»¶è®¾è®¡çš„é‡‘ç§‘ç‰å¾‹ï¼šå¤ç”¨" class="headerlink" title="è½¯ä»¶è®¾è®¡çš„é‡‘ç§‘ç‰å¾‹ï¼šå¤ç”¨"></a>è½¯ä»¶è®¾è®¡çš„é‡‘ç§‘ç‰å¾‹ï¼šå¤ç”¨</h2><h1 id="é¢å‘å¯¹è±¡åŸåˆ™"><a href="#é¢å‘å¯¹è±¡åŸåˆ™" class="headerlink" title="é¢å‘å¯¹è±¡åŸåˆ™"></a>é¢å‘å¯¹è±¡åŸåˆ™</h1><p>é¢å‘å¯¹è±¡è®¾è®¡çš„æœ€å¤§çš„ä¼˜åŠ¿åœ¨äº<code>æŠµå¾¡å˜åŒ–</code></p><h2 id="é‡æ–°è®¤è¯†OOP"><a href="#é‡æ–°è®¤è¯†OOP" class="headerlink" title="é‡æ–°è®¤è¯†OOP"></a>é‡æ–°è®¤è¯†OOP</h2><p>ğŸŒ¿ ç†è§£<strong>éš”ç¦»å˜åŒ–</strong></p><p>ä»å®è§‚å±‚é¢æ¥çœ‹ï¼Œé¢å‘å¯¹è±¡çš„æ„å»ºæ–¹å¼æ›´èƒ½é€‚åº”è½¯ä»¶çš„å˜åŒ–ï¼Œ èƒ½å°†å˜åŒ–æ‰€å¸¦æ¥çš„å½±å“å‡ä¸ºæœ€å°ã€‚</p><p>ğŸŒ¿ <strong>å„å¸å…¶èŒ</strong></p><ul><li>ä»å¾®è§‚å±‚é¢æ¥çœ‹ï¼Œé¢å‘å¯¹è±¡çš„æ–¹å¼æ›´å¼ºè°ƒå„ä¸ªç±»çš„â€œè´£ä»»â€ </li><li>ç”±äºéœ€æ±‚å˜åŒ–å¯¼è‡´çš„æ–°å¢ç±»å‹ä¸åº”è¯¥å½±å“åŸæ¥ç±»å‹çš„å®ç°â€”â€” æ˜¯æ‰€è°“å„è´Ÿå…¶è´£</li></ul><p>ğŸŒ¿ <strong>å¯¹è±¡æ˜¯ä»€ä¹ˆ</strong></p><ul><li>ä»è¯­è¨€å®ç°å±‚é¢æ¥çœ‹ï¼Œå¯¹è±¡å°è£…äº†ä»£ç å’Œæ•°æ®ã€‚ </li><li>ä»è§„æ ¼å±‚é¢è®²ï¼Œå¯¹è±¡æ˜¯ä¸€ç³»åˆ—å¯è¢«ä½¿ç”¨çš„å…¬å…±æ¥å£ã€‚ </li><li>ä»æ¦‚å¿µå±‚é¢è®²ï¼Œå¯¹è±¡æ˜¯æŸç§æ‹¥æœ‰è´£ä»»çš„æŠ½è±¡ã€‚</li></ul><h2 id="é¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™ï¼ˆ8ç§ï¼‰"><a href="#é¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™ï¼ˆ8ç§ï¼‰" class="headerlink" title="é¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™ï¼ˆ8ç§ï¼‰"></a>é¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™ï¼ˆ8ç§ï¼‰</h2><h3 id="ğŸŒ¿ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPï¼‰"><a href="#ğŸŒ¿ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPï¼‰" class="headerlink" title="ğŸŒ¿ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPï¼‰"></a>ğŸŒ¿ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPï¼‰</h3><ul><li>é«˜å±‚æ¨¡å—(<strong>ç¨³å®š</strong>)ä¸åº”è¯¥ä¾èµ–äºä½å±‚æ¨¡å—(<strong>å˜åŒ–</strong>)ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡(<strong>ç¨³å®š</strong>) ã€‚</li><li>æŠ½è±¡(ç¨³å®š)ä¸åº”è¯¥ä¾èµ–äºå®ç°ç»†èŠ‚(å˜åŒ–) ï¼Œå®ç°ç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡(ç¨³å®š)ã€‚</li></ul><p>ä¸Šä¸€æ®µç¤ºä¾‹ä»£ç çš„ä¸¤ä¸ªä¾‹å­ï¼Œ<strong>é«˜å±‚æ¨¡å—ä¾èµ–äºç¨³å®šçš„Shapeè™šåŸºç±»</strong>ã€‚</p><p><img src="./DIP.png" style="zoom: 80%;" /></p><h3 id="ğŸŒ¿å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOCPï¼‰"><a href="#ğŸŒ¿å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOCPï¼‰" class="headerlink" title="ğŸŒ¿å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOCPï¼‰"></a>ğŸŒ¿å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOCPï¼‰</h3><ul><li>å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹æ›´æ”¹å°é—­ã€‚ </li><li>ç±»æ¨¡å—åº”è¯¥æ˜¯å¯æ‰©å±•çš„ï¼Œä½†æ˜¯ä¸å¯ä¿®æ”¹ã€‚</li></ul><h3 id="ğŸŒ¿å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRPï¼‰"><a href="#ğŸŒ¿å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRPï¼‰" class="headerlink" title="ğŸŒ¿å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRPï¼‰"></a>ğŸŒ¿å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRPï¼‰</h3><ul><li>ä¸€ä¸ªç±»åº”è¯¥ä»…æœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ã€‚ </li><li>å˜åŒ–çš„æ–¹å‘éšå«ç€ç±»çš„è´£ä»»ã€‚</li></ul><h3 id="ğŸŒ¿Liskov-æ›¿æ¢åŸåˆ™ï¼ˆLSPï¼‰"><a href="#ğŸŒ¿Liskov-æ›¿æ¢åŸåˆ™ï¼ˆLSPï¼‰" class="headerlink" title="ğŸŒ¿Liskov æ›¿æ¢åŸåˆ™ï¼ˆLSPï¼‰"></a>ğŸŒ¿Liskov æ›¿æ¢åŸåˆ™ï¼ˆLSPï¼‰</h3><ul><li>å­ç±»å¿…é¡»èƒ½å¤Ÿæ›¿æ¢å®ƒä»¬çš„åŸºç±»(IS-A)ï¼ˆç»§æ‰¿æ—¶æ€è€ƒæ˜¯ä¸æ˜¯ç»„åˆå…³ç³»ï¼‰ã€‚ </li><li>ç»§æ‰¿è¡¨è¾¾ç±»å‹æŠ½è±¡ã€‚</li></ul><h3 id="ğŸŒ¿æ¥å£éš”ç¦»åŸåˆ™ï¼ˆISPï¼‰"><a href="#ğŸŒ¿æ¥å£éš”ç¦»åŸåˆ™ï¼ˆISPï¼‰" class="headerlink" title="ğŸŒ¿æ¥å£éš”ç¦»åŸåˆ™ï¼ˆISPï¼‰"></a>ğŸŒ¿æ¥å£éš”ç¦»åŸåˆ™ï¼ˆISPï¼‰</h3><ul><li>ä¸åº”è¯¥å¼ºè¿«å®¢æˆ·ç¨‹åºä¾èµ–å®ƒä»¬ä¸ç”¨çš„æ–¹æ³•ã€‚</li><li>æ¥å£åº”è¯¥<strong>å°è€Œå®Œå¤‡</strong>ã€‚</li></ul><h3 id="ğŸŒ¿ä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯ç±»ç»§æ‰¿"><a href="#ğŸŒ¿ä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯ç±»ç»§æ‰¿" class="headerlink" title="ğŸŒ¿ä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯ç±»ç»§æ‰¿"></a>ğŸŒ¿ä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯ç±»ç»§æ‰¿</h3><ul><li>ç±»ç»§æ‰¿é€šå¸¸ä¸ºâ€œç™½ç®±å¤ç”¨â€ï¼Œå¯¹è±¡ç»„åˆé€šå¸¸ä¸ºâ€œé»‘ç®±å¤ç”¨â€ã€‚</li><li>ç»§æ‰¿åœ¨æŸç§ç¨‹åº¦ä¸Šç ´åäº†å°è£…æ€§ï¼Œå­ç±»çˆ¶ç±»è€¦åˆåº¦é«˜ã€‚ </li><li>è€Œå¯¹è±¡ç»„åˆåˆ™åªè¦æ±‚è¢«ç»„åˆçš„å¯¹è±¡å…·æœ‰è‰¯å¥½å®šä¹‰çš„æ¥å£ï¼Œè€¦åˆåº¦ä½ã€‚</li></ul><h3 id="ğŸŒ¿å°è£…å˜åŒ–ç‚¹"><a href="#ğŸŒ¿å°è£…å˜åŒ–ç‚¹" class="headerlink" title="ğŸŒ¿å°è£…å˜åŒ–ç‚¹"></a>ğŸŒ¿å°è£…å˜åŒ–ç‚¹</h3><p>ä½¿ç”¨å°è£…æ¥åˆ›å»ºå¯¹è±¡ä¹‹é—´çš„åˆ†ç•Œå±‚ï¼Œè®©è®¾è®¡è€…å¯ä»¥åœ¨åˆ†ç•Œå±‚çš„ ä¸€ä¾§è¿›è¡Œä¿®æ”¹ï¼Œè€Œä¸ä¼šå¯¹å¦ä¸€ä¾§äº§ç”Ÿä¸è‰¯çš„å½±å“ï¼Œä»è€Œå®ç°å±‚ æ¬¡é—´çš„æ¾è€¦åˆã€‚</p><h3 id="ğŸŒ¿é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹"><a href="#ğŸŒ¿é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹" class="headerlink" title="ğŸŒ¿é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹"></a>ğŸŒ¿é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹</h3><ul><li>ä¸å°†å˜é‡ç±»å‹å£°æ˜ä¸ºæŸä¸ªç‰¹å®šçš„å…·ä½“ç±»ï¼Œè€Œæ˜¯å£°æ˜ä¸ºæŸä¸ªæ¥å£ã€‚ </li><li>å®¢æˆ·ç¨‹åºæ— éœ€è·çŸ¥å¯¹è±¡çš„å…·ä½“ç±»å‹ï¼Œåªéœ€è¦çŸ¥é“å¯¹è±¡æ‰€å…·æœ‰çš„æ¥å£ã€‚ </li><li>å‡å°‘ç³»ç»Ÿä¸­å„éƒ¨åˆ†çš„ä¾èµ–å…³ç³»ï¼Œä»è€Œå®ç°â€œé«˜å†…èšã€æ¾è€¦åˆâ€ çš„ç±»å‹è®¾è®¡æ–¹æ¡ˆã€‚</li></ul><h2 id="æ¥å£æ ‡å‡†åŒ–ï¼ˆåˆ†å·¥åä½œï¼‰"><a href="#æ¥å£æ ‡å‡†åŒ–ï¼ˆåˆ†å·¥åä½œï¼‰" class="headerlink" title="æ¥å£æ ‡å‡†åŒ–ï¼ˆåˆ†å·¥åä½œï¼‰"></a>æ¥å£æ ‡å‡†åŒ–ï¼ˆåˆ†å·¥åä½œï¼‰</h2><p>æ ‡å‡†åŒ–å·¥ä½œå¾€å¾€æ˜¯ä¸€ä¸ªäº§ä¸šå¼ºç››çš„æ ‡å‡†ï¼Œè¿™ä¸€ç‚¹åœ¨å­¦ä¹ è®¡ç½‘çš„æ—¶å€™ä¹Ÿæœ‰ä½“ä¼šåˆ°ï¼ˆä¸åŒåè®®æ ‡å‡†è§„å®šç»Ÿä¸€ä¿ƒè¿›è¡Œä¸šå‘å±•ï¼‰</p><h3 id="ä»¥å²ä¸ºé‰´"><a href="#ä»¥å²ä¸ºé‰´" class="headerlink" title="ä»¥å²ä¸ºé‰´"></a>ä»¥å²ä¸ºé‰´</h3><p><img src="./history1.png" alt=""></p><p><img src="./history2.png" alt=""></p><h2 id="è®¾è®¡åŸåˆ™æå‡ä¸ºè®¾è®¡ç»éªŒ"><a href="#è®¾è®¡åŸåˆ™æå‡ä¸ºè®¾è®¡ç»éªŒ" class="headerlink" title="è®¾è®¡åŸåˆ™æå‡ä¸ºè®¾è®¡ç»éªŒ"></a>è®¾è®¡åŸåˆ™æå‡ä¸ºè®¾è®¡ç»éªŒ</h2><h3 id="ğŸˆè®¾è®¡ä¹ è¯­-Design-Idioms"><a href="#ğŸˆè®¾è®¡ä¹ è¯­-Design-Idioms" class="headerlink" title="ğŸˆè®¾è®¡ä¹ è¯­ Design Idioms"></a>ğŸˆè®¾è®¡ä¹ è¯­ Design Idioms</h3><p> Design Idioms æè¿°ä¸ç‰¹å®šç¼–ç¨‹è¯­è¨€ç›¸å…³çš„ä½å±‚æ¨¡å¼ï¼ŒæŠ€å·§ï¼Œ æƒ¯ç”¨æ³•ï¼ˆcpp primerï¼Œmore effect cppï¼‰ã€‚ </p><h3 id="ğŸˆè®¾è®¡æ¨¡å¼-Design-Patterns"><a href="#ğŸˆè®¾è®¡æ¨¡å¼-Design-Patterns" class="headerlink" title="ğŸˆè®¾è®¡æ¨¡å¼ Design Patterns"></a>ğŸˆè®¾è®¡æ¨¡å¼ Design Patterns</h3><p>Design Patternsä¸»è¦æè¿°çš„æ˜¯â€œ<strong>ç±»ä¸ç›¸äº’é€šä¿¡çš„å¯¹è±¡ä¹‹é—´çš„ç»„ç»‡å…³ç³»</strong>ï¼ŒåŒ…æ‹¬å®ƒä»¬çš„è§’è‰²ã€èŒè´£ã€åä½œæ–¹å¼ç­‰æ–¹é¢ã€‚ </p><h3 id="ğŸˆæ¶æ„æ¨¡å¼-Architectural-Patterns"><a href="#ğŸˆæ¶æ„æ¨¡å¼-Architectural-Patterns" class="headerlink" title="ğŸˆæ¶æ„æ¨¡å¼ Architectural Patterns"></a>ğŸˆæ¶æ„æ¨¡å¼ Architectural Patterns</h3><p> Architectural Patternsæè¿°<strong>ç³»ç»Ÿä¸­ä¸åŸºæœ¬ç»“æ„ç»„ç»‡å…³ç³»å¯†åˆ‡çš„é«˜å±‚æ¨¡å¼</strong>ï¼ŒåŒ…æ‹¬å­ç³»ç»Ÿåˆ’åˆ†ï¼ŒèŒè´£ï¼Œä»¥åŠå¦‚ä½•ç»„ç»‡å®ƒä»¬ä¹‹é—´å…³ç³»çš„è§„åˆ™ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>è®¾è®¡æ¨¡å¼</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-è®¾è®¡æ¨¡å¼ -cpp -æå»ºå¿ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>git</title>
    <link href="/2020/07/12/git/"/>
    <url>/2020/07/12/git/</url>
    
    <content type="html"><![CDATA[<h1 id="GITï¼ˆç‰ˆæœ¬ç®¡ç†è½¯ä»¶ï¼‰"><a href="#GITï¼ˆç‰ˆæœ¬ç®¡ç†è½¯ä»¶ï¼‰" class="headerlink" title="GITï¼ˆç‰ˆæœ¬ç®¡ç†è½¯ä»¶ï¼‰"></a>GITï¼ˆç‰ˆæœ¬ç®¡ç†è½¯ä»¶ï¼‰</h1><p>gitåªèƒ½ç®¡ç†å„ç§æ–‡æœ¬ä¿¡æ¯æ–‡ä»¶ï¼Œå¦‚ï¼ˆ.txt/.pyç­‰ç­‰ï¼‰ï¼Œåƒå›¾ç‰‡(.jpg,.docåˆ™ä¸èƒ½è¢«ç®¡ç†).</p><p>è¿™æ˜¯çœ‹è«çƒ¦Gitç³»åˆ—è§†é¢‘ä¸ªäººæ‰€åšç¬”è®°<a href="https://morvanzhou.github.io/tutorials/others/git/1-1-why/">ç‚¹å‡»è¿›å…¥è«çƒ¦bolg</a></p><h2 id="ç¬¬ä¸€ä¸ªç‰ˆæœ¬åº“repository"><a href="#ç¬¬ä¸€ä¸ªç‰ˆæœ¬åº“repository" class="headerlink" title="ç¬¬ä¸€ä¸ªç‰ˆæœ¬åº“repository"></a>ç¬¬ä¸€ä¸ªç‰ˆæœ¬åº“repository</h2><h3 id="1ã€å¸¸ç”¨å‘½ä»¤"><a href="#1ã€å¸¸ç”¨å‘½ä»¤" class="headerlink" title="1ã€å¸¸ç”¨å‘½ä»¤"></a>1ã€å¸¸ç”¨å‘½ä»¤</h3><p>1ã€<code>mkdir</code> ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å¤¹</p><p>2ã€<code>cd</code>   cd ~ è¿”å›æ ¹ç›®å½•ï¼ˆæ™®é€šç”¨æˆ·å’Œsuperç”¨æˆ·ä¸åŒï¼‰</p><p>3ã€<code>pwd</code>æ˜¾ç¤ºå½“å‰ç›®å½• (ç›®å½•ä¸è¦å«ä¸­æ–‡)</p><h3 id="2ã€å…³é”®æ“ä½œ"><a href="#2ã€å…³é”®æ“ä½œ" class="headerlink" title="2ã€å…³é”®æ“ä½œ"></a>2ã€å…³é”®æ“ä½œ</h3><h4 id="åˆ›å»ºç‰ˆæœ¬åº“-init"><a href="#åˆ›å»ºç‰ˆæœ¬åº“-init" class="headerlink" title="åˆ›å»ºç‰ˆæœ¬åº“(init)"></a>åˆ›å»ºç‰ˆæœ¬åº“(init)</h4><ul><li><p>åˆ›å»ºç”¨æˆ·<code>git config --global user.name &quot;qingcai56&quot;</code></p></li><li><p>ä¸ºåˆšæ‰åˆ›å»ºçš„ç”¨æˆ·æŒ‡å®šé‚®ç®±<code>git config --global user.email &quot;qc@email.com&quot;</code></p></li><li><p><code>config user.nameå’Œconfig user.email</code>æŸ¥è¯¢ç”¨æˆ·</p></li><li><p><code>git init</code>ç”Ÿæˆgitçš„ç®¡ç†æ–‡ä»¶</p></li><li><p><code>start git</code>æ‰“å¼€gitçš„ç®¡ç†æ–‡ä»¶</p></li></ul><h4 id="æ·»åŠ æ–‡ä»¶ç®¡ç†ï¼ˆaddï¼‰"><a href="#æ·»åŠ æ–‡ä»¶ç®¡ç†ï¼ˆaddï¼‰" class="headerlink" title="æ·»åŠ æ–‡ä»¶ç®¡ç†ï¼ˆaddï¼‰"></a>æ·»åŠ æ–‡ä»¶ç®¡ç†ï¼ˆaddï¼‰</h4><ul><li><code>touch  **.py/txt</code>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶</li><li><code>git add **.py/txt</code>æŠŠæ–‡ä»¶åŠ åˆ°gitç‰ˆæœ¬åº“ä¹‹ä¸­</li><li><code>git status</code>æŸ¥çœ‹å½“å‰ç‰ˆæœ¬åº“çš„çŠ¶æ€</li><li><code>git add .</code>addæ‰€æœ‰ç¨‹åº</li></ul><h4 id="æäº¤æ”¹å˜ï¼ˆcommitï¼‰"><a href="#æäº¤æ”¹å˜ï¼ˆcommitï¼‰" class="headerlink" title="æäº¤æ”¹å˜ï¼ˆcommitï¼‰"></a>æäº¤æ”¹å˜ï¼ˆcommitï¼‰</h4><ul><li><code>git commit -m &quot;create 1.py&quot;</code> æäº¤è¿™æ¬¡æ”¹å˜,å¼•å·ä¹‹ä¸­ä¸ºæœ¬æ¬¡æäº¤è¯´æ˜</li><li><strong>å¯ä»¥å¤šæ¬¡addæ–‡ä»¶ç”¨commitä¸€æ¬¡å¯ä»¥æäº¤å¤šä¸ªæ–‡ä»¶</strong></li></ul><p><img src="./0.png" alt=""></p><h2 id="ä¿®æ”¹è®°å½•"><a href="#ä¿®æ”¹è®°å½•" class="headerlink" title="ä¿®æ”¹è®°å½•"></a>ä¿®æ”¹è®°å½•</h2><p>â€‹        åœ¨gitä¹‹ä¸­ï¼Œæ¯ä¸€æ¬¡æäº¤ï¼ˆcommitï¼‰ä¿®æ”¹ï¼Œéƒ½ä¼šè¢«å•ç‹¬ä¿å­˜èµ·æ¥ï¼Œå°±å¥½åƒæ¸¸æˆé€šè¿‡æŸä¸€å…³è¦ä¿å­˜å­˜æ¡£ä¸€æ ·</p><h3 id="1ã€ä½¿ç”¨å‘½ä»¤"><a href="#1ã€ä½¿ç”¨å‘½ä»¤" class="headerlink" title="1ã€ä½¿ç”¨å‘½ä»¤"></a>1ã€ä½¿ç”¨å‘½ä»¤</h3><p>1ã€<code>git log</code> æŸ¥çœ‹ä¹‹å‰æ‰€æœ‰çš„ä¿®æ”¹è®°å½•</p><p>2ã€<code>git satus</code>æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„çŠ¶æ€</p><p>3ã€<code>git diff</code>æ¯”è¾ƒä¿®æ”¹åçš„çŠ¶æ€<strong>(modified)</strong>å’Œä¹‹å‰æäº¤çŠ¶æ€æœ‰ä»€ä¹ˆä¸åŒ<strong>(Unmodified)</strong></p><p>4ã€<code>git diff --cached</code> æ¯”è¾ƒ<strong>Staged</strong>çš„çŠ¶æ€å’Œä¸Šä¸€ä¸ª<strong>Commit</strong>çš„çŠ¶æ€çš„ä¸åŒ</p><p>5ã€<code>git diff HEAD</code>å†æ¬¡ä¿®æ”¹StageçŠ¶æ€æ–‡ä»¶æ¯”è¾ƒ<strong>stage&amp;unstage</strong>æœ‰ä»€ä¹ˆä¸åŒ</p><h3 id="2ã€æ¯”è¾ƒä¸‰ç§ä¸åŒå½¢å¼çš„diff"><a href="#2ã€æ¯”è¾ƒä¸‰ç§ä¸åŒå½¢å¼çš„diff" class="headerlink" title="2ã€æ¯”è¾ƒä¸‰ç§ä¸åŒå½¢å¼çš„diff"></a>2ã€æ¯”è¾ƒä¸‰ç§ä¸åŒå½¢å¼çš„diff</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> å¯¹æ¯”ä¸‰ç§ä¸åŒ diff å½¢å¼</span><br><span class="hljs-meta">$</span><span class="bash"> git diff HEAD     <span class="hljs-comment"># staged &amp; unstaged</span></span><br><br>@@ -1 +1,3 @@<br>-a = 1  # å·² staged<br>+a = 2  # å·² staged<br>+b = 1  # å·² staged<br>+c = b  # è¿˜æ²¡ add å» stage (unstaged)<br>-----------------------<br><span class="hljs-meta">$</span><span class="bash"> git diff          <span class="hljs-comment"># unstaged</span></span><br><br>@@ -1,2 +1,3 @@<br> a = 2  # æ³¨: å‰é¢æ²¡æœ‰ +<br> b = 1  # æ³¨: å‰é¢æ²¡æœ‰ +<br>+c = b  # è¿˜æ²¡ add å» stage (unstaged)<br>-----------------------<br><span class="hljs-meta">$</span><span class="bash"> git diff --cached <span class="hljs-comment"># staged</span></span><br><br>@@ -1 +1,2 @@<br>-a = 1  # å·² staged<br>+a = 2  # å·² staged<br>+b = 1  # å·² staged<br></code></pre></td></tr></table></figure><h2 id="å›åˆ°ä»å‰-reset"><a href="#å›åˆ°ä»å‰-reset" class="headerlink" title="å›åˆ°ä»å‰(reset)"></a>å›åˆ°ä»å‰(reset)</h2><h3 id="1ã€ä¿®æ”¹å·²commitçš„ç‰ˆæœ¬"><a href="#1ã€ä¿®æ”¹å·²commitçš„ç‰ˆæœ¬" class="headerlink" title="1ã€ä¿®æ”¹å·²commitçš„ç‰ˆæœ¬"></a>1ã€ä¿®æ”¹å·²commitçš„ç‰ˆæœ¬</h3><p>â€‹        æœ‰æ—¶å€™æˆ‘ä»¬æŠŠæ–‡ä»¶<code>commit</code>åˆ°ç‰ˆæœ¬åº“ä¹‹ä¸­ï¼Œå´å‘ç°è¿˜å¿˜äº†é™„ä¸Šå¦ä¸€ä¸ªæ–‡ä»¶ï¼Œä¾‹å¦‚æˆ‘ä»¬æœ€åä¸€ä¸ª<code>commit</code>æ˜¯<code>change 2</code>ï¼Œç‰ˆæœ¬å·<code>904e1ba</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æŠŠé™„ä»¶ä¹Ÿ<code>commit</code>è¿›<code>change 2</code>.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git add 2.py</span><br><span class="hljs-meta">$</span><span class="bash"> git commit --amend --no-edit   <span class="hljs-comment"># &quot;--no-edit&quot;: ä¸ç¼–è¾‘, ç›´æ¥åˆå¹¶åˆ°ä¸Šä¸€ä¸ª commit</span></span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline    <span class="hljs-comment"># &quot;--oneline&quot;: æ¯ä¸ª commit å†…å®¹æ˜¾ç¤ºåœ¨ä¸€è¡Œ</span></span><br></code></pre></td></tr></table></figure><h3 id="2ã€ä»Stageè¿”å›-reset-åˆ°addä¹‹å‰"><a href="#2ã€ä»Stageè¿”å›-reset-åˆ°addä¹‹å‰" class="headerlink" title="2ã€ä»Stageè¿”å›(reset)åˆ°addä¹‹å‰"></a>2ã€ä»Stageè¿”å›(reset)åˆ°addä¹‹å‰</h3><p>â€‹        æœ‰æ—¶æˆ‘ä»¬å·²ç»æŠŠæ–‡ä»¶<code>add</code>åˆ°<code>stage</code>ä¹‹ä¸­ï¼Œä½†æ˜¯æƒ³è¡¥å……ä¸€äº›æ–°å¾—å†…å®¹ï¼Œè¿™æ—¶ï¼Œæˆ‘ä»¬å¾—å›åˆ°<code>add</code>ä¹‹å‰ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git add 1.py</span><br><span class="hljs-meta">$</span><span class="bash"> git status -s <span class="hljs-comment"># &quot;-s&quot;: status çš„ç¼©å†™æ¨¡å¼</span></span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>M  1.py     # staged<br>-----------------------<br><span class="hljs-meta">$</span><span class="bash"> git reset 1.py</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>Unstaged changes after reset:<br>M1.py<br>-----------------------<br><span class="hljs-meta">$</span><span class="bash"> git status -s</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br> M 1.py     # unstaged<br></code></pre></td></tr></table></figure><h3 id="3ã€resetå›åˆ°comimitä¹‹å‰ï¼ˆæ—¶å…‰ç©¿æ¢­ï¼‰"><a href="#3ã€resetå›åˆ°comimitä¹‹å‰ï¼ˆæ—¶å…‰ç©¿æ¢­ï¼‰" class="headerlink" title="3ã€resetå›åˆ°comimitä¹‹å‰ï¼ˆæ—¶å…‰ç©¿æ¢­ï¼‰"></a>3ã€resetå›åˆ°comimitä¹‹å‰ï¼ˆæ—¶å…‰ç©¿æ¢­ï¼‰</h3><p>â€‹        æ¯ä¸ª <code>commit</code> éƒ½æœ‰è‡ªå·±çš„ <code>id</code> æ•°å­—å·, <code>HEAD</code> æ˜¯ä¸€ä¸ªæŒ‡é’ˆ, æŒ‡å¼•å½“å‰çš„çŠ¶æ€æ˜¯åœ¨å“ªä¸ª <code>commit</code>. æœ€è¿‘çš„ä¸€æ¬¡ <code>commit</code> åœ¨æœ€å³è¾¹, æˆ‘ä»¬å¦‚æœè¦å›åˆ°è¿‡å», å°±æ˜¯è®© <code>HEAD</code> å›åˆ°è¿‡å»å¹¶ <code>reset</code> æ­¤æ—¶çš„ <code>HEAD</code> åˆ°è¿‡å»çš„ä½ç½®.</p><p><img src="./-1.png" alt=""></p><p><img src="./-2.png" alt=""></p><p><img src="./-3.png" alt=""></p><p><img src="./-4.png" alt=""></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> ä¸ç®¡æˆ‘ä»¬ä¹‹å‰æœ‰æ²¡æœ‰åšäº†ä¸€äº› add å·¥ä½œ, è¿™ä¸€æ­¥è®©æˆ‘ä»¬å›åˆ° ä¸Šä¸€æ¬¡çš„ commit</span><br><span class="hljs-meta">$</span><span class="bash"> git reset --hard HEAD</span>    <br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>HEAD is now at 904e1ba change 2<br>-----------------------<br><span class="hljs-meta">#</span><span class="bash"> çœ‹çœ‹æ‰€æœ‰çš„<span class="hljs-built_in">log</span></span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>904e1ba change 2<br>c6762a1 change 1<br>13be9a7 create 1.py<br>-----------------------<br><span class="hljs-meta">#</span><span class="bash"> å›åˆ° c6762a1 change 1</span><br><span class="hljs-meta">#</span><span class="bash"> æ–¹å¼1: <span class="hljs-string">&quot;HEAD^&quot;</span> å‡ ä¸ªç®­å¤´å°±æ˜¯è¿”å›å‡ ä¸ªç‰ˆæœ¬</span><br><span class="hljs-meta">$</span><span class="bash"> git reset --hard HEAD^</span>   <br><br><span class="hljs-meta">#</span><span class="bash"> æ–¹å¼2: <span class="hljs-string">&quot;commit id&quot;</span></span><br><span class="hljs-meta">$</span><span class="bash"> git reset --hard c6762a1</span><br><br><span class="hljs-meta">#</span><span class="bash"> æ–¹å¼3: <span class="hljs-string">&quot;HEAD~&quot;</span> ~åé¢åŠ æ•°å­—,æ•°å­—å‡ å°±æ˜¯å‡ ä¸ªç‰ˆæœ¬</span><br><span class="hljs-meta">$</span><span class="bash"> git reset --hard ~1</span><br>-----------------------<br><span class="hljs-meta">#</span><span class="bash"> çœ‹çœ‹ç°åœ¨çš„ <span class="hljs-built_in">log</span></span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>c6762a1 change 1<br>13be9a7 create 1.py<br></code></pre></td></tr></table></figure><p>â€‹        æŠŠç‰ˆæœ¬åº“æŒ‡åˆ°<code>c6762a1</code>åå†ç”¨<code>log --oneline</code>æŸ¥çœ‹å‘ç°ä¹‹å‰å¾—<code>change 2</code>æ²¡äº†,è¿™æ˜¯æˆ‘ä¹ˆåˆ™éœ€è¦ç”¨<code>git reflog</code>æŸ¥çœ‹è¿‘æœŸå¯¹HEADå¾—æ‰€æœ‰æ”¹åŠ¨ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git reflog</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>c6762a1 HEAD@&#123;0&#125;: reset: moving to c6762a1<br>904e1ba HEAD@&#123;1&#125;: commit (amend): change 2<br>0107760 HEAD@&#123;2&#125;: commit: change 2<br>c6762a1 HEAD@&#123;3&#125;: commit: change 1<br>13be9a7 HEAD@&#123;4&#125;: commit (initial): create 1.py<br>-----------------------<br><span class="hljs-meta">#</span><span class="bash"> é‡å¤resetæ­¥éª¤å°±èƒ½å›åˆ°change2</span><br><span class="hljs-meta">$</span><span class="bash"> git reset --hard 904e1ba</span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>904e1ba change 2<br>c6762a1 change 1<br>13be9a7 create 1.py<br></code></pre></td></tr></table></figure><h2 id="å›åˆ°ä»å‰"><a href="#å›åˆ°ä»å‰" class="headerlink" title="å›åˆ°ä»å‰"></a>å›åˆ°ä»å‰</h2><h3 id="1ã€æ”¹å†™æ–‡ä»¶checkout"><a href="#1ã€æ”¹å†™æ–‡ä»¶checkout" class="headerlink" title="1ã€æ”¹å†™æ–‡ä»¶checkout"></a>1ã€æ”¹å†™æ–‡ä»¶checkout</h3><p>â€‹        ä¹‹å‰çš„<code>reset</code>æ˜¯é’ˆå¯¹æ•´ä¸ªç‰ˆæœ¬åº“ï¼Œä½†æ˜¯æœ‰æ—¶åªæƒ³ä¿®æ”¹æŸä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™æ—¶æˆ‘ä»¬å°±è¦ä½¿ç”¨checkoutè¯­å¥æ—¶å•ä¸ªæ–‡ä»¶å›åˆ°è¿‡å»ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>904e1ba change 2<br>c6762a1 change 1<br>13be9a7 create 1.py<br><br>---------------------<br><span class="hljs-meta">$</span><span class="bash"> git checkout c6762a1 -- 1.py</span><br><br><br>---------------------<br><span class="hljs-meta">$</span><span class="bash"> git add 1.py</span><br><span class="hljs-meta">$</span><span class="bash"> git commit -m <span class="hljs-string">&quot;back to change 1 and add comment for 1.py&quot;</span></span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>47f167e back to change 1 and add comment for 1.py<br>904e1ba change 2<br>c6762a1 change 1<br>13be9a7 create 1.py<br></code></pre></td></tr></table></figure><h2 id="åˆ†æ”¯ï¼ˆbranchï¼‰"><a href="#åˆ†æ”¯ï¼ˆbranchï¼‰" class="headerlink" title="åˆ†æ”¯ï¼ˆbranchï¼‰"></a>åˆ†æ”¯ï¼ˆbranchï¼‰</h2><p>â€‹        æœ‰æ—¶æˆ‘ä»¬éœ€è¦ä¸åŒçš„ç‰ˆæœ¬åº“ï¼ˆå¦‚å¼€å‘è½¯ä»¶çš„ç¨³å®šç‰ˆæœ¬å’Œæµ‹è¯•ç‰ˆï¼‰ï¼Œgitæä¾›åˆ†æ”¯ï¼ˆbranchï¼‰ç®¡ç†å»æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚</p><p><img src=".\1.svg" alt="1"></p><h3 id="1ã€ç”¨åˆ°çš„å‘½ä»¤"><a href="#1ã€ç”¨åˆ°çš„å‘½ä»¤" class="headerlink" title="1ã€ç”¨åˆ°çš„å‘½ä»¤"></a>1ã€ç”¨åˆ°çš„å‘½ä»¤</h3><p>1ã€<code>git log --oneline --graph</code> ç”¨<code>--graph</code>æŸ¥çœ‹åˆ†æ”¯.</p><p>2ã€<code>git branch dev</code> åˆ›å»ºåˆ†æ”¯<code>dev</code>.</p><p>3ã€<code>git checkout dev</code> åˆ‡æ¢åˆ°åˆ†æ”¯dev.</p><p>4ã€<code>git checkout -b  dev</code>åˆ›å»ºå¹¶åˆ‡æ¢åˆ°åˆ†æ”¯dev.</p><p>5ã€<code>git merge dev</code> æŠŠåˆ†æ”¯æ¨é€åˆ°masterï¼Œè¿™ä¸ªæ“ä½œè¦åœ¨masterä¸Šå®Œæˆ.</p><p>6ã€<code>git commit -am &quot;change 3 in dev&quot;</code>  ç®€åŒ–æ“ä½œå…ˆaddå†commitï¼Œä¸è¿‡è¦åœ¨umçŠ¶æ€ä¸‹.</p><h3 id="2ã€æ“ä½œä»£ç "><a href="#2ã€æ“ä½œä»£ç " class="headerlink" title="2ã€æ“ä½œä»£ç "></a>2ã€æ“ä½œä»£ç </h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout -b  dev               <span class="hljs-comment">#åˆ›å»ºå’Œåˆ‡æ¢åˆ°æ–°å»ºçš„åˆ†æ”¯</span></span><br><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>Switched to a new branch &#x27;dev&#x27;<br><br>--------------------------<br><span class="hljs-meta">$</span><span class="bash"> git branch</span><br><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>* dev                                 # è¿™æ—¶ HEAD å·²ç»è¢«åˆ‡æ¢è‡³ dev åˆ†æ”¯<br>  master<br>  <br>--------------------------            # ä¿®æ”¹devä¸­æ–‡ä»¶å¹¶æäº¤ <br><span class="hljs-meta">$</span><span class="bash"> git commit -am <span class="hljs-string">&quot;change 3 in dev&quot;</span>    <span class="hljs-comment"># &quot;-am&quot;: add æ‰€æœ‰æ”¹å˜ å¹¶ç›´æ¥ commit</span></span><br><br>--------------------------  <br><span class="hljs-meta">$</span><span class="bash"> git checkout master                 <span class="hljs-comment"># åˆ‡æ¢è‡³ master æ‰èƒ½æŠŠå…¶ä»–åˆ†æ”¯åˆå¹¶è¿‡æ¥</span></span><br><span class="hljs-meta">$</span><span class="bash"> git merge --no-ff -m <span class="hljs-string">&quot;keep merge info&quot;</span> dev     <span class="hljs-comment"># ä¿ç•™ merge ä¿¡æ¯</span></span><br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --graph</span><br><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>*   c60668f keep merge info<br>|\  <br>| * f9584f8 change 3 in dev                   # è¿™é‡Œå°±èƒ½çœ‹å‡º, æˆ‘ä»¬å»ºç«‹è¿‡ä¸€ä¸ªåˆ†æ”¯<br>|/  <br>* 47f167e back to change 1 and add comment for 1.py<br>* 904e1ba change 2<br>* c6762a1 change 1<br>* 13be9a7 create 1.py<br></code></pre></td></tr></table></figure><p>â€‹        <strong>æ³¨æ„ï¼šå¦‚æœç›´æ¥ <code>git merge dev</code>, git ä¼šé‡‡ç”¨é»˜è®¤çš„ <code>Fast forward</code> æ ¼å¼è¿›è¡Œ <code>merge</code>, è¿™æ · <code>merge</code> çš„è¿™æ¬¡æ“ä½œä¸ä¼šæœ‰ <code>commit</code> ä¿¡æ¯. <code>log</code> ä¸­ä¹Ÿä¸ä¼šæœ‰åˆ†æ”¯çš„å›¾æ¡ˆ. æˆ‘ä»¬å¯ä»¥é‡‡å– <code>--no-ff</code> è¿™ç§æ–¹å¼ä¿ç•™ <code>merge</code> çš„ <code>commit</code> ä¿¡æ¯.</strong></p><h2 id="mergeåˆ†æ”¯å†²çª"><a href="#mergeåˆ†æ”¯å†²çª" class="headerlink" title="mergeåˆ†æ”¯å†²çª"></a>mergeåˆ†æ”¯å†²çª</h2><p>â€‹        å¦‚æœæˆ‘ä»¬åœ¨devä¸­åšå‡ºä¿®æ”¹ï¼Œä½†æ˜¯masterè¿™æ—¶è¢«ä¿®æ”¹äº†,æˆ‘ä»¬è¦è¿›è¡Œåˆå¹¶ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™æ˜¯gitä¼šæŠ¥å‡ºAutomatic merge failed; fix conflicts and then commit the result.çš„é”™è¯¯ï¼Œæˆ‘ä»¬éœ€æ‰“å¼€æ–‡ä»¶æ‰‹åŠ¨è°ƒè¯•ä¿å­˜é‚£äº›å†…å®¹ã€‚</p><p><img src="./2.png" alt=""></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> è¿™æ˜¯ master çš„ <span class="hljs-built_in">log</span></span><br>* 3d7796e change 4 in master # è¿™ä¸€æ¡ commit å’Œ dev çš„ä¸ä¸€æ ·<br>* 47f167e back to change 1 and add comment for 1.py<br>* 904e1ba change 2<br>* c6762a1 change 1<br>* 13be9a7 create 1.py<br>-----------------------------<br><span class="hljs-meta">#</span><span class="bash"> è¿™æ˜¯ dev çš„ <span class="hljs-built_in">log</span></span><br>* f7d2e3a change 3 in dev   # è¿™ä¸€æ¡ commit å’Œ master çš„ä¸ä¸€æ ·<br>* 47f167e back to change 1 and add comment for 1.py<br>* 904e1ba change 2<br>* c6762a1 change 1<br>* 13be9a7 create 1.py<br><br><br>-------------------------<br><span class="hljs-meta">$</span><span class="bash"> git branch</span><br>  dev<br>* master<br>-------------------------<br><span class="hljs-meta">$</span><span class="bash"> git merge dev</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>Auto-merging 1.py<br>CONFLICT (content): Merge conflict in 1.py<br>Automatic merge failed; fix conflicts and then commit the result.<br><br><span class="hljs-meta">#</span><span class="bash"> æ‰“å¼€vscodeï¼Œgitå·²ç»å¸®æˆ‘ä»¬æŠŠå†²çªæ ‡è®°å‡ºæ¥äº†</span><br>a = 1<br><span class="hljs-meta">#</span><span class="bash"> I went back to change 1</span><br>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD<br><span class="hljs-meta">#</span><span class="bash"> edited <span class="hljs-keyword">in</span> master</span><br>=======<br><span class="hljs-meta">#</span><span class="bash"> edited <span class="hljs-keyword">in</span> dev</span><br><span class="hljs-meta">&gt;</span><span class="bash">&gt;&gt;&gt;&gt;&gt;&gt; dev</span><br>-------------------------<br><span class="hljs-meta">#</span><span class="bash"> æ‰‹åŠ¨è°ƒè¯•å¹¶æäº¤</span><br>a = 1<br><span class="hljs-meta">#</span><span class="bash"> I went back to change 1</span><br><span class="hljs-meta">#</span><span class="bash"> edited <span class="hljs-keyword">in</span> master and dev</span><br><span class="hljs-meta">$</span><span class="bash"> git commit -am <span class="hljs-string">&quot;solve conflict&quot;</span></span><br>-------------------------<br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --graph</span><br><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>*   7810065 solve conflict<br>|\  <br>| * f7d2e3a change 3 in dev<br>* | 3d7796e change 4 in master<br>|/  <br>* 47f167e back to change 1 and add comment for 1.py<br>* 904e1ba change 2<br>* c6762a1 change 1<br>* 13be9a7 create 1.py<br><br></code></pre></td></tr></table></figure><h2 id="rebaseåˆ†æ”¯å†²çª"><a href="#rebaseåˆ†æ”¯å†²çª" class="headerlink" title="rebaseåˆ†æ”¯å†²çª"></a>rebaseåˆ†æ”¯å†²çª</h2><p>â€‹        æ›´é«˜çº§çš„åˆå¹¶æ–¹å¼<code>rebase</code>ï¼Œå…±äº«çš„ branch æ˜¯ <code>branch B</code>, è€Œæˆ‘åœ¨ <code>branch A</code> ä¸Šå·¥ä½œ, æœ‰ä¸€å¤©æˆ‘å‘ç°<code>branch B</code>å·²ç»æœ‰ä¸€äº›å°æ›´æ–°, æˆ‘ä¹Ÿæƒ³è¯•è¯•æˆ‘çš„ç¨‹åºå’Œè¿™äº›å°æ›´æ–°å…¼ä¸å…¼å®¹, æˆ‘ä¹Ÿæˆ‘æƒ³åˆå¹¶, è¿™æ—¶å°±å¯ä»¥ç”¨ <code>rebase</code> æ¥è¡¥å……æˆ‘çš„åˆ†æ”¯<code>branch A</code>çš„å†…å®¹. è¡¥å……å®Œä»¥å, å’Œåé¢é‚£å¼ å›¾çš„ <code>merge</code> ä¸åŒ, æˆ‘è¿˜æ˜¯ç»§ç»­åœ¨ <code>C3</code> ä¸Šå·¥ä½œ, ä¸è¿‡æ­¤æ—¶çš„ <code>C3</code> çš„æœ¬è´¨å´ä¸ä¸€æ ·äº†, å› ä¸ºå¸æ”¶äº†é‚£äº›å°æ›´æ–°. æ‰€ä»¥æˆ‘ä»¬ç”¨ <code>C3&#39;</code> æ¥ä»£æ›¿.</p><p><img src="./3.png" alt=""></p><p><img src="./4.png" alt=""></p><p><img src="./5.png" alt=""></p><p><img src="./6.png" alt=""></p><p>â€‹        å¯ä»¥çœ‹å‡ºæˆ‘ä»¬å·¥ä½œçš„<code>C3</code>å·²ç»ä¸æ˜¯ä»<code>C1</code>è¡ç”Ÿæ¥çš„ï¼Œè¿™ä¸€ç‚¹å’Œ<code>merge</code>ä¸ä¸€æ ·ï¼Œ<code>merge</code>æ˜¯æŠŠC3å’Œ<code>C4</code>åˆå¹¶æˆä¸€ä¸ªæ–°çš„<code>C5</code>,å¦‚æœæ˜¯rebaseï¼Œé‚£ä½ å°±æŠŠåˆ«äººçš„å…±äº«å†…å®¹ç»™æ”¹å†™äº†ã€‚</p><p><img src="./7.png" alt=""></p><h3 id="1ã€é”™è¯¯ç¤ºä¾‹æŠŠä¸»åˆ†æ”¯åŸºäºä½ çš„åˆ†æ”¯ä¿®æ”¹"><a href="#1ã€é”™è¯¯ç¤ºä¾‹æŠŠä¸»åˆ†æ”¯åŸºäºä½ çš„åˆ†æ”¯ä¿®æ”¹" class="headerlink" title="1ã€é”™è¯¯ç¤ºä¾‹æŠŠä¸»åˆ†æ”¯åŸºäºä½ çš„åˆ†æ”¯ä¿®æ”¹"></a>1ã€é”™è¯¯ç¤ºä¾‹æŠŠä¸»åˆ†æ”¯åŸºäºä½ çš„åˆ†æ”¯ä¿®æ”¹</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> è¿™æ˜¯ master çš„ <span class="hljs-built_in">log</span></span><br>* 3d7796e change 4 in master # è¿™ä¸€æ¡ commit å’Œ dev çš„ä¸ä¸€æ ·<br>* 47f167e back to change 1 and add comment for 1.py<br>* 904e1ba change 2<br>* c6762a1 change 1<br>* 13be9a7 create 1.py<br>-----------------------------<br><br><span class="hljs-meta">#</span><span class="bash"> è¿™æ˜¯ dev çš„ <span class="hljs-built_in">log</span></span><br>* f7d2e3a change 3 in dev   # è¿™ä¸€æ¡ commit å’Œ master çš„ä¸ä¸€æ ·<br>* 47f167e back to change 1 and add comment for 1.py<br>* 904e1ba change 2<br>* c6762a1 change 1<br>* 13be9a7 create 1.py<br><br>-----------------------------<br><span class="hljs-meta">$</span><span class="bash"> git branch</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>  dev<br>* master<br>-------------------------<br><br><span class="hljs-meta">$</span><span class="bash"> git rebase dev</span> <br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º  æ˜¾ç¤ºæœ‰conflictè¦æ‰‹åŠ¨ä¿®æ”¹</span><br>First, rewinding head to replay your work on top of it...<br>Applying: change 3 in dev<br>Using index info to reconstruct a base tree...<br>M1.py<br>Falling back to patching base and 3-way merge...<br>Auto-merging 1.py<br>CONFLICT (content): Merge conflict in 1.py<br>error: Failed to merge in the changes.<br>Patch failed at 0001 change 3 in dev<br>The copy of the patch that failed is found in: .git/rebase-apply/patch<br><br>When you have resolved this problem, run &quot;git rebase --continue&quot;.<br>If you prefer to skip this patch, run &quot;git rebase --skip&quot; instead.<br>To check out the original branch and stop rebasing, run &quot;git rebase --abort&quot;.<br>-------------------------<br><br><span class="hljs-meta">$</span><span class="bash"> git add 1.py</span><br><span class="hljs-meta">$</span><span class="bash"> git rebase --<span class="hljs-built_in">continue</span></span><br>-------------------------<br><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --graph</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>* c844cb1 change 4 in master    # è¿™æ¡ commit åŸæœ¬çš„id=3d7796e, æ‰€ä»¥ master çš„å†å²è¢«ä¿®æ”¹<br>* f7d2e3a change 3 in dev       # rebase è¿‡æ¥çš„ dev commit<br>* 47f167e back to change 1 and add comment for 1.py<br>* 904e1ba change 2<br>* c6762a1 change 1<br>* 13be9a7 create 1.py<br></code></pre></td></tr></table></figure><p><strong>!! æ³¨æ„ !!</strong> è¿™ä¸ªä¾‹å­ä¹Ÿè¯´æ˜äº†ä½¿ç”¨ <code>rebase</code> è¦ä¸‡åˆ†å°å¿ƒ, åƒä¸‡ä¸è¦åœ¨å…±äº«çš„ branch ä¸­ <code>rebase</code>, ä¸ç„¶å°±åƒä¸Šé¢é‚£æ ·, ç°åœ¨ <code>master</code> çš„å†å²å·²ç»è¢« <code>rebase</code> æ”¹å˜äº†. <code>master</code> å½“ä¸­åˆ«äººæäº¤çš„ <code>change 4</code> å°±è¢«ä½ æ— æƒ…åœ°ä¿®æ”¹æ‰äº†, æ‰€ä»¥åƒä¸‡ä¸è¦åœ¨å…±äº«åˆ†æ”¯ä¸­ä½¿ç”¨ <code>rebase</code>.</p><h2 id="ä¸´æ—¶ä¿®æ”¹ï¼ˆstashï¼‰"><a href="#ä¸´æ—¶ä¿®æ”¹ï¼ˆstashï¼‰" class="headerlink" title="ä¸´æ—¶ä¿®æ”¹ï¼ˆstashï¼‰"></a>ä¸´æ—¶ä¿®æ”¹ï¼ˆstashï¼‰</h2><p>â€‹        æƒ³æƒ³æœ‰å¤©åœ¨å¼€å¼€å¿ƒå¿ƒåœ°æ”¹è¿›ä»£ç , çªç„¶æ¥åˆ°è€æ¿çš„ä¸€ä¸ªç”µè¯è¯´è¦æ”¹ä¹‹å‰çš„ä¸€ä¸ªç¨‹åº. æ€ä¹ˆåŠ? è™½ç„¶è¿˜éœ€è¦å¾ˆä¹…æ—¶é—´æ‰èƒ½æ”¹è¿›å®Œè‡ªå·±çš„ä»£ç , å¯æˆ‘æœ‰å¼ºè¿«ç—‡, åˆä¸æƒ³æŠŠè¦æ”¹çš„ç¨‹åºå’Œè‡ªå·±æ”¹è¿›ä»£ç çš„éƒ¨åˆ†ä¸€èµ· <code>commit</code> äº†.</p><p>è¿™æ—¶ <code>stash</code> å°±æ˜¯æˆ‘çš„æ•‘æ˜Ÿäº†. ç”¨ <code>stash</code> èƒ½å…ˆå°†æˆ‘çš„é‚£æ”¹è¿›çš„éƒ¨åˆ†æ”¾åœ¨ä¸€è¾¹åˆ†éš”å¼€æ¥. å†å¦å¤–å•ç‹¬å¤„ç†è€æ¿çš„ä»»åŠ¡.</p><h3 id="1ã€ä¸´æ—¶ä¿®æ”¹ä»£ç "><a href="#1ã€ä¸´æ—¶ä¿®æ”¹ä»£ç " class="headerlink" title="1ã€ä¸´æ—¶ä¿®æ”¹ä»£ç "></a>1ã€ä¸´æ—¶ä¿®æ”¹ä»£ç </h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout dev</span><br></code></pre></td></tr></table></figure><p>åœ¨ <code>dev</code> ä¸­çš„ <code>1.py</code> ä¸­åŠ ä¸Šä¸€è¡Œ <code># feel happy</code>, ç„¶åè€æ¿çš„ç”µè¯æ¥äº†, å¯æ˜¯æˆ‘è¿˜æ²¡æœ‰æ”¹è¿›å®Œè¿™äº›ä»£ç . æ‰€ä»¥æˆ‘å°±ç”¨ <code>stash</code> å°†è¿™äº›æ”¹å˜æš‚æ—¶æ”¾ä¸€è¾¹.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git status -s</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br> M 1.py<br>------------------ <br><span class="hljs-meta">$</span><span class="bash"> git stash</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>Saved working directory and index state WIP on dev: f7d2e3a change 3 in dev<br>HEAD is now at f7d2e3a change 3 in dev<br>-------------------<br><span class="hljs-meta">$</span><span class="bash"> git status</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>On branch dev<br>nothing to commit, working directory clean     # å¹²å‡€å¾—å¾ˆ<br></code></pre></td></tr></table></figure><p>â€‹        ç„¶åå»ä»<code>master</code>ä¸­å»ºç«‹æ–°åˆ†æ”¯å»å®Œæˆè€æ¿çš„ä»»åŠ¡ï¼Œ<code>merge</code>åˆå¹¶åˆ°<code>master</code>åæˆ‘ä»¬åœ¨è½¬ä¼šdev.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout dev</span><br><span class="hljs-meta">$</span><span class="bash"> git stash list    <span class="hljs-comment"># æŸ¥çœ‹åœ¨ stash ä¸­çš„ç¼“å­˜</span></span><br><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>stash@&#123;0&#125;: WIP on dev: f7d2e3a change 3 in dev<br><span class="hljs-meta">$</span><span class="bash"> git stash pop</span><br><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br>On branch dev<br>Changes not staged for commit:<br>  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)<br>  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)<br><br>modified:   1.py<br><br>no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)<br>Dropped refs/stash@&#123;0&#125; (23332b7edc105a579b09b127336240a45756a91c)<br>----------------------<br><span class="hljs-meta">$</span><span class="bash"> git status -s</span><br><span class="hljs-meta">#</span><span class="bash"> è¾“å‡º</span><br> M 1.py     # å’Œæœ€å¼€å§‹ä¸€æ ·äº†<br></code></pre></td></tr></table></figure><h2 id="githubåœ¨çº¿ç®¡ç†"><a href="#githubåœ¨çº¿ç®¡ç†" class="headerlink" title="githubåœ¨çº¿ç®¡ç†"></a>githubåœ¨çº¿ç®¡ç†</h2><h3 id="1ã€å»ºç«‹ç‰ˆæœ¬åº“"><a href="#1ã€å»ºç«‹ç‰ˆæœ¬åº“" class="headerlink" title="1ã€å»ºç«‹ç‰ˆæœ¬åº“"></a>1ã€å»ºç«‹ç‰ˆæœ¬åº“</h3><h3 id="2ã€é“¾æ¥æœ¬åœ°ç‰ˆæœ¬åº“"><a href="#2ã€é“¾æ¥æœ¬åœ°ç‰ˆæœ¬åº“" class="headerlink" title="2ã€é“¾æ¥æœ¬åœ°ç‰ˆæœ¬åº“"></a>2ã€é“¾æ¥æœ¬åœ°ç‰ˆæœ¬åº“</h3><h3 id="3ã€æœ¬åœ°æ¨é€ä¿®æ”¹"><a href="#3ã€æœ¬åœ°æ¨é€ä¿®æ”¹" class="headerlink" title="3ã€æœ¬åœ°æ¨é€ä¿®æ”¹"></a>3ã€æœ¬åœ°æ¨é€ä¿®æ”¹</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git remote add origin https://github.com/MorvanZhou/git-demo.git</span><br><span class="hljs-meta">#</span><span class="bash"> ä¸Šé¢httpsæ˜¯è«çƒ¦çš„ï¼Œé“¾æ¥æ—¶è®°å¾—æ¢æˆè‡ªå·±çš„</span><br><span class="hljs-meta">$</span><span class="bash"> git push -u origin master     <span class="hljs-comment"># æ¨é€æœ¬åœ° master å» origin</span></span><br><span class="hljs-meta">$</span><span class="bash"> git push -u origin dev        <span class="hljs-comment"># æ¨é€æœ¬åœ° dev  å» origin</span></span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>-git -how use</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
